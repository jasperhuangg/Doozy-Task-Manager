{"ast":null,"code":"var _jsxFileName = \"/Users/jasper.huang/Desktop/Personal_Projects/doozy_task_manager/client/src/todolist/Register.js\";\nimport React, { Component } from \"react\";\nimport \"./Login-Register.css\";\nimport { GoogleLogin } from \"react-google-login\";\nexport default class Register extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleGoogleOAuth = response => {\n      const username = response.profileObj.email;\n      const firstName = response.profileObj.givenName;\n      const lastName = response.profileObj.lastName;\n      const password = this.hashGoogleInfo(response); // add some sort of hashing function to this\n\n      const domain = \"http://localhost:9000\";\n      const url = domain + \"/accountExists\";\n      const body = JSON.stringify({\n        username: username\n      });\n      fetch(url, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: body\n      }).then(res => res.json()).then(res => {\n        if (res) this.props.verifyLogin(username, password);else this.props.createAccount(username, firstName, lastName, password, \"Google\");\n      });\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      firstName: \"\",\n      lastName: \"\"\n    };\n    this.passwordInput = React.createRef();\n  }\n\n  handleEmailChange(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  handleFirstNameChange(e) {\n    this.setState({\n      firstName: e.target.value\n    });\n  }\n\n  handleLastNameChange(e) {\n    this.setState({\n      lastName: e.target.value\n    });\n  }\n\n  handlePasswordChange(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  handleSubmit() {\n    const email = this.state.email;\n    const firstName = this.state.firstName;\n    const lastName = this.state.lastName;\n    const password = this.state.password;\n    this.props.createAccount(email, firstName, lastName, password, \"Conventional\");\n  }\n\n  handleKeyDown(e) {\n    if (e.keyCode === 13) {\n      this.handleSubmit();\n    }\n  }\n\n  reverseStr(str) {\n    if (str === \"\" || str === undefined || str === null) return \"3279ruwejsdnma;lno3 -5pyr eo;dilzk mnd1[  0vcp89'a jklt4-]1-83rdusah13\";\n    return str.split(\"\").reverse().join(\"\");\n  }\n\n  hashGoogleInfo(responseObj) {\n    const profileObj = responseObj.profileObj;\n    const firstName = this.reverseStr(profileObj.givenName);\n    const lastName = this.reverseStr(profileObj.familyName);\n    const googleId = this.reverseStr(profileObj.googleId);\n    const email = this.reverseStr(profileObj.email);\n    const rand1 = \"d9afspiuflj2kw0r392[pwiua esfljdkf[werpuasidflz;jk3dm2'- rw9eafpuisdjlzkc;3 j 80[weoadhls;jk 23np8we9asoudlh;zkxrj  f[2 e\";\n    const rand2 = \"483ruoeifdsjlvsgrhw4q5983;rlfkjDSGN,FDGHWB0YQ934TP8weio;gljgkhwtr07qy480rwuepjGKHRJIUWY5-03[94APW'OE;JTSKGNJWNLP8Q4029W\";\n    const rand3 = \"0283ROWIELFKDSK[p9 peua4oliwfjkdsfhdiouaotil;fewtq0uogprijsldhuoijao'ortk4ripfdhig;fk';wple-9stdpygihpfj'kQ\";\n    const rand4 = \"948otwrjafj408w[8aer9pifsdjqp49w;'etoisfaj49w0ep[orsiaj[w9eosdilhva5a049P;TJRpiJ0IO_*)OIPLYT(H08pytoi4ljwef\";\n    const rand5 = \"30rweisdjfak]Oi;gjanljrL;J;u;OFTYITF8d35q54tr1q2t4awregfghoikhliop'o=]iioufdrye5a243twretriot89y8upo'p[]pjuyb9tvrdw4teqrwteyrty0jpo\";\n    return rand1 + firstName + rand2 + lastName + rand3 + googleId + rand4 + email + rand5;\n  }\n\n  render() {\n    var warningMessage = \"\";\n    var emptyFields = new Array(4).fill(false);\n    if (this.props.registerInfo === \"username already exists\") warningMessage = \"An account with that email already exists. \";else if (this.props.registerInfo === \"invalid email\") warningMessage = \"Please enter a valid email address.\";else if (this.props.registerInfo === \"password length\") warningMessage = \"Password must be at least 6 characters.\";else if (this.props.registerInfo === \"empty field(s)\") {\n      warningMessage = \"Please fill in all fields.\";\n      emptyFields[0] = this.state.email === \"\";\n      emptyFields[1] = this.state.firstName === \"\";\n      emptyFields[2] = this.state.lastName === \"\";\n      emptyFields[3] = this.state.password === \"\";\n    }\n    const emailInputHighlighted = this.props.registerInfo === \"username already exists\" || this.props.registerInfo === \"invalid email\" || emptyFields[0];\n    const firstNameInputHighlighted = emptyFields[1];\n    const lastNameInputHighlighted = emptyFields[2];\n    const passwordInputHighlighted = this.props.registerInfo === \"password length\" || emptyFields[3];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Register py-5 px-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"text-left\",\n      style: {\n        fontWeight: \"600\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }\n    }, \"Create your account\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"google-btn google-btn-lg\",\n      style: {\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"google-icon-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"google-icon\",\n      alt: \"\",\n      src: \"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"google-button-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(GoogleLogin, {\n      clientId: \"777242510220-80aoinvqo7q39g1iqtafjet4stv1nnu7.apps.googleusercontent.com\",\n      render: renderProps => /*#__PURE__*/React.createElement(\"a\", {\n        onClick: renderProps.onClick,\n        disabled: renderProps.disabled,\n        className: \"btn-text no-bg-no-borders text-white text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 19\n        }\n      }, \"Sign up with Google\"),\n      buttonText: \"Sign Up with Google\",\n      onSuccess: this.handleGoogleOAuth,\n      onFailure: () => {// alert(\"Google OAuth Failed.\");\n      },\n      cookiePolicy: \"single_host_origin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"or-separator my-2 w-100 text-center font-grey\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"px-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }\n    }, \"or\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"font-small-login-reg text-danger py-2\" + (warningMessage === \"\" ? \" d-none\" : \"\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }\n    }, warningMessage), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"font-grey font-small-login-reg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"login-email-input\",\n      style: {\n        fontWeight: \"500\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }\n    }, \"Email Address\", \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group input-group-sm mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control form-control-sm\" + (emailInputHighlighted ? \" border-danger\" : \"\"),\n      id: \"login-email-input\",\n      \"aria-describedby\": \"emailHelp\",\n      onChange: e => this.handleEmailChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"login-firstName-input\",\n      style: {\n        fontWeight: \"500\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }\n    }, \"First Name\", \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group input-group-sm mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control form-control-sm \" + (firstNameInputHighlighted ? \" border-danger\" : \"\"),\n      id: \"login-firstName-input\",\n      \"aria-describedby\": \"emailHelp\",\n      onChange: e => this.handleFirstNameChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"login-lastName-input\",\n      style: {\n        fontWeight: \"500\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }\n    }, \"Last Name\", \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group input-group-sm mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control form-control-sm\" + (lastNameInputHighlighted ? \" border-danger\" : \"\"),\n      id: \"login-lastName-input\",\n      \"aria-describedby\": \"emailHelp\",\n      onChange: e => this.handleLastNameChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"login-password-input\",\n      style: {\n        fontWeight: \"500\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 13\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control form-control-sm\" + (passwordInputHighlighted ? \" border-danger\" : \"\"),\n      id: \"login-password-input\",\n      onChange: e => this.handlePasswordChange(e),\n      onKeyDown: e => this.handleKeyDown(e),\n      ref: this.passwordInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary px-4 font-small-login-reg\",\n      type: \"button\",\n      onClick: () => this.handleSubmit(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 11\n      }\n    }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"ml-3 font-small-login-reg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 11\n      }\n    }, \"Already have an account?\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n      onClick: () => {\n        this.props.switchToLogin();\n      },\n      className: \"text-primary toggle-prompt-text\",\n      style: {\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 13\n      }\n    }, \"Log In\"))));\n  }\n\n}","map":{"version":3,"sources":["/Users/jasper.huang/Desktop/Personal_Projects/doozy_task_manager/client/src/todolist/Register.js"],"names":["React","Component","GoogleLogin","Register","constructor","props","handleGoogleOAuth","response","username","profileObj","email","firstName","givenName","lastName","password","hashGoogleInfo","domain","url","body","JSON","stringify","fetch","method","headers","then","res","json","verifyLogin","createAccount","state","passwordInput","createRef","handleEmailChange","e","setState","target","value","handleFirstNameChange","handleLastNameChange","handlePasswordChange","handleSubmit","handleKeyDown","keyCode","reverseStr","str","undefined","split","reverse","join","responseObj","familyName","googleId","rand1","rand2","rand3","rand4","rand5","render","warningMessage","emptyFields","Array","fill","registerInfo","emailInputHighlighted","firstNameInputHighlighted","lastNameInputHighlighted","passwordInputHighlighted","fontWeight","cursor","renderProps","onClick","disabled","switchToLogin"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,sBAAP;AACA,SAASC,WAAT,QAA4B,oBAA5B;AAEA,eAAe,MAAMC,QAAN,SAAuBF,SAAvB,CAAiC;AAC9CG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAqFnBC,iBArFmB,GAqFEC,QAAD,IAAc;AAChC,YAAMC,QAAQ,GAAGD,QAAQ,CAACE,UAAT,CAAoBC,KAArC;AACA,YAAMC,SAAS,GAAGJ,QAAQ,CAACE,UAAT,CAAoBG,SAAtC;AACA,YAAMC,QAAQ,GAAGN,QAAQ,CAACE,UAAT,CAAoBI,QAArC;AACA,YAAMC,QAAQ,GAAG,KAAKC,cAAL,CAAoBR,QAApB,CAAjB,CAJgC,CAIgB;;AAChD,YAAMS,MAAM,GAAG,uBAAf;AACA,YAAMC,GAAG,GAAGD,MAAM,GAAG,gBAArB;AACA,YAAME,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAC1BZ,QAAAA,QAAQ,EAAEA;AADgB,OAAf,CAAb;AAIAa,MAAAA,KAAK,CAACJ,GAAD,EAAM;AACTK,QAAAA,MAAM,EAAE,MADC;AAETC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFA;AAKTL,QAAAA,IAAI,EAAEA;AALG,OAAN,CAAL,CAOGM,IAPH,CAOSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAPjB,EAQGF,IARH,CAQSC,GAAD,IAAS;AACb,YAAIA,GAAJ,EAAS,KAAKpB,KAAL,CAAWsB,WAAX,CAAuBnB,QAAvB,EAAiCM,QAAjC,EAAT,KAEE,KAAKT,KAAL,CAAWuB,aAAX,CACEpB,QADF,EAEEG,SAFF,EAGEE,QAHF,EAIEC,QAJF,EAKE,QALF;AAOH,OAlBH;AAmBD,KAnHkB;;AAEjB,SAAKe,KAAL,GAAa;AACXnB,MAAAA,KAAK,EAAE,EADI;AAEXI,MAAAA,QAAQ,EAAE,EAFC;AAGXH,MAAAA,SAAS,EAAE,EAHA;AAIXE,MAAAA,QAAQ,EAAE;AAJC,KAAb;AAMA,SAAKiB,aAAL,GAAqB9B,KAAK,CAAC+B,SAAN,EAArB;AACD;;AAEDC,EAAAA,iBAAiB,CAACC,CAAD,EAAI;AACnB,SAAKC,QAAL,CAAc;AAAExB,MAAAA,KAAK,EAAEuB,CAAC,CAACE,MAAF,CAASC;AAAlB,KAAd;AACD;;AAEDC,EAAAA,qBAAqB,CAACJ,CAAD,EAAI;AACvB,SAAKC,QAAL,CAAc;AAAEvB,MAAAA,SAAS,EAAEsB,CAAC,CAACE,MAAF,CAASC;AAAtB,KAAd;AACD;;AAEDE,EAAAA,oBAAoB,CAACL,CAAD,EAAI;AACtB,SAAKC,QAAL,CAAc;AAAErB,MAAAA,QAAQ,EAAEoB,CAAC,CAACE,MAAF,CAASC;AAArB,KAAd;AACD;;AAEDG,EAAAA,oBAAoB,CAACN,CAAD,EAAI;AACtB,SAAKC,QAAL,CAAc;AAAEpB,MAAAA,QAAQ,EAAEmB,CAAC,CAACE,MAAF,CAASC;AAArB,KAAd;AACD;;AAEDI,EAAAA,YAAY,GAAG;AACb,UAAM9B,KAAK,GAAG,KAAKmB,KAAL,CAAWnB,KAAzB;AACA,UAAMC,SAAS,GAAG,KAAKkB,KAAL,CAAWlB,SAA7B;AACA,UAAME,QAAQ,GAAG,KAAKgB,KAAL,CAAWhB,QAA5B;AACA,UAAMC,QAAQ,GAAG,KAAKe,KAAL,CAAWf,QAA5B;AACA,SAAKT,KAAL,CAAWuB,aAAX,CACElB,KADF,EAEEC,SAFF,EAGEE,QAHF,EAIEC,QAJF,EAKE,cALF;AAOD;;AAED2B,EAAAA,aAAa,CAACR,CAAD,EAAI;AACf,QAAIA,CAAC,CAACS,OAAF,KAAc,EAAlB,EAAsB;AACpB,WAAKF,YAAL;AACD;AACF;;AAEDG,EAAAA,UAAU,CAACC,GAAD,EAAM;AACd,QAAIA,GAAG,KAAK,EAAR,IAAcA,GAAG,KAAKC,SAAtB,IAAmCD,GAAG,KAAK,IAA/C,EACE,OAAO,wEAAP;AACF,WAAOA,GAAG,CAACE,KAAJ,CAAU,EAAV,EAAcC,OAAd,GAAwBC,IAAxB,CAA6B,EAA7B,CAAP;AACD;;AAEDjC,EAAAA,cAAc,CAACkC,WAAD,EAAc;AAC1B,UAAMxC,UAAU,GAAGwC,WAAW,CAACxC,UAA/B;AAEA,UAAME,SAAS,GAAG,KAAKgC,UAAL,CAAgBlC,UAAU,CAACG,SAA3B,CAAlB;AACA,UAAMC,QAAQ,GAAG,KAAK8B,UAAL,CAAgBlC,UAAU,CAACyC,UAA3B,CAAjB;AACA,UAAMC,QAAQ,GAAG,KAAKR,UAAL,CAAgBlC,UAAU,CAAC0C,QAA3B,CAAjB;AACA,UAAMzC,KAAK,GAAG,KAAKiC,UAAL,CAAgBlC,UAAU,CAACC,KAA3B,CAAd;AAEA,UAAM0C,KAAK,GACT,2HADF;AAEA,UAAMC,KAAK,GACT,yHADF;AAEA,UAAMC,KAAK,GACT,6GADF;AAEA,UAAMC,KAAK,GACT,6GADF;AAEA,UAAMC,KAAK,GACT,qIADF;AAGA,WACEJ,KAAK,GACLzC,SADA,GAEA0C,KAFA,GAGAxC,QAHA,GAIAyC,KAJA,GAKAH,QALA,GAMAI,KANA,GAOA7C,KAPA,GAQA8C,KATF;AAWD;;AAkCDC,EAAAA,MAAM,GAAG;AACP,QAAIC,cAAc,GAAG,EAArB;AACA,QAAIC,WAAW,GAAG,IAAIC,KAAJ,CAAU,CAAV,EAAaC,IAAb,CAAkB,KAAlB,CAAlB;AAEA,QAAI,KAAKxD,KAAL,CAAWyD,YAAX,KAA4B,yBAAhC,EACEJ,cAAc,GAAG,6CAAjB,CADF,KAEK,IAAI,KAAKrD,KAAL,CAAWyD,YAAX,KAA4B,eAAhC,EACHJ,cAAc,GAAG,qCAAjB,CADG,KAEA,IAAI,KAAKrD,KAAL,CAAWyD,YAAX,KAA4B,iBAAhC,EACHJ,cAAc,GAAG,yCAAjB,CADG,KAEA,IAAI,KAAKrD,KAAL,CAAWyD,YAAX,KAA4B,gBAAhC,EAAkD;AACrDJ,MAAAA,cAAc,GAAG,4BAAjB;AACAC,MAAAA,WAAW,CAAC,CAAD,CAAX,GAAiB,KAAK9B,KAAL,CAAWnB,KAAX,KAAqB,EAAtC;AACAiD,MAAAA,WAAW,CAAC,CAAD,CAAX,GAAiB,KAAK9B,KAAL,CAAWlB,SAAX,KAAyB,EAA1C;AACAgD,MAAAA,WAAW,CAAC,CAAD,CAAX,GAAiB,KAAK9B,KAAL,CAAWhB,QAAX,KAAwB,EAAzC;AACA8C,MAAAA,WAAW,CAAC,CAAD,CAAX,GAAiB,KAAK9B,KAAL,CAAWf,QAAX,KAAwB,EAAzC;AACD;AAED,UAAMiD,qBAAqB,GACzB,KAAK1D,KAAL,CAAWyD,YAAX,KAA4B,yBAA5B,IACA,KAAKzD,KAAL,CAAWyD,YAAX,KAA4B,eAD5B,IAEAH,WAAW,CAAC,CAAD,CAHb;AAIA,UAAMK,yBAAyB,GAAGL,WAAW,CAAC,CAAD,CAA7C;AACA,UAAMM,wBAAwB,GAAGN,WAAW,CAAC,CAAD,CAA5C;AACA,UAAMO,wBAAwB,GAC5B,KAAK7D,KAAL,CAAWyD,YAAX,KAA4B,iBAA5B,IAAiDH,WAAW,CAAC,CAAD,CAD9D;AAGA,wBACE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,WAAd;AAA0B,MAAA,KAAK,EAAE;AAAEQ,QAAAA,UAAU,EAAE;AAAd,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,eAME;AAAK,MAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,SAAS,EAAC,0BADZ;AAEE,MAAA,KAAK,EAAE;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAIE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,SAAS,EAAC,aADZ;AAEE,MAAA,GAAG,EAAC,EAFN;AAGE,MAAA,GAAG,EAAC,6EAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAJF,eAWE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,WAAD;AACE,MAAA,QAAQ,EAAC,0EADX;AAEE,MAAA,MAAM,EAAGC,WAAD,iBACN;AACE,QAAA,OAAO,EAAEA,WAAW,CAACC,OADvB;AAEE,QAAA,QAAQ,EAAED,WAAW,CAACE,QAFxB;AAGE,QAAA,SAAS,EAAC,kDAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAHJ;AAWE,MAAA,UAAU,EAAC,qBAXb;AAYE,MAAA,SAAS,EAAE,KAAKjE,iBAZlB;AAaE,MAAA,SAAS,EAAE,MAAM,CACf;AACD,OAfH;AAgBE,MAAA,YAAY,EAAE,oBAhBhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAXF,CADF,CANF,eAwCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxCF,eAyCE;AAAK,MAAA,SAAS,EAAC,+CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CAzCF,eA4CE;AACE,MAAA,SAAS,EACP,2CACCoD,cAAc,KAAK,EAAnB,GAAwB,SAAxB,GAAoC,EADrC,CAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMGA,cANH,CA5CF,eAoDE;AAAM,MAAA,SAAS,EAAC,gCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,OAAO,EAAC,mBAAf;AAAmC,MAAA,KAAK,EAAE;AAAES,QAAAA,UAAU,EAAE;AAAd,OAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACgB,GADhB,CADF,eAIE;AAAK,MAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,SAAS,EACP,kCACCJ,qBAAqB,GAAG,gBAAH,GAAsB,EAD5C,CAHJ;AAME,MAAA,EAAE,EAAC,mBANL;AAOE,0BAAiB,WAPnB;AAQE,MAAA,QAAQ,EAAG9B,CAAD,IAAO,KAAKD,iBAAL,CAAuBC,CAAvB,CARnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAJF,eAgBE;AAAO,MAAA,OAAO,EAAC,uBAAf;AAAuC,MAAA,KAAK,EAAE;AAAEkC,QAAAA,UAAU,EAAE;AAAd,OAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACa,GADb,CAhBF,eAmBE;AAAK,MAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,SAAS,EACP,mCACCH,yBAAyB,GAAG,gBAAH,GAAsB,EADhD,CAHJ;AAME,MAAA,EAAE,EAAC,uBANL;AAOE,0BAAiB,WAPnB;AAQE,MAAA,QAAQ,EAAG/B,CAAD,IAAO,KAAKI,qBAAL,CAA2BJ,CAA3B,CARnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAnBF,eAgCE;AAAO,MAAA,OAAO,EAAC,sBAAf;AAAsC,MAAA,KAAK,EAAE;AAAEkC,QAAAA,UAAU,EAAE;AAAd,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACY,GADZ,CAhCF,eAmCE;AAAK,MAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,SAAS,EACP,kCACCF,wBAAwB,GAAG,gBAAH,GAAsB,EAD/C,CAHJ;AAME,MAAA,EAAE,EAAC,sBANL;AAOE,0BAAiB,WAPnB;AAQE,MAAA,QAAQ,EAAGhC,CAAD,IAAO,KAAKK,oBAAL,CAA0BL,CAA1B,CARnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAnCF,eAgDE;AAAK,MAAA,SAAS,EAAE,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,OAAO,EAAC,sBAAf;AAAsC,MAAA,KAAK,EAAE;AAAEkC,QAAAA,UAAU,EAAE;AAAd,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,SAAS,EACP,kCACCD,wBAAwB,GAAG,gBAAH,GAAsB,EAD/C,CAHJ;AAME,MAAA,EAAE,EAAC,sBANL;AAOE,MAAA,QAAQ,EAAGjC,CAAD,IAAO,KAAKM,oBAAL,CAA0BN,CAA1B,CAPnB;AAQE,MAAA,SAAS,EAAGA,CAAD,IAAO,KAAKQ,aAAL,CAAmBR,CAAnB,CARpB;AASE,MAAA,GAAG,EAAE,KAAKH,aATZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CAhDF,eAgEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhEF,eAiEE;AACE,MAAA,SAAS,EAAC,2CADZ;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,OAAO,EAAE,MAAM,KAAKU,YAAL,EAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKG,SALH,CAjEF,eAyEE;AAAM,MAAA,SAAS,EAAC,2BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAC2B,GAD3B,eAEE;AACE,MAAA,OAAO,EAAE,MAAM;AACb,aAAKnC,KAAL,CAAWmE,aAAX;AACD,OAHH;AAIE,MAAA,SAAS,EAAC,iCAJZ;AAKE,MAAA,KAAK,EAAE;AAAEJ,QAAAA,MAAM,EAAE;AAAV,OALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CAzEF,CApDF,CADF;AA6ID;;AA9R6C","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Login-Register.css\";\nimport { GoogleLogin } from \"react-google-login\";\n\nexport default class Register extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      firstName: \"\",\n      lastName: \"\",\n    };\n    this.passwordInput = React.createRef();\n  }\n\n  handleEmailChange(e) {\n    this.setState({ email: e.target.value });\n  }\n\n  handleFirstNameChange(e) {\n    this.setState({ firstName: e.target.value });\n  }\n\n  handleLastNameChange(e) {\n    this.setState({ lastName: e.target.value });\n  }\n\n  handlePasswordChange(e) {\n    this.setState({ password: e.target.value });\n  }\n\n  handleSubmit() {\n    const email = this.state.email;\n    const firstName = this.state.firstName;\n    const lastName = this.state.lastName;\n    const password = this.state.password;\n    this.props.createAccount(\n      email,\n      firstName,\n      lastName,\n      password,\n      \"Conventional\"\n    );\n  }\n\n  handleKeyDown(e) {\n    if (e.keyCode === 13) {\n      this.handleSubmit();\n    }\n  }\n\n  reverseStr(str) {\n    if (str === \"\" || str === undefined || str === null)\n      return \"3279ruwejsdnma;lno3 -5pyr eo;dilzk mnd1[  0vcp89'a jklt4-]1-83rdusah13\";\n    return str.split(\"\").reverse().join(\"\");\n  }\n\n  hashGoogleInfo(responseObj) {\n    const profileObj = responseObj.profileObj;\n\n    const firstName = this.reverseStr(profileObj.givenName);\n    const lastName = this.reverseStr(profileObj.familyName);\n    const googleId = this.reverseStr(profileObj.googleId);\n    const email = this.reverseStr(profileObj.email);\n\n    const rand1 =\n      \"d9afspiuflj2kw0r392[pwiua esfljdkf[werpuasidflz;jk3dm2'- rw9eafpuisdjlzkc;3 j 80[weoadhls;jk 23np8we9asoudlh;zkxrj  f[2 e\";\n    const rand2 =\n      \"483ruoeifdsjlvsgrhw4q5983;rlfkjDSGN,FDGHWB0YQ934TP8weio;gljgkhwtr07qy480rwuepjGKHRJIUWY5-03[94APW'OE;JTSKGNJWNLP8Q4029W\";\n    const rand3 =\n      \"0283ROWIELFKDSK[p9 peua4oliwfjkdsfhdiouaotil;fewtq0uogprijsldhuoijao'ortk4ripfdhig;fk';wple-9stdpygihpfj'kQ\";\n    const rand4 =\n      \"948otwrjafj408w[8aer9pifsdjqp49w;'etoisfaj49w0ep[orsiaj[w9eosdilhva5a049P;TJRpiJ0IO_*)OIPLYT(H08pytoi4ljwef\";\n    const rand5 =\n      \"30rweisdjfak]Oi;gjanljrL;J;u;OFTYITF8d35q54tr1q2t4awregfghoikhliop'o=]iioufdrye5a243twretriot89y8upo'p[]pjuyb9tvrdw4teqrwteyrty0jpo\";\n\n    return (\n      rand1 +\n      firstName +\n      rand2 +\n      lastName +\n      rand3 +\n      googleId +\n      rand4 +\n      email +\n      rand5\n    );\n  }\n\n  handleGoogleOAuth = (response) => {\n    const username = response.profileObj.email;\n    const firstName = response.profileObj.givenName;\n    const lastName = response.profileObj.lastName;\n    const password = this.hashGoogleInfo(response); // add some sort of hashing function to this\n    const domain = \"http://localhost:9000\";\n    const url = domain + \"/accountExists\";\n    const body = JSON.stringify({\n      username: username,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        if (res) this.props.verifyLogin(username, password);\n        else\n          this.props.createAccount(\n            username,\n            firstName,\n            lastName,\n            password,\n            \"Google\"\n          );\n      });\n  };\n\n  render() {\n    var warningMessage = \"\";\n    var emptyFields = new Array(4).fill(false);\n\n    if (this.props.registerInfo === \"username already exists\")\n      warningMessage = \"An account with that email already exists. \";\n    else if (this.props.registerInfo === \"invalid email\")\n      warningMessage = \"Please enter a valid email address.\";\n    else if (this.props.registerInfo === \"password length\")\n      warningMessage = \"Password must be at least 6 characters.\";\n    else if (this.props.registerInfo === \"empty field(s)\") {\n      warningMessage = \"Please fill in all fields.\";\n      emptyFields[0] = this.state.email === \"\";\n      emptyFields[1] = this.state.firstName === \"\";\n      emptyFields[2] = this.state.lastName === \"\";\n      emptyFields[3] = this.state.password === \"\";\n    }\n\n    const emailInputHighlighted =\n      this.props.registerInfo === \"username already exists\" ||\n      this.props.registerInfo === \"invalid email\" ||\n      emptyFields[0];\n    const firstNameInputHighlighted = emptyFields[1];\n    const lastNameInputHighlighted = emptyFields[2];\n    const passwordInputHighlighted =\n      this.props.registerInfo === \"password length\" || emptyFields[3];\n\n    return (\n      <div className=\"Register py-5 px-4\">\n        <h5 className=\"text-left\" style={{ fontWeight: \"600\" }}>\n          Create your account\n        </h5>\n        <br />\n        <br />\n        <div className=\"d-flex justify-content-center\">\n          <div\n            className=\"google-btn google-btn-lg\"\n            style={{ cursor: \"pointer\" }}\n          >\n            <div className=\"google-icon-wrapper\">\n              <img\n                className=\"google-icon\"\n                alt=\"\"\n                src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\n              />\n            </div>\n            <div className=\"google-button-text\">\n              <GoogleLogin\n                clientId=\"777242510220-80aoinvqo7q39g1iqtafjet4stv1nnu7.apps.googleusercontent.com\"\n                render={(renderProps) => (\n                  <a\n                    onClick={renderProps.onClick}\n                    disabled={renderProps.disabled}\n                    className=\"btn-text no-bg-no-borders text-white text-center\"\n                  >\n                    Sign up with Google\n                  </a>\n                )}\n                buttonText=\"Sign Up with Google\"\n                onSuccess={this.handleGoogleOAuth}\n                onFailure={() => {\n                  // alert(\"Google OAuth Failed.\");\n                }}\n                cookiePolicy={\"single_host_origin\"}\n              />\n            </div>\n          </div>\n        </div>\n        <br />\n        <div className=\"or-separator my-2 w-100 text-center font-grey\">\n          <span className=\"px-1\">or</span>\n        </div>\n        <div\n          className={\n            \"font-small-login-reg text-danger py-2\" +\n            (warningMessage === \"\" ? \" d-none\" : \"\")\n          }\n        >\n          {warningMessage}\n        </div>\n        <form className=\"font-grey font-small-login-reg\">\n          <label htmlFor=\"login-email-input\" style={{ fontWeight: \"500\" }}>\n            Email Address{\" \"}\n          </label>\n          <div className=\"input-group input-group-sm mb-3\">\n            <input\n              type=\"email\"\n              className={\n                \"form-control form-control-sm\" +\n                (emailInputHighlighted ? \" border-danger\" : \"\")\n              }\n              id=\"login-email-input\"\n              aria-describedby=\"emailHelp\"\n              onChange={(e) => this.handleEmailChange(e)}\n            />\n          </div>\n          <label htmlFor=\"login-firstName-input\" style={{ fontWeight: \"500\" }}>\n            First Name{\" \"}\n          </label>\n          <div className=\"input-group input-group-sm mb-3\">\n            <br></br>\n            <input\n              type=\"text\"\n              className={\n                \"form-control form-control-sm \" +\n                (firstNameInputHighlighted ? \" border-danger\" : \"\")\n              }\n              id=\"login-firstName-input\"\n              aria-describedby=\"emailHelp\"\n              onChange={(e) => this.handleFirstNameChange(e)}\n            />\n          </div>\n          <label htmlFor=\"login-lastName-input\" style={{ fontWeight: \"500\" }}>\n            Last Name{\" \"}\n          </label>\n          <div className=\"input-group input-group-sm mb-3\">\n            <br></br>\n            <input\n              type=\"text\"\n              className={\n                \"form-control form-control-sm\" +\n                (lastNameInputHighlighted ? \" border-danger\" : \"\")\n              }\n              id=\"login-lastName-input\"\n              aria-describedby=\"emailHelp\"\n              onChange={(e) => this.handleLastNameChange(e)}\n            />\n          </div>\n          <div className={\"form-group\"}>\n            <label htmlFor=\"login-password-input\" style={{ fontWeight: \"500\" }}>\n              Password\n            </label>\n            <input\n              type=\"password\"\n              className={\n                \"form-control form-control-sm\" +\n                (passwordInputHighlighted ? \" border-danger\" : \"\")\n              }\n              id=\"login-password-input\"\n              onChange={(e) => this.handlePasswordChange(e)}\n              onKeyDown={(e) => this.handleKeyDown(e)}\n              ref={this.passwordInput}\n            />\n          </div>\n          <br />\n          <button\n            className=\"btn btn-primary px-4 font-small-login-reg\"\n            type=\"button\"\n            onClick={() => this.handleSubmit()}\n          >\n            {\"Sign Up\"}\n          </button>\n\n          <span className=\"ml-3 font-small-login-reg\">\n            Already have an account?{\" \"}\n            <span\n              onClick={() => {\n                this.props.switchToLogin();\n              }}\n              className=\"text-primary toggle-prompt-text\"\n              style={{ cursor: \"pointer\" }}\n            >\n              Log In\n            </span>\n          </span>\n        </form>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}