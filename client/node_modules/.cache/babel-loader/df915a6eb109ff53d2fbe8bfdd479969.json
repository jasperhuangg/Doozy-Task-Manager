{"ast":null,"code":"import _classCallCheck from\"/Users/jasper.huang/Desktop/Personal_Projects/doozy_task_manager/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jasper.huang/Desktop/Personal_Projects/doozy_task_manager/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/jasper.huang/Desktop/Personal_Projects/doozy_task_manager/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/jasper.huang/Desktop/Personal_Projects/doozy_task_manager/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jasper.huang/Desktop/Personal_Projects/doozy_task_manager/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import CalendarOverlay from\"./CalendarOverlay.js\";import PrioritiesOverlay from\"./PrioritiesOverlay.js\";import\"./Todolist.css\";var Details=/*#__PURE__*/function(_Component){_inherits(Details,_Component);var _super=_createSuper(Details);function Details(props){var _this;_classCallCheck(this,Details);_this=_super.call(this,props);_this.handleTitleInputBlur=function(e){var title=e.target.value;if(title!==_this.props.selectedItemTitle)_this.props.setItemTitle(_this.props.listName,_this.props.selectedItemID,title);};_this.handleTitleInputKeyPress=function(e){if(e.keyCode===13){_this.titleInputRef.current.blur();}};_this.handleDescInputBlur=function(e){var description=e.target.value;if(description!==_this.props.selectedItemDescription)_this.props.setItemDescription(_this.props.listName,_this.props.selectedItemID,description);};_this.handleDescInputKeyPress=function(e){if(e.keyCode===9){_this.descInputRef.current.blur();}};_this.titleInputRef=React.createRef();_this.descInputRef=React.createRef();_this.state={itemID:_this.props.selectedItemID,title:_this.props.selectedItemTitle,dueDate:_this.props.selectedItemDueDate,priority:_this.props.selectedItemPriority,description:_this.props.selectedItemDescription,completed:_this.props.selectedItemCompleted,calendarOverlayDisplaying:false,prioritiesOverlayDisplaying:false};_this.handleCheck=_this.handleCheck.bind(_assertThisInitialized(_this));return _this;}_createClass(Details,[{key:\"handleCalendarOverlayOK\",value:function handleCalendarOverlayOK(){this.setState({calendarOverlayDisplaying:false});}},{key:\"handleCalendarOverlayClear\",value:function handleCalendarOverlayClear(){this.setState({calendarOverlayDisplaying:false,dueDate:\"\"});this.props.setItemDueDate(this.props.listName,this.state.itemID,\"\");}},{key:\"handleShowCalendarOverlay\",value:function handleShowCalendarOverlay(){if(this.state.calendarOverlayDisplaying)this.setState({calendarOverlayDisplaying:false});else this.setState({calendarOverlayDisplaying:true});}},{key:\"handleShowPrioritiesOverlay\",value:function handleShowPrioritiesOverlay(){if(this.state.prioritiesOverlayDisplaying)this.setState({prioritiesOverlayDisplaying:false});else this.setState({prioritiesOverlayDisplaying:true});}},{key:\"handleCheck\",value:function handleCheck(e){var completed=e.target.checked;this.props.setItemCompleted(this.props.listName,this.state.itemID,completed);}},{key:\"handleCalendarChange\",value:function handleCalendarChange(date){this.props.setItemDueDate(this.props.listName,this.state.itemID,date);}},{key:\"handlePriorityChange\",value:function handlePriorityChange(priority){this.props.setItemPriority(this.props.listName,this.state.itemID,priority);this.setState({priority:priority,prioritiesOverlayDisplaying:false});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProp){if(prevProp.selectedItemTitle===this.props.selectedItemTitle&&prevProp.selectedItemDueDate===this.props.selectedItemDueDate&&prevProp.selectedItemCompleted===this.props.selectedItemCompleted&&prevProp.selectedItemDescription===this.props.selectedItemDescription&&prevProp.selectedItemPriority===this.props.selectedItemPriority&&prevProp.selectedItemID===this.props.selectedItemID)return;this.setState({title:this.props.selectedItemTitle,dueDate:this.props.selectedItemDueDate,completed:this.props.selectedItemCompleted,description:this.props.selectedItemDescription,priority:this.props.selectedItemPriority,itemID:this.props.selectedItemID});}},{key:\"render\",value:function render(){var _this2=this;var priorityPickerClasses=\"col-1 offset-md-4 details-priority-picker\";if(this.state.priority===\"high\")priorityPickerClasses+=\" text-danger\";else if(this.state.priority===\"medium\")priorityPickerClasses+=\" text-warning\";else if(this.state.priority===\"low\")priorityPickerClasses+=\" text-primary\";var calendarOverlayClasslist=this.state.calendarOverlayDisplaying?\"\":\"d-none\";var prioritiesOverlayClasslist=this.state.prioritiesOverlayDisplaying?\"\":\"d-none\";return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"details-container \"+(this.state.itemID===\"\"?\"d-none\":\"\")},/*#__PURE__*/React.createElement(\"div\",{id:\"details-top-row\",className:\"row align-items-center mt-4 pb-3 justify-content-around mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 details-top-row-check d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"input\",{className:\"mx-auto\",type:\"checkbox\",value:\"\",checked:this.state.completed,onChange:this.handleCheck})),/*#__PURE__*/React.createElement(\"div\",{className:\"details-date-picker col-4\"+(getIsLate(this.state.dueDate)?\" text-danger\":this.state.dueDate===\"\"||this.state.dueDate===undefined||this.state.dueDate===null?\"\":\" text-primary\"),onClick:function onClick(){_this2.handleShowCalendarOverlay();_this2.props.hideAddListOverlay();}},/*#__PURE__*/React.createElement(\"span\",{className:\"mr-2\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-calendar-alt\"})),formatDate(this.state.dueDate)),/*#__PURE__*/React.createElement(\"div\",{className:priorityPickerClasses,onClick:function onClick(){_this2.handleShowPrioritiesOverlay();_this2.props.hideAddListOverlay();}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-balance-scale-left\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"details-delete-btn col-1\",onClick:function onClick(){_this2.props.handleDelete(_this2.props.listName,_this2.state.itemID,_this2.props.selectedItemList);_this2.props.hideAddListOverlay();}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-trash\"}))),/*#__PURE__*/React.createElement(\"div\",{id:\"calendar-overlay\",className:calendarOverlayClasslist},/*#__PURE__*/React.createElement(CalendarOverlay,{setDueDate:function setDueDate(date){return _this2.handleCalendarChange(date);},handleCalendarOverlayOK:function handleCalendarOverlayOK(){return _this2.handleCalendarOverlayOK();},handleCalendarOverlayClear:function handleCalendarOverlayClear(){return _this2.handleCalendarOverlayClear();},currentlySelectedDate:this.state.dueDate})),/*#__PURE__*/React.createElement(\"div\",{id:\"priorities-overlay\",className:prioritiesOverlayClasslist},/*#__PURE__*/React.createElement(PrioritiesOverlay,{handlePrioritiesOverlayClick:function handlePrioritiesOverlayClick(priority){return _this2.handlePriorityChange(priority);},currentlySelectedPriority:this.state.priority})),/*#__PURE__*/React.createElement(\"div\",{id:\"details-title-input-container\",className:\"mb-4\"},/*#__PURE__*/React.createElement(\"input\",{spellCheck:\"false\",className:\"details-title-input\",placeholder:\"Title\",value:this.state.title,onKeyDown:function onKeyDown(e){return _this2.handleTitleInputKeyPress(e);},onBlur:function onBlur(e){return _this2.handleTitleInputBlur(e);},ref:this.titleInputRef,onChange:function onChange(e){return _this2.setState({title:e.target.value});},onClick:function onClick(){return _this2.props.hideAddListOverlay();},autoComplete:\"off\"})),/*#__PURE__*/React.createElement(\"div\",{id:\"details-desc-input-container\",className:\"details-desc-input-container\"},/*#__PURE__*/React.createElement(\"textarea\",{id:\"details-desc-input\",spellCheck:\"false\",value:this.state.description,placeholder:\"Description\",ref:this.descInputRef,onKeyDown:function onKeyDown(e){return _this2.handleDescInputKeyPress(e);},onBlur:function onBlur(e){return _this2.handleDescInputBlur(e);},onChange:function onChange(e){return _this2.setState({description:e.target.value});},onClick:function onClick(){return _this2.props.hideAddListOverlay();},autoComplete:\"off\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"details-list-name d-flex align-items-center\",style:{fontWeight:\"600\",pointerEvents:\"none\"}},/*#__PURE__*/React.createElement(\"i\",{className:\"font-grey fas fa-tasks sidebar-icon mr-2\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"font-grey \"},this.props.selectedItemList),/*#__PURE__*/React.createElement(\"i\",{className:\"ml-2 fa fa-circle\",style:{fontSize:\"8px\",color:this.props.selectedItemColor,paddingTop:\"3px\"}}))),/*#__PURE__*/React.createElement(\"div\",{id:\"details-placeholder\",className:\"row h-100 align-items-center justify-content-center font-italic\"+(this.state.itemID!==\"\"?\"d-none\":\"\")},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 text-center my-auto\",style:{fontSize:\"14px\"}},\"Click on an item to see it's details \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-tasks\",style:{fontSize:\"20px\"}}))));}}]);return Details;}(Component);export{Details as default};function formatDate(str){if(str===\"\"||str===undefined||str===null)return\"Due Date\";var today=new Date();var currYear=today.getFullYear();var monthAbbr=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];var year=parseInt(str.substring(0,4));var month=parseInt(str.substring(5,7));var day=parseInt(str.substring(8,10));var dateObj=new Date(year+\"-\"+month+\"-\"+day+\" 00:00\");if(dateObj.getFullYear()===today.getFullYear()&&dateObj.getMonth()===today.getMonth()){var yesterday=new Date();yesterday.setDate(yesterday.getDate()-1);var tomorrow=new Date();tomorrow.setDate(tomorrow.getDate()+1);if(dateObj.getDate()===today.getDate())return\"Today\";else if(dateObj.getDate()===yesterday.getDate())return\"Yesterday\";else if(dateObj.getDate()===tomorrow.getDate())return\"Tomorrow\";}var formatted=monthAbbr[month-1]+\" \"+day+(currYear===year?\"\":\", \"+year);return formatted;}function getIsLate(date){if(date===\"\"||date===undefined)return false;var today=new Date()-1;var d=new Date(date+\" 00:00\");return d<today;}","map":{"version":3,"sources":["/Users/jasper.huang/Desktop/Personal_Projects/doozy_task_manager/client/src/todolist/Details.js"],"names":["React","Component","CalendarOverlay","PrioritiesOverlay","Details","props","handleTitleInputBlur","e","title","target","value","selectedItemTitle","setItemTitle","listName","selectedItemID","handleTitleInputKeyPress","keyCode","titleInputRef","current","blur","handleDescInputBlur","description","selectedItemDescription","setItemDescription","handleDescInputKeyPress","descInputRef","createRef","state","itemID","dueDate","selectedItemDueDate","priority","selectedItemPriority","completed","selectedItemCompleted","calendarOverlayDisplaying","prioritiesOverlayDisplaying","handleCheck","bind","setState","setItemDueDate","checked","setItemCompleted","date","setItemPriority","prevProp","priorityPickerClasses","calendarOverlayClasslist","prioritiesOverlayClasslist","getIsLate","undefined","handleShowCalendarOverlay","hideAddListOverlay","formatDate","handleShowPrioritiesOverlay","handleDelete","selectedItemList","handleCalendarChange","handleCalendarOverlayOK","handleCalendarOverlayClear","handlePriorityChange","fontWeight","pointerEvents","fontSize","color","selectedItemColor","paddingTop","str","today","Date","currYear","getFullYear","monthAbbr","year","parseInt","substring","month","day","dateObj","getMonth","yesterday","setDate","getDate","tomorrow","formatted","d"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport CalendarOverlay from \"./CalendarOverlay.js\";\nimport PrioritiesOverlay from \"./PrioritiesOverlay.js\";\n\nimport \"./Todolist.css\";\n\nexport default class Details extends Component {\n  constructor(props) {\n    super(props);\n    this.titleInputRef = React.createRef();\n    this.descInputRef = React.createRef();\n    this.state = {\n      itemID: this.props.selectedItemID,\n      title: this.props.selectedItemTitle,\n      dueDate: this.props.selectedItemDueDate,\n      priority: this.props.selectedItemPriority,\n      description: this.props.selectedItemDescription,\n      completed: this.props.selectedItemCompleted,\n      calendarOverlayDisplaying: false,\n      prioritiesOverlayDisplaying: false,\n    };\n    this.handleCheck = this.handleCheck.bind(this);\n  }\n\n  handleTitleInputBlur = (e) => {\n    const title = e.target.value;\n    if (title !== this.props.selectedItemTitle)\n      this.props.setItemTitle(\n        this.props.listName,\n        this.props.selectedItemID,\n        title\n      );\n  };\n\n  handleTitleInputKeyPress = (e) => {\n    if (e.keyCode === 13) {\n      this.titleInputRef.current.blur();\n    }\n  };\n\n  handleDescInputBlur = (e) => {\n    const description = e.target.value;\n    if (description !== this.props.selectedItemDescription)\n      this.props.setItemDescription(\n        this.props.listName,\n        this.props.selectedItemID,\n        description\n      );\n  };\n\n  handleDescInputKeyPress = (e) => {\n    if (e.keyCode === 9) {\n      this.descInputRef.current.blur();\n    }\n  };\n\n  handleCalendarOverlayOK() {\n    this.setState({ calendarOverlayDisplaying: false });\n  }\n\n  handleCalendarOverlayClear() {\n    this.setState({\n      calendarOverlayDisplaying: false,\n      dueDate: \"\",\n    });\n    this.props.setItemDueDate(this.props.listName, this.state.itemID, \"\");\n  }\n\n  handleShowCalendarOverlay() {\n    if (this.state.calendarOverlayDisplaying)\n      this.setState({ calendarOverlayDisplaying: false });\n    else this.setState({ calendarOverlayDisplaying: true });\n  }\n\n  handleShowPrioritiesOverlay() {\n    if (this.state.prioritiesOverlayDisplaying)\n      this.setState({ prioritiesOverlayDisplaying: false });\n    else this.setState({ prioritiesOverlayDisplaying: true });\n  }\n\n  handleCheck(e) {\n    var completed = e.target.checked;\n\n    this.props.setItemCompleted(\n      this.props.listName,\n      this.state.itemID,\n      completed\n    );\n  }\n\n  handleCalendarChange(date) {\n    this.props.setItemDueDate(this.props.listName, this.state.itemID, date);\n  }\n\n  handlePriorityChange(priority) {\n    this.props.setItemPriority(\n      this.props.listName,\n      this.state.itemID,\n      priority\n    );\n    this.setState({\n      priority: priority,\n      prioritiesOverlayDisplaying: false,\n    });\n  }\n\n  componentDidUpdate(prevProp) {\n    if (\n      prevProp.selectedItemTitle === this.props.selectedItemTitle &&\n      prevProp.selectedItemDueDate === this.props.selectedItemDueDate &&\n      prevProp.selectedItemCompleted === this.props.selectedItemCompleted &&\n      prevProp.selectedItemDescription === this.props.selectedItemDescription &&\n      prevProp.selectedItemPriority === this.props.selectedItemPriority &&\n      prevProp.selectedItemID === this.props.selectedItemID\n    )\n      return;\n    this.setState({\n      title: this.props.selectedItemTitle,\n      dueDate: this.props.selectedItemDueDate,\n      completed: this.props.selectedItemCompleted,\n      description: this.props.selectedItemDescription,\n      priority: this.props.selectedItemPriority,\n      itemID: this.props.selectedItemID,\n    });\n  }\n\n  render() {\n    var priorityPickerClasses = \"col-1 offset-md-4 details-priority-picker\";\n    if (this.state.priority === \"high\") priorityPickerClasses += \" text-danger\";\n    else if (this.state.priority === \"medium\")\n      priorityPickerClasses += \" text-warning\";\n    else if (this.state.priority === \"low\")\n      priorityPickerClasses += \" text-primary\";\n\n    const calendarOverlayClasslist = this.state.calendarOverlayDisplaying\n      ? \"\"\n      : \"d-none\";\n    const prioritiesOverlayClasslist = this.state.prioritiesOverlayDisplaying\n      ? \"\"\n      : \"d-none\";\n\n    return (\n      <React.Fragment>\n        <div\n          className={\n            \"details-container \" + (this.state.itemID === \"\" ? \"d-none\" : \"\")\n          }\n        >\n          <div\n            id=\"details-top-row\"\n            className=\"row align-items-center mt-4 pb-3 justify-content-around mb-4\"\n          >\n            <div className=\"col-1 details-top-row-check d-flex justify-content-center\">\n              <input\n                className=\"mx-auto\"\n                type=\"checkbox\"\n                value=\"\"\n                checked={this.state.completed}\n                onChange={this.handleCheck}\n              />\n            </div>\n            <div\n              className={\n                \"details-date-picker col-4\" +\n                (getIsLate(this.state.dueDate)\n                  ? \" text-danger\"\n                  : this.state.dueDate === \"\" ||\n                    this.state.dueDate === undefined ||\n                    this.state.dueDate === null\n                  ? \"\"\n                  : \" text-primary\")\n              }\n              onClick={() => {\n                this.handleShowCalendarOverlay();\n                this.props.hideAddListOverlay();\n              }}\n            >\n              <span className=\"mr-2\">\n                <i className=\"fas fa-calendar-alt\"></i>\n              </span>\n              {formatDate(this.state.dueDate)}\n            </div>\n            <div\n              className={priorityPickerClasses}\n              onClick={() => {\n                this.handleShowPrioritiesOverlay();\n                this.props.hideAddListOverlay();\n              }}\n            >\n              <i className=\"fas fa-balance-scale-left\"></i>\n            </div>\n            <div\n              className=\"details-delete-btn col-1\"\n              onClick={() => {\n                this.props.handleDelete(\n                  this.props.listName,\n                  this.state.itemID,\n                  this.props.selectedItemList\n                );\n                this.props.hideAddListOverlay();\n              }}\n            >\n              <i className=\"fas fa-trash\"></i>\n            </div>\n          </div>\n          <div id=\"calendar-overlay\" className={calendarOverlayClasslist}>\n            <CalendarOverlay\n              setDueDate={(date) => this.handleCalendarChange(date)}\n              handleCalendarOverlayOK={() => this.handleCalendarOverlayOK()}\n              handleCalendarOverlayClear={() =>\n                this.handleCalendarOverlayClear()\n              }\n              currentlySelectedDate={this.state.dueDate}\n            />\n          </div>\n          <div id=\"priorities-overlay\" className={prioritiesOverlayClasslist}>\n            <PrioritiesOverlay\n              handlePrioritiesOverlayClick={(priority) =>\n                this.handlePriorityChange(priority)\n              }\n              currentlySelectedPriority={this.state.priority}\n            />\n          </div>\n          <div id=\"details-title-input-container\" className=\"mb-4\">\n            <input\n              spellCheck=\"false\"\n              className=\"details-title-input\"\n              placeholder=\"Title\"\n              value={this.state.title}\n              onKeyDown={(e) => this.handleTitleInputKeyPress(e)}\n              onBlur={(e) => this.handleTitleInputBlur(e)}\n              ref={this.titleInputRef}\n              onChange={(e) => this.setState({ title: e.target.value })}\n              onClick={() => this.props.hideAddListOverlay()}\n              autoComplete=\"off\"\n            />\n          </div>\n          <div\n            id=\"details-desc-input-container\"\n            className=\"details-desc-input-container\"\n          >\n            <textarea\n              id=\"details-desc-input\"\n              spellCheck=\"false\"\n              value={this.state.description}\n              placeholder=\"Description\"\n              ref={this.descInputRef}\n              onKeyDown={(e) => this.handleDescInputKeyPress(e)}\n              onBlur={(e) => this.handleDescInputBlur(e)}\n              onChange={(e) => this.setState({ description: e.target.value })}\n              onClick={() => this.props.hideAddListOverlay()}\n              autoComplete=\"off\"\n            />\n          </div>\n          <div\n            className={\"details-list-name d-flex align-items-center\"}\n            style={{ fontWeight: \"600\", pointerEvents: \"none\" }}\n          >\n            <i className=\"font-grey fas fa-tasks sidebar-icon mr-2\"></i>\n            <span className=\"font-grey \">{this.props.selectedItemList}</span>\n\n            <i\n              className=\"ml-2 fa fa-circle\"\n              style={{\n                fontSize: \"8px\",\n                color: this.props.selectedItemColor,\n                paddingTop: \"3px\",\n              }}\n            ></i>\n          </div>\n        </div>\n        <div\n          id=\"details-placeholder\"\n          className={\n            \"row h-100 align-items-center justify-content-center font-italic\" +\n            (this.state.itemID !== \"\" ? \"d-none\" : \"\")\n          }\n        >\n          <div\n            className=\"col-12 text-center my-auto\"\n            style={{ fontSize: \"14px\" }}\n          >\n            Click on an item to see it's details <br />\n            <br />\n            <i className=\"fas fa-tasks\" style={{ fontSize: \"20px\" }}></i>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nfunction formatDate(str) {\n  if (str === \"\" || str === undefined || str === null) return \"Due Date\";\n  const today = new Date();\n  const currYear = today.getFullYear();\n\n  const monthAbbr = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ];\n\n  const year = parseInt(str.substring(0, 4));\n  const month = parseInt(str.substring(5, 7));\n  const day = parseInt(str.substring(8, 10));\n\n  var dateObj = new Date(year + \"-\" + month + \"-\" + day + \" 00:00\");\n\n  if (\n    dateObj.getFullYear() === today.getFullYear() &&\n    dateObj.getMonth() === today.getMonth()\n  ) {\n    var yesterday = new Date();\n    yesterday.setDate(yesterday.getDate() - 1);\n    var tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    if (dateObj.getDate() === today.getDate()) return \"Today\";\n    else if (dateObj.getDate() === yesterday.getDate()) return \"Yesterday\";\n    else if (dateObj.getDate() === tomorrow.getDate()) return \"Tomorrow\";\n  }\n\n  var formatted =\n    monthAbbr[month - 1] + \" \" + day + (currYear === year ? \"\" : \", \" + year);\n\n  return formatted;\n}\n\nfunction getIsLate(date) {\n  if (date === \"\" || date === undefined) return false;\n  const today = new Date() - 1;\n  const d = new Date(date + \" 00:00\");\n\n  return d < today;\n}\n"]},"metadata":{},"sourceType":"module"}