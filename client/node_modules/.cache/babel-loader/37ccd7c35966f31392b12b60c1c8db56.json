{"ast":null,"code":"var _jsxFileName = \"/Users/jasper.huang/Desktop/Personal_Projects/mern-todolist/client/src/todolist/Details.js\";\nimport React, { Component } from \"react\";\nimport CalendarOverlay from \"./CalendarOverlay.js\";\nimport PrioritiesOverlay from \"./PrioritiesOverlay.js\";\nimport \"./Todolist.css\";\nexport default class Details extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleTitleInputBlur = e => {\n      const title = e.target.value;\n      if (title !== this.props.selectedItemTitle) this.props.setItemTitle(this.props.listName, this.props.selectedItemID, title);\n    };\n\n    this.handleTitleInputKeyPress = e => {\n      if (e.keyCode === 13) {\n        this.titleInputRef.current.blur();\n      }\n    };\n\n    this.handleDescInputBlur = e => {\n      const description = e.target.value;\n      if (description !== this.props.selectedItemDescription) this.props.setItemDescription(this.props.listName, this.props.selectedItemID, description);\n    };\n\n    this.handleDescInputKeyPress = e => {\n      if (e.keyCode === 9) {\n        this.descInputRef.current.blur();\n      }\n    };\n\n    this.titleInputRef = React.createRef();\n    this.descInputRef = React.createRef();\n    this.state = {\n      itemID: this.props.selectedItemID,\n      title: this.props.selectedItemTitle,\n      dueDate: this.props.selectedItemDueDate,\n      priority: this.props.selectedItemPriority,\n      description: this.props.selectedItemDescription,\n      completed: this.props.selectedItemCompleted,\n      calendarOverlayDisplaying: false,\n      prioritiesOverlayDisplaying: false\n    };\n    this.handleCheck = this.handleCheck.bind(this);\n  }\n\n  handleCalendarOverlayOK() {\n    this.setState({\n      calendarOverlayDisplaying: false\n    });\n  }\n\n  handleCalendarOverlayClear() {\n    this.setState({\n      calendarOverlayDisplaying: false,\n      dueDate: \"\"\n    });\n    this.props.setItemDueDate(this.props.listName, this.state.itemID, \"\");\n  }\n\n  handleShowCalendarOverlay() {\n    if (this.state.calendarOverlayDisplaying) this.setState({\n      calendarOverlayDisplaying: false\n    });else this.setState({\n      calendarOverlayDisplaying: true\n    });\n  }\n\n  handleShowPrioritiesOverlay() {\n    if (this.state.prioritiesOverlayDisplaying) this.setState({\n      prioritiesOverlayDisplaying: false\n    });else this.setState({\n      prioritiesOverlayDisplaying: true\n    });\n  }\n\n  handleCheck(e) {\n    var completed = e.target.checked;\n    this.props.setItemCompleted(this.props.listName, this.state.itemID, completed);\n  }\n\n  handleCalendarChange(date) {\n    this.props.setItemDueDate(this.props.listName, this.state.itemID, date);\n  }\n\n  handlePriorityChange(priority) {\n    this.props.setItemPriority(this.props.listName, this.state.itemID, priority);\n    this.setState({\n      priority: priority,\n      prioritiesOverlayDisplaying: false\n    });\n  }\n\n  componentDidUpdate(prevProp) {\n    if (prevProp.selectedItemTitle === this.props.selectedItemTitle && prevProp.selectedItemDueDate === this.props.selectedItemDueDate && prevProp.selectedItemCompleted === this.props.selectedItemCompleted && prevProp.selectedItemDescription === this.props.selectedItemDescription && prevProp.selectedItemPriority === this.props.selectedItemPriority && prevProp.selectedItemID === this.props.selectedItemID) return;\n    this.setState({\n      title: this.props.selectedItemTitle,\n      dueDate: this.props.selectedItemDueDate,\n      completed: this.props.selectedItemCompleted,\n      description: this.props.selectedItemDescription,\n      priority: this.props.selectedItemPriority,\n      itemID: this.props.selectedItemID\n    });\n  }\n\n  render() {\n    var priorityPickerClasses = \"col-1 offset-md-4 details-priority-picker\";\n    if (this.state.priority === \"high\") priorityPickerClasses += \" text-danger\";else if (this.state.priority === \"medium\") priorityPickerClasses += \" text-warning\";else if (this.state.priority === \"low\") priorityPickerClasses += \" text-primary\";\n    const calendarOverlayClasslist = this.state.calendarOverlayDisplaying ? \"\" : \"d-none\";\n    const prioritiesOverlayClasslist = this.state.prioritiesOverlayDisplaying ? \"\" : \"d-none\";\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"details-container \" + (this.state.itemID === \"\" ? \"d-none\" : \"\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"details-top-row\",\n      className: \"row align-items-center mt-4 pb-3 justify-content-around mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1 details-top-row-check d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"mx-auto\",\n      type: \"checkbox\",\n      value: \"\",\n      checked: this.state.completed,\n      onChange: this.handleCheck,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"details-date-picker col-4\" + (getIsLate(this.state.dueDate) ? \" text-danger\" : this.state.dueDate === \"\" || this.state.dueDate === undefined || this.state.dueDate === null ? \"\" : \" text-primary\"),\n      onClick: () => this.handleShowCalendarOverlay(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-calendar-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    })), formatDate(this.state.dueDate)), /*#__PURE__*/React.createElement(\"div\", {\n      className: priorityPickerClasses,\n      onClick: () => this.handleShowPrioritiesOverlay(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-balance-scale-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"details-delete-btn col-1\",\n      onClick: () => {\n        this.props.handleDelete(this.props.listName, this.state.itemID);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-trash\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"calendar-overlay\",\n      className: calendarOverlayClasslist,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CalendarOverlay, {\n      setDueDate: date => this.handleCalendarChange(date),\n      handleCalendarOverlayOK: () => this.handleCalendarOverlayOK(),\n      handleCalendarOverlayClear: () => this.handleCalendarOverlayClear(),\n      currentlySelectedDate: this.state.dueDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"priorities-overlay\",\n      className: prioritiesOverlayClasslist,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(PrioritiesOverlay, {\n      handlePrioritiesOverlayClick: priority => this.handlePriorityChange(priority),\n      currentlySelectedPriority: this.state.priority,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"details-title-input-container\",\n      className: \"mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      spellCheck: \"false\",\n      className: \"details-title-input\",\n      placeholder: \"Title\",\n      value: this.state.title,\n      onKeyDown: e => this.handleTitleInputKeyPress(e),\n      onBlur: e => this.handleTitleInputBlur(e),\n      ref: this.titleInputRef,\n      onChange: e => this.setState({\n        title: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"details-desc-input-container\",\n      className: \"details-desc-input-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"details-desc-input\",\n      spellCheck: \"false\",\n      value: this.state.description,\n      placeholder: \"Description\",\n      ref: this.descInputRef,\n      onKeyDown: e => this.handleDescInputKeyPress(e),\n      onBlur: e => this.handleDescInputBlur(e),\n      onChange: e => this.setState({\n        description: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"details-placeholder\",\n      className: \"row h-100 align-items-center justify-content-center font-italic\" + (this.state.itemID !== \"\" ? \"d-none\" : \"\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 text-center my-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }\n    }, \"Click on an item to see it's details \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 50\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-tasks\",\n      style: {\n        fontSize: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nfunction formatDate(str) {\n  if (str === \"\" || str === undefined || str === null) return \"Due Date\";\n  const today = new Date();\n  const currYear = today.getFullYear();\n  const monthAbbr = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n  const year = parseInt(str.substring(0, 4));\n  const month = parseInt(str.substring(5, 7));\n  const day = parseInt(str.substring(8, 10));\n  var dateObj = new Date(year + \"-\" + month + \"-\" + day + \" 00:00\");\n\n  if (dateObj.getFullYear() === today.getFullYear() && dateObj.getMonth() === today.getMonth()) {\n    var yesterday = new Date();\n    yesterday.setDate(yesterday.getDate() - 1);\n    var tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    if (dateObj.getDate() === today.getDate()) return \"Today\";else if (dateObj.getDate() === yesterday.getDate()) return \"Yesterday\";else if (dateObj.getDate() === tomorrow.getDate()) return \"Tomorrow\";\n  }\n\n  var formatted = monthAbbr[month - 1] + \" \" + day + (currYear === year ? \"\" : \", \" + year);\n  return formatted;\n}\n\nfunction getIsLate(date) {\n  if (date === \"\" || date === undefined) return false;\n  const today = new Date() - 1;\n  const d = new Date(date + \" 00:00\");\n  return d < today;\n}","map":{"version":3,"sources":["/Users/jasper.huang/Desktop/Personal_Projects/mern-todolist/client/src/todolist/Details.js"],"names":["React","Component","CalendarOverlay","PrioritiesOverlay","Details","constructor","props","handleTitleInputBlur","e","title","target","value","selectedItemTitle","setItemTitle","listName","selectedItemID","handleTitleInputKeyPress","keyCode","titleInputRef","current","blur","handleDescInputBlur","description","selectedItemDescription","setItemDescription","handleDescInputKeyPress","descInputRef","createRef","state","itemID","dueDate","selectedItemDueDate","priority","selectedItemPriority","completed","selectedItemCompleted","calendarOverlayDisplaying","prioritiesOverlayDisplaying","handleCheck","bind","handleCalendarOverlayOK","setState","handleCalendarOverlayClear","setItemDueDate","handleShowCalendarOverlay","handleShowPrioritiesOverlay","checked","setItemCompleted","handleCalendarChange","date","handlePriorityChange","setItemPriority","componentDidUpdate","prevProp","render","priorityPickerClasses","calendarOverlayClasslist","prioritiesOverlayClasslist","getIsLate","undefined","formatDate","handleDelete","fontSize","str","today","Date","currYear","getFullYear","monthAbbr","year","parseInt","substring","month","day","dateObj","getMonth","yesterday","setDate","getDate","tomorrow","formatted","d"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport CalendarOverlay from \"./CalendarOverlay.js\";\nimport PrioritiesOverlay from \"./PrioritiesOverlay.js\";\n\nimport \"./Todolist.css\";\n\nexport default class Details extends Component {\n  constructor(props) {\n    super(props);\n    this.titleInputRef = React.createRef();\n    this.descInputRef = React.createRef();\n    this.state = {\n      itemID: this.props.selectedItemID,\n      title: this.props.selectedItemTitle,\n      dueDate: this.props.selectedItemDueDate,\n      priority: this.props.selectedItemPriority,\n      description: this.props.selectedItemDescription,\n      completed: this.props.selectedItemCompleted,\n      calendarOverlayDisplaying: false,\n      prioritiesOverlayDisplaying: false,\n    };\n    this.handleCheck = this.handleCheck.bind(this);\n  }\n\n  handleTitleInputBlur = (e) => {\n    const title = e.target.value;\n    if (title !== this.props.selectedItemTitle)\n      this.props.setItemTitle(\n        this.props.listName,\n        this.props.selectedItemID,\n        title\n      );\n  };\n\n  handleTitleInputKeyPress = (e) => {\n    if (e.keyCode === 13) {\n      this.titleInputRef.current.blur();\n    }\n  };\n\n  handleDescInputBlur = (e) => {\n    const description = e.target.value;\n    if (description !== this.props.selectedItemDescription)\n      this.props.setItemDescription(\n        this.props.listName,\n        this.props.selectedItemID,\n        description\n      );\n  };\n\n  handleDescInputKeyPress = (e) => {\n    if (e.keyCode === 9) {\n      this.descInputRef.current.blur();\n    }\n  };\n\n  handleCalendarOverlayOK() {\n    this.setState({ calendarOverlayDisplaying: false });\n  }\n\n  handleCalendarOverlayClear() {\n    this.setState({\n      calendarOverlayDisplaying: false,\n      dueDate: \"\",\n    });\n    this.props.setItemDueDate(this.props.listName, this.state.itemID, \"\");\n  }\n\n  handleShowCalendarOverlay() {\n    if (this.state.calendarOverlayDisplaying)\n      this.setState({ calendarOverlayDisplaying: false });\n    else this.setState({ calendarOverlayDisplaying: true });\n  }\n\n  handleShowPrioritiesOverlay() {\n    if (this.state.prioritiesOverlayDisplaying)\n      this.setState({ prioritiesOverlayDisplaying: false });\n    else this.setState({ prioritiesOverlayDisplaying: true });\n  }\n\n  handleCheck(e) {\n    var completed = e.target.checked;\n\n    this.props.setItemCompleted(\n      this.props.listName,\n      this.state.itemID,\n      completed\n    );\n  }\n\n  handleCalendarChange(date) {\n    this.props.setItemDueDate(this.props.listName, this.state.itemID, date);\n  }\n\n  handlePriorityChange(priority) {\n    this.props.setItemPriority(\n      this.props.listName,\n      this.state.itemID,\n      priority\n    );\n    this.setState({\n      priority: priority,\n      prioritiesOverlayDisplaying: false,\n    });\n  }\n\n  componentDidUpdate(prevProp) {\n    if (\n      prevProp.selectedItemTitle === this.props.selectedItemTitle &&\n      prevProp.selectedItemDueDate === this.props.selectedItemDueDate &&\n      prevProp.selectedItemCompleted === this.props.selectedItemCompleted &&\n      prevProp.selectedItemDescription === this.props.selectedItemDescription &&\n      prevProp.selectedItemPriority === this.props.selectedItemPriority &&\n      prevProp.selectedItemID === this.props.selectedItemID\n    )\n      return;\n    this.setState({\n      title: this.props.selectedItemTitle,\n      dueDate: this.props.selectedItemDueDate,\n      completed: this.props.selectedItemCompleted,\n      description: this.props.selectedItemDescription,\n      priority: this.props.selectedItemPriority,\n      itemID: this.props.selectedItemID,\n    });\n  }\n\n  render() {\n    var priorityPickerClasses = \"col-1 offset-md-4 details-priority-picker\";\n    if (this.state.priority === \"high\") priorityPickerClasses += \" text-danger\";\n    else if (this.state.priority === \"medium\")\n      priorityPickerClasses += \" text-warning\";\n    else if (this.state.priority === \"low\")\n      priorityPickerClasses += \" text-primary\";\n\n    const calendarOverlayClasslist = this.state.calendarOverlayDisplaying\n      ? \"\"\n      : \"d-none\";\n    const prioritiesOverlayClasslist = this.state.prioritiesOverlayDisplaying\n      ? \"\"\n      : \"d-none\";\n\n    return (\n      <React.Fragment>\n        <div\n          className={\n            \"details-container \" + (this.state.itemID === \"\" ? \"d-none\" : \"\")\n          }\n        >\n          <div\n            id=\"details-top-row\"\n            className=\"row align-items-center mt-4 pb-3 justify-content-around mb-4\"\n          >\n            <div className=\"col-1 details-top-row-check d-flex justify-content-center\">\n              <input\n                className=\"mx-auto\"\n                type=\"checkbox\"\n                value=\"\"\n                checked={this.state.completed}\n                onChange={this.handleCheck}\n              />\n            </div>\n            <div\n              className={\n                \"details-date-picker col-4\" +\n                (getIsLate(this.state.dueDate)\n                  ? \" text-danger\"\n                  : this.state.dueDate === \"\" ||\n                    this.state.dueDate === undefined ||\n                    this.state.dueDate === null\n                  ? \"\"\n                  : \" text-primary\")\n              }\n              onClick={() => this.handleShowCalendarOverlay()}\n            >\n              <span className=\"mr-2\">\n                <i className=\"fas fa-calendar-alt\"></i>\n              </span>\n              {formatDate(this.state.dueDate)}\n            </div>\n            <div\n              className={priorityPickerClasses}\n              onClick={() => this.handleShowPrioritiesOverlay()}\n            >\n              <i className=\"fas fa-balance-scale-left\"></i>\n            </div>\n            <div\n              className=\"details-delete-btn col-1\"\n              onClick={() => {\n                this.props.handleDelete(this.props.listName, this.state.itemID);\n              }}\n            >\n              <i className=\"fas fa-trash\"></i>\n            </div>\n          </div>\n          <div id=\"calendar-overlay\" className={calendarOverlayClasslist}>\n            <CalendarOverlay\n              setDueDate={(date) => this.handleCalendarChange(date)}\n              handleCalendarOverlayOK={() => this.handleCalendarOverlayOK()}\n              handleCalendarOverlayClear={() =>\n                this.handleCalendarOverlayClear()\n              }\n              currentlySelectedDate={this.state.dueDate}\n            />\n          </div>\n          <div id=\"priorities-overlay\" className={prioritiesOverlayClasslist}>\n            <PrioritiesOverlay\n              handlePrioritiesOverlayClick={(priority) =>\n                this.handlePriorityChange(priority)\n              }\n              currentlySelectedPriority={this.state.priority}\n            />\n          </div>\n          <div id=\"details-title-input-container\" className=\"mb-4\">\n            <input\n              spellCheck=\"false\"\n              className=\"details-title-input\"\n              placeholder=\"Title\"\n              value={this.state.title}\n              onKeyDown={(e) => this.handleTitleInputKeyPress(e)}\n              onBlur={(e) => this.handleTitleInputBlur(e)}\n              ref={this.titleInputRef}\n              onChange={(e) => this.setState({ title: e.target.value })}\n            />\n          </div>\n          <div\n            id=\"details-desc-input-container\"\n            className=\"details-desc-input-container\"\n          >\n            <textarea\n              id=\"details-desc-input\"\n              spellCheck=\"false\"\n              value={this.state.description}\n              placeholder=\"Description\"\n              ref={this.descInputRef}\n              onKeyDown={(e) => this.handleDescInputKeyPress(e)}\n              onBlur={(e) => this.handleDescInputBlur(e)}\n              onChange={(e) => this.setState({ description: e.target.value })}\n            />\n          </div>\n        </div>\n        <div\n          id=\"details-placeholder\"\n          className={\n            \"row h-100 align-items-center justify-content-center font-italic\" +\n            (this.state.itemID !== \"\" ? \"d-none\" : \"\")\n          }\n        >\n          <div className=\"col-12 text-center my-auto\">\n            Click on an item to see it's details <br />\n            <br />\n            <i className=\"fas fa-tasks\" style={{ fontSize: \"20px\" }}></i>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nfunction formatDate(str) {\n  if (str === \"\" || str === undefined || str === null) return \"Due Date\";\n  const today = new Date();\n  const currYear = today.getFullYear();\n\n  const monthAbbr = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ];\n\n  const year = parseInt(str.substring(0, 4));\n  const month = parseInt(str.substring(5, 7));\n  const day = parseInt(str.substring(8, 10));\n\n  var dateObj = new Date(year + \"-\" + month + \"-\" + day + \" 00:00\");\n\n  if (\n    dateObj.getFullYear() === today.getFullYear() &&\n    dateObj.getMonth() === today.getMonth()\n  ) {\n    var yesterday = new Date();\n    yesterday.setDate(yesterday.getDate() - 1);\n    var tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    if (dateObj.getDate() === today.getDate()) return \"Today\";\n    else if (dateObj.getDate() === yesterday.getDate()) return \"Yesterday\";\n    else if (dateObj.getDate() === tomorrow.getDate()) return \"Tomorrow\";\n  }\n\n  var formatted =\n    monthAbbr[month - 1] + \" \" + day + (currYear === year ? \"\" : \", \" + year);\n\n  return formatted;\n}\n\nfunction getIsLate(date) {\n  if (date === \"\" || date === undefined) return false;\n  const today = new Date() - 1;\n  const d = new Date(date + \" 00:00\");\n\n  return d < today;\n}\n"]},"metadata":{},"sourceType":"module"}