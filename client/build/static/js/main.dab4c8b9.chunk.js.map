{"version":3,"sources":["todolist/ListItem.js","todolist/CalendarOverlay.js","todolist/PrioritiesOverlay.js","todolist/DateParser.js","todolist/Todolist.js","todolist/PriorityParser.js","todolist/Details.js","todolist/Login.js","todolist/Register.js","todolist/Sidebar.js","todolist/Notification.js","todolist/Toolbar.js","todolist/AddListOverlay.js","todolist/EditListOverlay.js","App.js","serviceWorker.js","index.js"],"names":["ListItem","props","handleKeyPress","e","keyCode","inputRef","current","blur","handleBlur","title","target","value","setItemTitle","listName","state","itemID","React","createRef","dueDate","completed","priority","pressedKeys","handleCheck","bind","checked","this","setItemCompleted","setSelectedItem","map","type","handleDelete","setState","prevProp","formattedDate","str","undefined","today","Date","currYear","getFullYear","year","parseInt","substring","month","day","dateObj","getMonth","yesterday","setDate","getDate","tomorrow","formatDate","dueDateClassList","date","getIsLate","rowClasses","selectedItemID","rowBorderColor","getRowBorderColor","titleInputClasses","className","onClick","handleItemSelection","onContextMenu","style","borderColor","onChange","spellCheck","ref","onKeyDown","handleCmdDelete","onBlur","autoComplete","Component","CalendarOverlay","handleCalendarOverlayClear","formatted","toString","dateToStr","setDueDate","d","currentlySelectedDate","handleClear","handleCalendarOverlayOK","PrioritiesOverlay","selectedPriority","currentlySelectedPriority","innerHTML","toLowerCase","handlePrioritiesOverlayClick","highPriorityClasslist","mediumPriorityClasslist","lowPriorityClasslist","handlePriorityItemClick","getFormattedDate","getPosition","array","entry","occurence","seen","i","length","indexOf","Todolist","calendarOverlayDisplaying","prioritiesOverlayDisplaying","addItemValue","addItemDate","addItemPriority","listItems","items","addItemDateKeywords","addItemPriorityKeywords","completedItemsShowing","$","document","ready","hide","val","getElementById","removeOccurence","replace","trim","addListItem","name","color","keywordSet","find","show","backspaceEvent","Event","which","trigger","dateParserObj","spokenWords","months","daysWithSuffix","words","split","isSpokenWord","isStringDate","monthBeforeDay","keywords","monthCandidates","word","push","f","monthIndex","dateCandidates","index","dateCandidate","idx","currMonth","currDate","currDayOfTheWeek","getDay","difference","day1","day2","diff","distanceToNextDay","dayOfTheWeek","dayOfTheWeekToNumber","nextGivenDay","currDay","monthNum","convertMonthToNumber","dayNum","keywordsToReturn","DateParser","priorityParserObj","priorities","PriorityParser","parsedDate","parsedPriority","priorityKeywords","id","originalList","deleteListItem","xCoord","clientX","css","classes","focus","slideToggle","calendarOverlayClasslist","prioritiesOverlayClasslist","dueDateFormatted","placeholder","addItemText","priorityIconClasses","getPriorityIconClasses","calendarIconClasses","getCalendarIconClasses","firstCompletedIndex","getIndexOfFirstCompletedItem","incompletedItems","completedItems","slice","emptyListText","emptyListIcon","completedSeparatorIconClasses","handleCloseOverlays","suppressContentEditableWarning","defaultValue","onInput","handleInput","keyPress","hideAddListOverlay","handleShowPrioritiesOverlay","handleShowCalendarOverlay","setAddItemDate","pointerEvents","item","key","description","data","foo","cursor","handleCompletedSeparatorClick","toRemove","startIndex","endIndex","Details","handleTitleInputBlur","selectedItemTitle","handleTitleInputKeyPress","titleInputRef","handleDescInputBlur","selectedItemDescription","setItemDescription","handleDescInputKeyPress","descInputRef","selectedItemDueDate","selectedItemPriority","selectedItemCompleted","setItemDueDate","setItemPriority","priorityPickerClasses","Fragment","selectedItemList","handleCalendarChange","handlePriorityChange","fontWeight","fontSize","selectedItemColor","paddingTop","Login","handleGoogleOAuth","response","username","profileObj","email","firstName","givenName","lastName","password","hashGoogleInfo","body","JSON","stringify","fetch","domain","method","headers","then","res","json","verifyLogin","createAccount","usernameEntered","nextClicked","passwordInput","entered","preventDefault","reverse","join","responseObj","reverseStr","familyName","googleId","sentBack","loginInfo","alt","src","clientId","render","renderProps","disabled","buttonText","onSuccess","onFailure","alert","cookiePolicy","htmlFor","aria-describedby","handleEmailInput","handleEmailEnter","handlePasswordInput","handleLoginBtnClick","switchToRegister","Register","handleSubmit","warningMessage","emptyFields","Array","fill","registerInfo","emailInputHighlighted","firstNameInputHighlighted","lastNameInputHighlighted","passwordInputHighlighted","handleEmailChange","handleFirstNameChange","handleLastNameChange","handlePasswordChange","handleKeyDown","switchToLogin","Sidebar","selectedList","currentlySelectedListName","currentTarget","dataset","setSelectedList","toUpperCase","personalLists","lists","incompletedCountToday","incompletedCountNext7Days","incompletedCountAll","countIncompletedItems","profileIconAbbr","createProfileAbbreviation","backgroundColor","borderRadius","paddingLeft","paddingRight","paddingBottom","data-list-name","selectList","list","count","showEditListOverlay","window","confirm","deleteList","borderBottom","showAddListOverlay","Notification","itemTitle","notificationClasses","displaying","undo","hideNotification","Toolbar","deleteAllCompletedItems","handleLogOut","AddListOverlay","selectedColor","issue","focusTitleInput","listNameExists","createList","hideOverlay","issueText","addListTitleRef","shadedColor","percent","R","G","B","RR","GG","BB","shadeColor","data-color","selectColor","EditListOverlay","originalName","startingName","editList","startingColor","editListTitleRef","ObjectID","require","cookies","Cookies","App","docTitle","loggedIn","registered","loginOrRegister","currentlySelectedListIndex","currentlySelectedItemID","bgURL","loaded","notificationDisplaying","lastDeletedItem","lastDeletedItemListName","addListOverlayDisplaying","editListOverlayDisplaying","editListName","editListColor","get","aWeekFromNow","set","path","expires","backgroundURLs","currBackground","Math","floor","random","getRandomBGURL","getLists","authType","console","log","success","info","mail","test","ValidateEmail","j","appendSmartLists","next7Days","getNext7Days","getToday","all","getAll","checkIfNext7Days","sort","sortListItems","concat","t","splice","text","handleDisplayNotification","remove","oldName","newName","setTimeout","removeClass","listArr","lastDeletedItemTitle","selectedItem","getCurrentlySelectedItem","appClasses","loginRegClasses","backgroundImage","fName","lName","toggleLoginRegister","handleHideAddListOverlay","createEmptyList","focusAddListOverlayTitleInput","handleHideEditListOverlay","focusEditListOverlayTitleInput","handleShowAddListOverlay","handleShowEditListOverlay","a","b","priorityA","priorityB","dateStr","curr","Boolean","location","hostname","match","ReactDOM","StrictMode","navigator","serviceWorker","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.dab4c8b9.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nimport \"./Todolist.css\";\n\nexport default class ListItem extends Component {\n  constructor(props) {\n    super(props);\n    this.inputRef = React.createRef();\n    this.state = {\n      itemID: props.itemID,\n      title: this.props.title,\n      dueDate: this.props.dueDate,\n      completed: this.props.completed,\n      priority: this.props.priority,\n      pressedKeys: {},\n    };\n\n    this.handleCheck = this.handleCheck.bind(this);\n  }\n\n  handleCheck(e) {\n    var completed = e.target.checked;\n\n    this.props.setItemCompleted(\n      this.props.listName,\n      this.state.itemID,\n      completed\n    );\n  }\n\n  handleItemSelection(e) {\n    this.props.setSelectedItem(this.state.itemID);\n  }\n\n  handleKeyPress = (e) => {\n    if (e.keyCode === 13) {\n      this.inputRef.current.blur();\n    }\n  };\n\n  handleCmdDelete(e) {\n    var map = this.state.pressedKeys;\n\n    if (e.keyCode === 91 && map[8]) {\n      map[e.keyCode] = e.type === \"keydown\";\n      map[8] = false;\n    } else if (e.keyCode === 91 && !map[8]) {\n      map[e.keyCode] = e.type === \"keydown\";\n    } else if (e.keyCode === 8 && map[91] === true) {\n      this.props.handleDelete();\n      map = {};\n      this.setState({ pressedKeys: map });\n    }\n  }\n\n  handleBlur = (e) => {\n    const title = e.target.value;\n    if (title !== this.props.title)\n      this.props.setItemTitle(this.props.listName, this.state.itemID, title);\n  };\n\n  componentDidUpdate(prevProp) {\n    if (\n      prevProp.title === this.props.title &&\n      prevProp.itemID === this.props.itemID &&\n      prevProp.dueDate === this.props.dueDate &&\n      prevProp.priority === this.props.priority &&\n      prevProp.completed === this.props.completed\n    )\n      return;\n    this.setState({\n      title: this.props.title,\n      itemID: this.props.itemID,\n      dueDate: this.props.dueDate,\n      priority: this.props.priority,\n      completed: this.props.completed,\n    });\n  }\n\n  render() {\n    const title = this.state.title;\n    const dueDate = this.state.dueDate;\n    const completed = this.state.completed;\n    const formattedDate = formatDate(dueDate);\n    const isLate = getIsLate(dueDate);\n\n    var dueDateClassList =\n      \"pr-2 col-2 text-right item-due-date font-small\" +\n      (isLate ? \" text-danger\" : \"\");\n\n    const rowClasses =\n      \"row no-gutters justify-content-center pt-1 pb-1 pl-4 pr-1 align-items-center todo-item\" +\n      (this.state.completed ? \" completed\" : \"\") +\n      (this.state.itemID === this.props.selectedItemID ? \" selected-item\" : \"\");\n\n    const rowBorderColor = getRowBorderColor(this.state.priority);\n\n    const titleInputClasses =\n      \"ml-2 form-control-sm title-input\" +\n      (this.state.itemID === this.props.selectedItemID\n        ? \" selected-item-input\"\n        : \"\");\n\n    return (\n      <div\n        className={rowClasses}\n        onClick={(e) => this.handleItemSelection(e)}\n        onContextMenu={(e) => this.handleItemSelection(e)}\n        style={{ borderColor: rowBorderColor }}\n      >\n        <div className=\"col-10 text-left align-items-center\">\n          <input\n            className=\"form-check-input\"\n            type=\"checkbox\"\n            value=\"\"\n            checked={completed}\n            onChange={this.handleCheck}\n          />\n          <input\n            spellCheck=\"false\"\n            className={titleInputClasses}\n            value={title}\n            ref={this.inputRef}\n            onKeyDown={(e) => {\n              this.handleKeyPress(e);\n              this.handleCmdDelete(e);\n            }}\n            onBlur={(e) => this.handleBlur(e)}\n            onChange={(e) => this.setState({ title: e.target.value })}\n            autoComplete=\"off\"\n          />\n        </div>\n\n        <div className={dueDateClassList}>{formattedDate}</div>\n      </div>\n    );\n  }\n}\n\nfunction formatDate(str) {\n  if (str === \"\" || str === undefined || str === null) return \"\";\n  const today = new Date();\n  const currYear = today.getFullYear();\n\n  const monthAbbr = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ];\n\n  const year = parseInt(str.substring(0, 4));\n  const month = parseInt(str.substring(5, 7));\n  const day = parseInt(str.substring(8, 10));\n\n  var dateObj = new Date(year + \"-\" + month + \"-\" + day + \" 00:00\");\n\n  if (\n    dateObj.getFullYear() === today.getFullYear() &&\n    dateObj.getMonth() === today.getMonth()\n  ) {\n    var yesterday = new Date();\n    yesterday.setDate(yesterday.getDate() - 1);\n    var tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    if (dateObj.getDate() === today.getDate()) return \"Today\";\n    else if (dateObj.getDate() === yesterday.getDate()) return \"Yesterday\";\n    else if (dateObj.getDate() === tomorrow.getDate()) return \"Tomorrow\";\n  }\n\n  var formatted =\n    monthAbbr[month - 1] + \" \" + day + (currYear === year ? \"\" : \", \" + year);\n\n  return formatted;\n}\n\nfunction getIsLate(date) {\n  if (date === \"\") return false;\n  const today = new Date() - 1;\n  const d = new Date(date + \" 00:00\");\n\n  return d < today;\n}\n\nfunction getRowBorderColor(priority) {\n  if (priority === \"high\") return \"rgb(218, 56, 73)\";\n  else if (priority === \"medium\") return \"rgb(254, 192, 47)\";\n  else if (priority === \"low\") return \"rgb(21, 127, 251)\";\n}\n","import React, { Component } from \"react\";\nimport Calendar from \"react-calendar\";\nimport \"react-calendar/dist/Calendar.css\";\n\nexport default class CalendarOverlay extends Component {\n  handleClear() {\n    // clear the calendar\n    this.props.handleCalendarOverlayClear();\n  }\n\n  setDate(date) {\n    var formatted = dateToStr(date);\n    this.props.setDueDate(formatted);\n  }\n\n  render() {\n    var d = undefined;\n\n    if (\n      this.props.currentlySelectedDate !== \"\" &&\n      this.props.currentlySelectedDate !== undefined &&\n      this.props.currentlySelectedDate !== null\n    ) {\n      d = new Date(this.props.currentlySelectedDate + \" 00:00\");\n    }\n\n    return (\n      <div className=\"calendar-overlay shadow\">\n        <Calendar value={d} onChange={(date) => this.setDate(date)} />\n        <div className=\"row mt-4\">\n          <div className=\"col-6\">\n            <button\n              type=\"button\"\n              className=\"btn btn-secondary calendar-overlay-button\"\n              onClick={() => this.handleClear()}\n            >\n              Clear\n            </button>\n          </div>\n          <div className=\"col-6\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary  calendar-overlay-button\"\n              onClick={() => this.props.handleCalendarOverlayOK()}\n            >\n              OK\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction dateToStr(date) {\n  var day = date.getDate();\n  if (day < 10) day = \"0\" + day.toString();\n\n  var month = date.getMonth() + 1;\n  if (month < 10) month = \"0\" + month.toString();\n\n  var year = date.getFullYear().toString();\n\n  var formatted = year + \"-\" + month + \"-\" + day;\n\n  return formatted;\n}\n","import React, { Component } from \"react\";\n\nexport default class PrioritiesOverlay extends Component {\n  state = {\n    selectedPriority: this.props.currentlySelectedPriority,\n  };\n\n  handlePriorityItemClick(e) {\n    const priority = e.target.innerHTML.toLowerCase();\n    this.setState({ selectedPriority: priority });\n    this.props.handlePrioritiesOverlayClick(priority);\n  }\n\n  render() {\n    const highPriorityClasslist =\n      \"priorities-overlay-item text-left\" +\n      (this.props.currentlySelectedPriority === \"high\" ? \" text-danger\" : \"\");\n    const mediumPriorityClasslist =\n      \"priorities-overlay-item text-left\" +\n      (this.props.currentlySelectedPriority === \"medium\"\n        ? \" text-warning\"\n        : \"\");\n    const lowPriorityClasslist =\n      \"priorities-overlay-item text-left\" +\n      (this.props.currentlySelectedPriority === \"low\" ? \" text-primary\" : \"\");\n    return (\n      <div className=\"overlay priorities-overlay shadow\">\n        <div\n          className={highPriorityClasslist}\n          onClick={(e) => this.handlePriorityItemClick(e)}\n        >\n          High\n        </div>\n        <div\n          className={mediumPriorityClasslist}\n          onClick={(e) => this.handlePriorityItemClick(e)}\n        >\n          Medium\n        </div>\n        <div\n          className={lowPriorityClasslist}\n          onClick={(e) => this.handlePriorityItemClick(e)}\n        >\n          Low\n        </div>\n      </div>\n    );\n  }\n}\n","// takes in any string and parses out any keywords that can be used to construct a date string\n// returns a date in the format YYYY - MM - DD and the keywords that indicated the date\n// if nothing was found, returns an empty string for both keywords and date\n// examples:\n// - \"take out the trash tomorrow\" => returns tomorrow's date, \"tomorrow\"\n// - \"math test January 15th\" => returns \"2020-01-15\", \"January 15th\"\nexport default function DateParser(str) {\n  const spokenWords = [\n    \"today\",\n    \"tomorrow\",\n    \"yesterday\",\n    \"yday\",\n    \"tmr\",\n    \"monday\",\n    \"tuesday\",\n    \"wednesaday\",\n    \"thursday\",\n    \"friday\",\n    \"saturday\",\n    \"sunday\",\n  ];\n\n  const months = [\n    \"january\",\n    \"jan\",\n    \"february\",\n    \"feb\",\n    \"march\",\n    \"april\",\n    \"may\",\n    \"june\",\n    \"july\",\n    \"august\",\n    \"aug\",\n    \"september\",\n    \"sep\",\n    \"october\",\n    \"oct\",\n    \"november\",\n    \"nov\",\n    \"december\",\n    \"dec\",\n  ];\n\n  const daysWithSuffix = [\n    \"1st\",\n    \"2nd\",\n    \"3rd\",\n    \"4th\",\n    \"5th\",\n    \"6th\",\n    \"7th\",\n    \"8th\",\n    \"9th\",\n    \"10th\",\n    \"11th\",\n    \"12th\",\n    \"13th\",\n    \"14th\",\n    \"15th\",\n    \"16th\",\n    \"17th\",\n    \"18th\",\n    \"19th\",\n    \"20th\",\n    \"21st\",\n    \"22nd\",\n    \"23rd\",\n    \"24th\",\n    \"25th\",\n    \"26th\",\n    \"27th\",\n    \"28th\",\n    \"29th\",\n    \"30th\",\n    \"31st\",\n  ];\n\n  var words = str.toLowerCase().split(\" \"); // get an array of all the words the string in lowercase\n\n  var isSpokenWord = false;\n  var isStringDate = false;\n  var monthBeforeDay = null;\n  var keywords = \"\";\n  var month = \"\";\n  var monthCandidates = [];\n  var day = \"\";\n\n  // search for any occurences of commonly spoken words (e.g. tmr, today)\n  for (let i = 0; i < words.length; i++) {\n    var word = words[i];\n    if (spokenWords.indexOf(word) !== -1) {\n      keywords = word;\n      isSpokenWord = true;\n      break;\n    }\n  }\n\n  // if we don't find any commonly spoken words, look for string representations of dates\n  if (isSpokenWord === false) {\n    // look for month candidates\n    // (could be multiple months in the string, want the first one that is part of a valid date)\n    for (let i = 0; i < words.length; i++) {\n      let word = words[i];\n      if (months.indexOf(word) !== -1) {\n        monthCandidates.push(word);\n      }\n    }\n\n    // if we found a month, look on either side of it for a date\n    if (monthCandidates.length > 0) {\n      // check each month candidate\n      for (let f = 0; f < monthCandidates.length; f++) {\n        var monthCandidate = monthCandidates[f];\n        const monthIndex = getPosition(words, monthCandidate, f + 1);\n        var dateCandidates = [];\n        if (monthIndex - 1 >= 0)\n          dateCandidates.push({\n            index: monthIndex - 1,\n            date: words[monthIndex - 1],\n          });\n        if (monthIndex + 1 < words.length)\n          dateCandidates.push({\n            index: monthIndex + 1,\n            date: words[monthIndex + 1],\n          });\n\n        // check to see if either of these dateCandidates are dates with suffixes (e.g. 23rd, 31st)\n        for (let i = 0; i < dateCandidates.length; i++) {\n          const dateCandidate = dateCandidates[i].date;\n          const idx = dateCandidates[i].index;\n          if (daysWithSuffix.indexOf(dateCandidate) !== -1) {\n            day = dateCandidate;\n            if (idx > monthIndex) monthBeforeDay = true;\n            else monthBeforeDay = false;\n            break;\n          }\n        }\n\n        // if nothing was found, then we look for numeric representations of dates\n        if (day === \"\") {\n          for (let i = 0; i < dateCandidates.length; i++) {\n            const dateCandidate = parseInt(dateCandidates[i].date);\n            const idx = dateCandidates[i].index;\n            if (dateCandidate > 0 && dateCandidate <= 31) {\n              day = dateCandidate;\n              if (idx > monthIndex) monthBeforeDay = true;\n              else monthBeforeDay = false;\n              break;\n            }\n          }\n        }\n\n        // if we found a date, then we have a date value\n        if (day !== \"\") {\n          isStringDate = true;\n          month = monthCandidates[f];\n          break;\n        }\n      }\n    }\n  }\n\n  // using parsed data, create and return the parsed date\n  var today = new Date();\n  var currYear = today.getFullYear();\n  var currMonth = today.getMonth() + 1;\n  var currDate = today.getDate();\n  var currDayOfTheWeek = today.getDay() + 1;\n\n  // no date found\n  if (!isSpokenWord && !isStringDate) return { date: \"\", keywords: \"\" };\n  else if (isSpokenWord && !isStringDate) {\n    if (keywords === \"today\") {\n      return {\n        date: getFormattedDate(currYear, currMonth, currDate),\n        keywords: keywords,\n      };\n    } else if (keywords === \"yesterday\" || keywords === \"yday\") {\n      var yesterday = new Date();\n      yesterday.setDate(yesterday.getDate() - 1);\n      return {\n        date: getFormattedDate(\n          yesterday.getFullYear(),\n          yesterday.getMonth() + 1,\n          yesterday.getDate()\n        ),\n        keywords: keywords,\n      };\n    } else if (keywords === \"tomorrow\" || keywords === \"tmr\") {\n      var tomorrow = new Date();\n      tomorrow.setDate(tomorrow.getDate() + 1);\n      return {\n        date: getFormattedDate(\n          tomorrow.getFullYear(),\n          tomorrow.getMonth() + 1,\n          tomorrow.getDate()\n        ),\n        keywords: keywords,\n      };\n    } else {\n      // str specifies a day of the week\n      // always going to assume its the next upcoming day\n      // (e.g. if today is Tuesday, Monday is in 6 days, if today is Sunday, Monday means tomorrow)\n      // if day of the week is the same as the current day, returns date 7 days ahead\n      var dayOfTheWeek = dayOfTheWeekToNumber(keywords);\n      var difference = distanceToNextDay(currDayOfTheWeek, dayOfTheWeek);\n      var nextGivenDay = new Date();\n      nextGivenDay.setDate(nextGivenDay.getDate() + difference);\n\n      return {\n        date: getFormattedDate(\n          nextGivenDay.getFullYear(),\n          nextGivenDay.getMonth() + 1,\n          nextGivenDay.getDate()\n        ),\n        keywords: keywords,\n      };\n    }\n  } else if (isStringDate && !isSpokenWord) {\n    // format string dates\n    var currDay = today.getDate();\n\n    var monthNum = convertMonthToNumber(month);\n    var dayNum = parseInt(day);\n\n    var year = currYear;\n    if (monthNum < currMonth) year = currYear + 1;\n    else if (monthNum === currMonth) {\n      if (dayNum < currDay) year = currYear + 1;\n    } else year = currYear;\n\n    var keywordsToReturn = monthBeforeDay\n      ? month + \" \" + day\n      : day + \" \" + month;\n\n    return {\n      date: getFormattedDate(year, monthNum, dayNum),\n      keywords: keywordsToReturn,\n    };\n  }\n}\n\nfunction convertMonthToNumber(month) {\n  if (month === \"jan\") return 1;\n  if (month === \"feb\") return 2;\n  if (month === \"aug\") return 8;\n  if (month === \"sep\") return 9;\n  if (month === \"oct\") return 10;\n  if (month === \"nov\") return 11;\n  if (month === \"dec\") return 12;\n\n  const months = [\n    \"\",\n    \"january\",\n    \"february\",\n    \"march\",\n    \"april\",\n    \"may\",\n    \"june\",\n    \"july\",\n    \"august\",\n    \"september\",\n    \"october\",\n    \"november\",\n    \"december\",\n  ];\n\n  return months.indexOf(month);\n}\n\nfunction dayOfTheWeekToNumber(dayOfTheWeek) {\n  const daysOfTheWeek = [\n    \"\",\n    \"sunday\",\n    \"monday\",\n    \"tuesday\",\n    \"wednesday\",\n    \"thursday\",\n    \"friday\",\n    \"saturday\",\n  ];\n\n  return daysOfTheWeek.indexOf(dayOfTheWeek);\n}\n\nfunction distanceToNextDay(day1, day2) {\n  var diff = 7 - day1 + day2;\n  if (diff !== 7) diff %= 7;\n  return diff;\n}\n\nfunction getFormattedDate(year, month, day) {\n  if (month < 10) month = \"0\" + month.toString();\n  if (day < 10) day = \"0\" + day.toString();\n\n  return year + \"-\" + month + \"-\" + day;\n}\n\nfunction getPosition(array, entry, occurence) {\n  var seen = 0;\n  for (let i = 0; i < array.length; i++) {\n    if (array[i] === entry) {\n      seen++;\n      if (seen === occurence) return i;\n    }\n  }\n  if (seen === 1) return array.indexOf(entry);\n}\n\n// console.log(DateParser(\"go to italy sep 10\"));\n","import React, { Component } from \"react\";\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\nimport $ from \"jquery\";\n\nimport ListItem from \"./ListItem.js\";\nimport CalendarOverlay from \"./CalendarOverlay.js\";\nimport PrioritiesOverlay from \"./PrioritiesOverlay.js\";\nimport DateParser from \"./DateParser.js\";\nimport PriorityParser from \"./PriorityParser.js\";\n\nimport \"./Todolist.css\";\n\nexport default class Todolist extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      calendarOverlayDisplaying: false,\n      prioritiesOverlayDisplaying: false,\n      addItemValue: \"\",\n      addItemDate: \"\",\n      addItemPriority: \"low\",\n      listItems: this.props.items,\n      addItemDateKeywords: \"\",\n      addItemPriorityKeywords: \"\",\n      completedItemsShowing: false,\n    };\n    this.inputRef = React.createRef();\n  }\n\n  componentDidMount() {\n    $(document).ready(function () {\n      $(\"#completed-items\").hide();\n    });\n  }\n\n  keyPress(e) {\n    var val = document.getElementById(\"addItemInput\").value;\n    if (this.state.addItemDate !== \"\")\n      val = removeOccurence(val, this.state.addItemDateKeywords);\n    if (this.state.addItemPriorityKeywords !== \"\")\n      val = removeOccurence(val, this.state.addItemPriorityKeywords);\n    val = removeExtraWhitespace(val);\n\n    // hardcoded date and priority values as UI components not yet implemented\n    if (e.keyCode === 13 && val !== \"\") {\n      this.props.addListItem(\n        this.props.name,\n        val,\n        this.state.addItemDate,\n        \"\",\n        this.state.addItemPriority,\n        this.props.color\n      );\n      $(\"#addItemInput\").val(\"\");\n      this.handleCalendarOverlayOK();\n      this.setState({\n        addItemDate: \"\",\n        addItemValue: \"\",\n        addItemDateKeywords: \"\",\n        addItemPriority: \"low\",\n        keywordSet: false,\n      });\n      $(document).find(\".add-item-input-container\").show();\n      var backspaceEvent = $.Event(\"keyDown\");\n      backspaceEvent.which = 8; // # Some key code value\n      $(\"#addItemInput\").trigger(backspaceEvent);\n    }\n  }\n\n  handleInput(e) {\n    var dateParserObj = DateParser(e.target.value);\n    var priorityParserObj = PriorityParser(e.target.value);\n    var parsedDate = dateParserObj.date;\n    var keywords = dateParserObj.keywords;\n    var parsedPriority = priorityParserObj.priority;\n    var priorityKeywords = priorityParserObj.keywords;\n\n    if (\n      keywords === \"\" &&\n      this.state.addItemDateKeywords !== \"\" &&\n      e.target.value.indexOf(this.state.addItemDateKeywords) !== -1\n    ) {\n      parsedDate = this.state.addItemDate;\n      keywords = this.state.addItemDateKeywords;\n    }\n\n    if (\n      priorityKeywords === \"\" &&\n      // this.state.addItemPriorityKeywords !== \"\" &&\n      e.target.value.indexOf(this.state.addItemPriorityKeywords) !== -1\n    ) {\n      parsedPriority = this.state.addItemPriority;\n      priorityKeywords = this.state.addItemPriorityKeywords;\n    }\n\n    this.setState({\n      addItemValue: e.target.value,\n      addItemDate: parsedDate,\n      addItemDateKeywords: keywords,\n      addItemPriority: parsedPriority,\n      addItemPriorityKeywords: priorityKeywords,\n    });\n  }\n\n  setAddItemDate(date) {\n    this.setState({ addItemDate: date });\n  }\n\n  handleDelete(id, originalList) {\n    this.props.deleteListItem(this.props.name, id, originalList);\n  }\n\n  handleCalendarOverlayOK() {\n    this.setState({ calendarOverlayDisplaying: false });\n  }\n\n  handleCalendarOverlayClear() {\n    this.setState({\n      calendarOverlayDisplaying: false,\n      addItemDate: \"\",\n    });\n  }\n\n  handleShowCalendarOverlay(e) {\n    const xCoord = (e.clientX * 7) / 12;\n    $(\".calendar-overlay\").css(\"left\", xCoord + \"px\");\n    if (this.state.calendarOverlayDisplaying)\n      this.setState({ calendarOverlayDisplaying: false });\n    else this.setState({ calendarOverlayDisplaying: true });\n  }\n\n  handleShowPrioritiesOverlay(e) {\n    const xCoord = (e.clientX * 7) / 12;\n    $(\".priorities-overlay\").css(\"left\", xCoord + \"px\");\n    if (this.state.prioritiesOverlayDisplaying)\n      this.setState({ prioritiesOverlayDisplaying: false });\n    else this.setState({ prioritiesOverlayDisplaying: true });\n  }\n\n  handlePrioritiesOverlayClick(priority) {\n    this.setState({\n      addItemPriority: priority,\n      prioritiesOverlayDisplaying: false,\n    });\n  }\n\n  getIndexOfFirstCompletedItem() {\n    const items = this.props.items;\n\n    for (let i = 0; i < items.length; i++) {\n      if (items[i].completed) return i;\n    }\n\n    return -1;\n  }\n\n  getPriorityIconClasses() {\n    var classes = \"fas fa-balance-scale-left priorities-base\";\n    if (this.state.addItemPriority === \"high\") {\n      classes += \" text-danger\";\n    } else if (this.state.addItemPriority === \"medium\") {\n      classes += \" text-warning\";\n    } else if (this.state.addItemPriority === \"low\") {\n      classes += \" text-primary\";\n    }\n\n    return classes;\n  }\n\n  handleCloseOverlays(e) {\n    if (\n      this.state.calendarOverlayDisplaying ||\n      this.state.prioritiesOverlayDisplaying\n    ) {\n      if (\n        e.target.id !== \"calendar-overlay\" &&\n        e.target.id !== \"priorities-overlay\"\n      )\n        this.setState({\n          calendarOverlayDisplaying: false,\n          prioritiesOverlayDisplaying: false,\n        });\n      else if (e.target.id === \"calendar-overlay\")\n        this.setState({\n          prioritiesOverlayDisplaying: false,\n        });\n      else if (e.target.id === \"priorities-overlay\")\n        this.setState({\n          calendarOverlayDisplaying: false,\n        });\n      this.inputRef.current.focus();\n    }\n  }\n\n  getCalendarIconClasses() {\n    var classes = \"fas fa-calendar-alt calendar-base\";\n    if (this.state.addItemDate !== \"\") classes += \" calendar-selected\";\n\n    return classes;\n  }\n\n  handleCompletedSeparatorClick() {\n    this.setState({ completedItemsShowing: !this.state.completedItemsShowing });\n    $(document).find(\"#completed-items\").slideToggle(\"fast\");\n  }\n\n  render() {\n    // important variables used for render setup\n    var name = this.props.name;\n    const calendarOverlayClasslist = this.state.calendarOverlayDisplaying\n      ? \"\"\n      : \"d-none\";\n    const prioritiesOverlayClasslist = this.state.prioritiesOverlayDisplaying\n      ? \"\"\n      : \"d-none\";\n    const dueDateFormatted = formatDate(this.state.addItemDate);\n    const placeholder =\n      'Add a task to \"' +\n      name +\n      '\"' +\n      (dueDateFormatted === \"\" ? \"\" : \" on \" + dueDateFormatted);\n    var addItemText = this.state.addItemValue;\n\n    // classes used for rendering the icons used for accessing the calendar/priority overlays\n    const priorityIconClasses = this.getPriorityIconClasses();\n    const calendarIconClasses = this.getCalendarIconClasses();\n\n    // used so placeholder text stays in title input when it is focused but empty\n    $(document).find(\".add-item-input-container\").show();\n\n    // split the list items into two categories: incompleted items and completed items\n    // supports functionality of hiding/showing completed items\n    const firstCompletedIndex = this.getIndexOfFirstCompletedItem();\n    var incompletedItems = [];\n    var completedItems = [];\n    if (firstCompletedIndex !== -1) {\n      incompletedItems = this.props.items.slice(0, firstCompletedIndex);\n      completedItems = this.props.items.slice(\n        firstCompletedIndex,\n        this.props.items.length\n      );\n    } else {\n      incompletedItems = this.props.items.slice();\n      completedItems = [];\n    }\n\n    var emptyListText = \"\";\n    var emptyListIcon = \"fas fa-plus-square mr-2\";\n\n    if (name === \"Today\") {\n      emptyListText = \"Nothing due today, let's get ahead!\";\n      emptyListIcon = \"fas fa-exclamation-circle mr-2\";\n    } else if (name === \"All\") {\n      emptyListText = \"Nothing due, kick back and relax.\";\n      emptyListIcon = \"fas fa-exclamation-circle mr-2\";\n    } else if (name === \"Next 7 Days\") {\n      emptyListText = \"Nothing due in the next week, let's get ahead!\";\n      emptyListIcon = \"fas fa-exclamation-circle mr-2\";\n    } else {\n      if (completedItems.length > 0)\n        emptyListText = \"Nothing due at the moment.\";\n      else emptyListText = \"Add an item above\";\n      emptyListIcon = \"fas fa-exclamation-circle mr-2\";\n    }\n\n    const completedSeparatorIconClasses =\n      \"fas fa-sort-down mr-2 base\" +\n      (this.state.completedItemsShowing ? \"\" : \" icon-rotated\");\n    return (\n      <div\n        className=\"container-fluid todolist\"\n        onClick={(e) => this.handleCloseOverlays(e)}\n      >\n        <h3 className=\"list-name text-left pl-1 my-4\">{name}</h3>\n        <div className=\"add-item-input-container\">\n          <div className=\"input-group mb-4\">\n            <input\n              spellCheck=\"false\"\n              suppressContentEditableWarning={true}\n              id=\"addItemInput\"\n              placeholder={placeholder}\n              className={\n                \"form-control form-control-sm text-left editable\" +\n                (name === \"Today\" || name === \"Next 7 Days\" || name === \"All\"\n                  ? \" d-none\"\n                  : \"\")\n              }\n              type=\"text\"\n              defaultValue={addItemText}\n              onInput={(e) => this.handleInput(e)}\n              onKeyDown={(e) => this.keyPress(e)}\n              ref={this.inputRef}\n              onClick={() => this.props.hideAddListOverlay()}\n              autoComplete=\"off\"\n            ></input>\n            <div\n              className={\n                \"input-group-append\" +\n                (name === \"Today\" || name === \"Next 7 Days\" || name === \"All\"\n                  ? \" d-none\"\n                  : \"\")\n              }\n              onClick={(e) => {\n                this.handleShowPrioritiesOverlay(e);\n                this.props.hideAddListOverlay();\n              }}\n            >\n              <span className=\"input-group-text icon\">\n                <i className={priorityIconClasses}></i>\n              </span>\n            </div>\n            <div id=\"priorities-overlay\" className={prioritiesOverlayClasslist}>\n              <PrioritiesOverlay\n                handlePrioritiesOverlayClick={(priority) =>\n                  this.handlePrioritiesOverlayClick(priority)\n                }\n                currentlySelectedPriority={this.state.addItemPriority}\n              />\n            </div>\n            <div\n              className=\"input-group-append\"\n              onClick={(e) => {\n                this.handleShowCalendarOverlay(e);\n                this.props.hideAddListOverlay();\n              }}\n            >\n              <span\n                className={\n                  \"input-group-text icon\" +\n                  (name === \"Today\" || name === \"Next 7 Days\" || name === \"All\"\n                    ? \" d-none\"\n                    : \"\")\n                }\n              >\n                <i className={calendarIconClasses}></i>\n              </span>\n            </div>\n          </div>\n        </div>\n        <div id=\"calendar-overlay\" className={calendarOverlayClasslist}>\n          <CalendarOverlay\n            setDueDate={(date) => this.setAddItemDate(date)}\n            handleCalendarOverlayOK={() => this.handleCalendarOverlayOK()}\n            handleCalendarOverlayClear={() => this.handleCalendarOverlayClear()}\n            currentlySelectedDate={this.state.addItemDate}\n          />\n        </div>\n        <div className=\"todolist-items\">\n          <div id=\"incompleted-items\">\n            <span\n              className={\n                \"pl-2 font-small font-grey \" +\n                (incompletedItems.length === 0 ? \"\" : \"d-none\")\n              }\n              style={{ pointerEvents: \"none\" }}\n            >\n              <i className={emptyListIcon}></i>\n              {emptyListText}\n            </span>\n            {incompletedItems.map((item, i) => {\n              return (\n                <div className=\"list-item\" key={item.itemID}>\n                  <ContextMenuTrigger id={item.itemID}>\n                    <ListItem\n                      listName={name}\n                      title={item.title}\n                      description={item.description}\n                      priority={item.priority}\n                      dueDate={item.dueDate}\n                      completed={item.completed}\n                      itemID={item.itemID}\n                      setItemCompleted={(listName, itemID, completed) =>\n                        this.props.setItemCompleted(listName, itemID, completed)\n                      }\n                      setItemTitle={(listName, itemID, title) =>\n                        this.props.setItemTitle(listName, itemID, title)\n                      }\n                      setSelectedItem={(itemID) =>\n                        this.props.setSelectedItem(itemID)\n                      }\n                      selectedItemID={this.props.selectedItemID}\n                      handleDelete={() =>\n                        this.handleDelete(item.itemID, item.originalList)\n                      }\n                    />\n                  </ContextMenuTrigger>\n                  <ContextMenu\n                    id={item.itemID}\n                    className=\"delete-menu px-2 py-1 shadow-sm\"\n                  >\n                    <MenuItem\n                      data={{ foo: \"bar\" }}\n                      className=\"delete-menu-item px-1\"\n                      onClick={() =>\n                        this.handleDelete(item.itemID, item.originalList)\n                      }\n                    >\n                      <div className=\"row align-items-center justify-content-left\">\n                        <i className=\"fas fa-trash col-1\"></i>\n                        <span className=\"col-6\">Delete</span>\n                      </div>\n                    </MenuItem>\n                  </ContextMenu>\n                </div>\n              );\n            })}\n          </div>\n          <div\n            style={{ cursor: \"pointer\" }}\n            className={\n              \"completed-separator mt-2 mb-2 font-small text-left \" +\n              (completedItems.length === 0 ||\n              name === \"Today\" ||\n              name === \"Next 7 Days\" ||\n              name === \"All\"\n                ? \"d-none\"\n                : \"\")\n            }\n            onClick={() => this.handleCompletedSeparatorClick()}\n          >\n            <i\n              id=\"completed-separator-icon\"\n              className={completedSeparatorIconClasses}\n            ></i>\n            Completed\n          </div>\n          <div\n            id=\"completed-items\"\n            className={\n              name === \"Today\" || name === \"Next 7 Days\" || name === \"All\"\n                ? \"d-none\"\n                : \"\"\n            }\n          >\n            {completedItems.map((item, i) => {\n              return (\n                <div className={\"list-item\"} key={item.itemID}>\n                  <ContextMenuTrigger id={item.itemID}>\n                    <ListItem\n                      listName={name}\n                      title={item.title}\n                      description={item.description}\n                      priority={item.priority}\n                      dueDate={item.dueDate}\n                      completed={item.completed}\n                      itemID={item.itemID}\n                      setItemCompleted={(listName, itemID, completed) =>\n                        this.props.setItemCompleted(listName, itemID, completed)\n                      }\n                      setItemTitle={(listName, itemID, title) =>\n                        this.props.setItemTitle(listName, itemID, title)\n                      }\n                      setSelectedItem={(itemID) =>\n                        this.props.setSelectedItem(itemID)\n                      }\n                      selectedItemID={this.props.selectedItemID}\n                      handleDelete={() => {\n                        this.handleDelete(item.itemID, item.originalList);\n                      }}\n                    />\n                  </ContextMenuTrigger>\n                  <ContextMenu\n                    id={item.itemID.toString()}\n                    className=\"delete-menu px-2 py-1 shadow-sm\"\n                  >\n                    <MenuItem\n                      data={{ foo: \"bar\" }}\n                      className=\"delete-menu-item px-1\"\n                      onClick={() =>\n                        this.handleDelete(item.itemID, item.originalList)\n                      }\n                    >\n                      <div className=\"row align-items-center justify-content-left\">\n                        <i className=\"fas fa-trash col-1\"></i>\n                        <span className=\"col-6\">Delete</span>\n                      </div>\n                    </MenuItem>\n                  </ContextMenu>\n                </div>\n              );\n            })}\n          </div>\n          <div\n            id=\"bottom-line\"\n            className={\n              \"list-item\" +\n              (this.state.completedItemsShowing ||\n              completedItems.length === 0 ||\n              name === \"Today\" ||\n              name === \"All\" ||\n              name === \"Next 7 Days\"\n                ? \" d-none\"\n                : \"\")\n            }\n          ></div>\n        </div>\n      </div>\n    );\n  }\n}\n\n// takes in a string (e.g. '01-23-2020') and returns its equivalent 'Jan 23'\n// omits year if year is the same as the current year\nfunction formatDate(str) {\n  if (str === \"\") return \"\";\n  const today = new Date();\n  const currYear = today.getFullYear();\n\n  const monthAbbr = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ];\n\n  const year = parseInt(str.substring(0, 4));\n  const month = parseInt(str.substring(5, 7));\n  const day = parseInt(str.substring(8, 10));\n\n  var formatted =\n    monthAbbr[month - 1] + \" \" + day + (currYear === year ? \"\" : \", \" + year);\n\n  return formatted;\n}\n\n// removes the first occurence of toRemove in str, returns the modified version\nfunction removeOccurence(str, toRemove) {\n  if (toRemove === \"\") return str;\n  var lowerCase = str.toLowerCase();\n  var startIndex = lowerCase.indexOf(toRemove);\n  var endIndex = startIndex + toRemove.length;\n\n  var res = str.substring(0, startIndex) + str.substring(endIndex, str.length);\n\n  return res;\n}\n\n// removes any duplicate, leading, and trailing whitespaces in str\nfunction removeExtraWhitespace(str) {\n  str = str.replace(/\\s+/g, \" \");\n  str = str.trim();\n\n  return str;\n}\n","export default function PriorityParser(str) {\n  const priorities = [\"!high\", \"!medium\", \"!low\"];\n\n  var words = str.toLowerCase().split(\" \"); // get an array of all the words the string in lowercase\n\n  var keywords = \"\";\n\n  // search for any occurences of priority strings\n  for (let i = 0; i < words.length; i++) {\n    var word = words[i];\n    if (priorities.indexOf(word) !== -1) {\n      keywords = word;\n      break;\n    }\n  }\n\n  // no date found\n  if (keywords === \"\") return { priority: \"low\", keywords: \"\" };\n  else {\n    // there exist priority strings\n    const priority = keywords.substring(1, keywords.length);\n    return { priority: priority, keywords: keywords };\n  }\n}\n\n// console.log(PriorityParser(\"go to the gym today !medium\"));\n","import React, { Component } from \"react\";\nimport CalendarOverlay from \"./CalendarOverlay.js\";\nimport PrioritiesOverlay from \"./PrioritiesOverlay.js\";\n\nimport \"./Todolist.css\";\n\nexport default class Details extends Component {\n  constructor(props) {\n    super(props);\n    this.titleInputRef = React.createRef();\n    this.descInputRef = React.createRef();\n    this.state = {\n      itemID: this.props.selectedItemID,\n      title: this.props.selectedItemTitle,\n      dueDate: this.props.selectedItemDueDate,\n      priority: this.props.selectedItemPriority,\n      description: this.props.selectedItemDescription,\n      completed: this.props.selectedItemCompleted,\n      calendarOverlayDisplaying: false,\n      prioritiesOverlayDisplaying: false,\n    };\n    this.handleCheck = this.handleCheck.bind(this);\n  }\n\n  handleTitleInputBlur = (e) => {\n    const title = e.target.value;\n    if (title !== this.props.selectedItemTitle)\n      this.props.setItemTitle(\n        this.props.listName,\n        this.props.selectedItemID,\n        title\n      );\n  };\n\n  handleTitleInputKeyPress = (e) => {\n    if (e.keyCode === 13) {\n      this.titleInputRef.current.blur();\n    }\n  };\n\n  handleDescInputBlur = (e) => {\n    const description = e.target.value;\n    if (description !== this.props.selectedItemDescription)\n      this.props.setItemDescription(\n        this.props.listName,\n        this.props.selectedItemID,\n        description\n      );\n  };\n\n  handleDescInputKeyPress = (e) => {\n    if (e.keyCode === 9) {\n      this.descInputRef.current.blur();\n    }\n  };\n\n  handleCalendarOverlayOK() {\n    this.setState({ calendarOverlayDisplaying: false });\n  }\n\n  handleCalendarOverlayClear() {\n    this.setState({\n      calendarOverlayDisplaying: false,\n      dueDate: \"\",\n    });\n    this.props.setItemDueDate(this.props.listName, this.state.itemID, \"\");\n  }\n\n  handleShowCalendarOverlay() {\n    if (this.state.calendarOverlayDisplaying)\n      this.setState({ calendarOverlayDisplaying: false });\n    else this.setState({ calendarOverlayDisplaying: true });\n  }\n\n  handleShowPrioritiesOverlay() {\n    if (this.state.prioritiesOverlayDisplaying)\n      this.setState({ prioritiesOverlayDisplaying: false });\n    else this.setState({ prioritiesOverlayDisplaying: true });\n  }\n\n  handleCheck(e) {\n    var completed = e.target.checked;\n\n    this.props.setItemCompleted(\n      this.props.listName,\n      this.state.itemID,\n      completed\n    );\n  }\n\n  handleCalendarChange(date) {\n    this.props.setItemDueDate(this.props.listName, this.state.itemID, date);\n  }\n\n  handlePriorityChange(priority) {\n    this.props.setItemPriority(\n      this.props.listName,\n      this.state.itemID,\n      priority\n    );\n    this.setState({\n      priority: priority,\n      prioritiesOverlayDisplaying: false,\n    });\n  }\n\n  componentDidUpdate(prevProp) {\n    if (\n      prevProp.selectedItemTitle === this.props.selectedItemTitle &&\n      prevProp.selectedItemDueDate === this.props.selectedItemDueDate &&\n      prevProp.selectedItemCompleted === this.props.selectedItemCompleted &&\n      prevProp.selectedItemDescription === this.props.selectedItemDescription &&\n      prevProp.selectedItemPriority === this.props.selectedItemPriority &&\n      prevProp.selectedItemID === this.props.selectedItemID\n    )\n      return;\n    this.setState({\n      title: this.props.selectedItemTitle,\n      dueDate: this.props.selectedItemDueDate,\n      completed: this.props.selectedItemCompleted,\n      description: this.props.selectedItemDescription,\n      priority: this.props.selectedItemPriority,\n      itemID: this.props.selectedItemID,\n    });\n  }\n\n  render() {\n    var priorityPickerClasses = \"col-1 offset-md-4 details-priority-picker\";\n    if (this.state.priority === \"high\") priorityPickerClasses += \" text-danger\";\n    else if (this.state.priority === \"medium\")\n      priorityPickerClasses += \" text-warning\";\n    else if (this.state.priority === \"low\")\n      priorityPickerClasses += \" text-primary\";\n\n    const calendarOverlayClasslist = this.state.calendarOverlayDisplaying\n      ? \"\"\n      : \"d-none\";\n    const prioritiesOverlayClasslist = this.state.prioritiesOverlayDisplaying\n      ? \"\"\n      : \"d-none\";\n\n    return (\n      <React.Fragment>\n        <div\n          className={\n            \"details-container \" + (this.state.itemID === \"\" ? \"d-none\" : \"\")\n          }\n        >\n          <div\n            id=\"details-top-row\"\n            className=\"row align-items-center mt-4 pb-3 justify-content-around mb-4\"\n          >\n            <div className=\"col-1 details-top-row-check d-flex justify-content-center\">\n              <input\n                className=\"mx-auto\"\n                type=\"checkbox\"\n                value=\"\"\n                checked={this.state.completed}\n                onChange={this.handleCheck}\n              />\n            </div>\n            <div\n              className={\n                \"details-date-picker col-4\" +\n                (getIsLate(this.state.dueDate)\n                  ? \" text-danger\"\n                  : this.state.dueDate === \"\" ||\n                    this.state.dueDate === undefined ||\n                    this.state.dueDate === null\n                  ? \"\"\n                  : \" text-primary\")\n              }\n              onClick={() => {\n                this.handleShowCalendarOverlay();\n                this.props.hideAddListOverlay();\n              }}\n            >\n              <span className=\"mr-2\">\n                <i className=\"fas fa-calendar-alt\"></i>\n              </span>\n              {formatDate(this.state.dueDate)}\n            </div>\n            <div\n              className={priorityPickerClasses}\n              onClick={() => {\n                this.handleShowPrioritiesOverlay();\n                this.props.hideAddListOverlay();\n              }}\n            >\n              <i className=\"fas fa-balance-scale-left\"></i>\n            </div>\n            <div\n              className=\"details-delete-btn col-1\"\n              onClick={() => {\n                this.props.handleDelete(\n                  this.props.listName,\n                  this.state.itemID,\n                  this.props.selectedItemList\n                );\n                this.props.hideAddListOverlay();\n              }}\n            >\n              <i className=\"fas fa-trash\"></i>\n            </div>\n          </div>\n          <div id=\"calendar-overlay\" className={calendarOverlayClasslist}>\n            <CalendarOverlay\n              setDueDate={(date) => this.handleCalendarChange(date)}\n              handleCalendarOverlayOK={() => this.handleCalendarOverlayOK()}\n              handleCalendarOverlayClear={() =>\n                this.handleCalendarOverlayClear()\n              }\n              currentlySelectedDate={this.state.dueDate}\n            />\n          </div>\n          <div id=\"priorities-overlay\" className={prioritiesOverlayClasslist}>\n            <PrioritiesOverlay\n              handlePrioritiesOverlayClick={(priority) =>\n                this.handlePriorityChange(priority)\n              }\n              currentlySelectedPriority={this.state.priority}\n            />\n          </div>\n          <div id=\"details-title-input-container\" className=\"mb-4\">\n            <input\n              spellCheck=\"false\"\n              className=\"details-title-input\"\n              placeholder=\"Title\"\n              value={this.state.title}\n              onKeyDown={(e) => this.handleTitleInputKeyPress(e)}\n              onBlur={(e) => this.handleTitleInputBlur(e)}\n              ref={this.titleInputRef}\n              onChange={(e) => this.setState({ title: e.target.value })}\n              onClick={() => this.props.hideAddListOverlay()}\n              autoComplete=\"off\"\n            />\n          </div>\n          <div\n            id=\"details-desc-input-container\"\n            className=\"details-desc-input-container\"\n          >\n            <textarea\n              id=\"details-desc-input\"\n              spellCheck=\"false\"\n              value={this.state.description}\n              placeholder=\"Description\"\n              ref={this.descInputRef}\n              onKeyDown={(e) => this.handleDescInputKeyPress(e)}\n              onBlur={(e) => this.handleDescInputBlur(e)}\n              onChange={(e) => this.setState({ description: e.target.value })}\n              onClick={() => this.props.hideAddListOverlay()}\n              autoComplete=\"off\"\n            />\n          </div>\n          <div\n            className={\"details-list-name d-flex align-items-center\"}\n            style={{ fontWeight: \"600\", pointerEvents: \"none\" }}\n          >\n            <i className=\"font-grey fas fa-bars sidebar-icon mr-2\"></i>\n            <span className=\"font-grey \">{this.props.selectedItemList}</span>\n\n            <i\n              className=\"ml-2 fa fa-circle\"\n              style={{\n                fontSize: \"8px\",\n                color: this.props.selectedItemColor,\n                paddingTop: \"3px\",\n              }}\n            ></i>\n          </div>\n        </div>\n        <div\n          id=\"details-placeholder\"\n          className={\n            \"row h-100 align-items-center justify-content-center font-italic\" +\n            (this.state.itemID !== \"\" ? \"d-none\" : \"\")\n          }\n        >\n          <div\n            className=\"col-12 text-center my-auto\"\n            style={{ fontSize: \"14px\" }}\n          >\n            Click on an item to see it's details <br />\n            <br />\n            <i className=\"fas fa-tasks\" style={{ fontSize: \"20px\" }}></i>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nfunction formatDate(str) {\n  if (str === \"\" || str === undefined || str === null) return \"Due Date\";\n  const today = new Date();\n  const currYear = today.getFullYear();\n\n  const monthAbbr = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ];\n\n  const year = parseInt(str.substring(0, 4));\n  const month = parseInt(str.substring(5, 7));\n  const day = parseInt(str.substring(8, 10));\n\n  var dateObj = new Date(year + \"-\" + month + \"-\" + day + \" 00:00\");\n\n  if (\n    dateObj.getFullYear() === today.getFullYear() &&\n    dateObj.getMonth() === today.getMonth()\n  ) {\n    var yesterday = new Date();\n    yesterday.setDate(yesterday.getDate() - 1);\n    var tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    if (dateObj.getDate() === today.getDate()) return \"Today\";\n    else if (dateObj.getDate() === yesterday.getDate()) return \"Yesterday\";\n    else if (dateObj.getDate() === tomorrow.getDate()) return \"Tomorrow\";\n  }\n\n  var formatted =\n    monthAbbr[month - 1] + \" \" + day + (currYear === year ? \"\" : \", \" + year);\n\n  return formatted;\n}\n\nfunction getIsLate(date) {\n  if (date === \"\" || date === undefined) return false;\n  const today = new Date() - 1;\n  const d = new Date(date + \" 00:00\");\n\n  return d < today;\n}\n","import React, { Component } from \"react\";\nimport \"./Login-Register.css\";\nimport { GoogleLogin } from \"react-google-login\";\nimport \"./GoogleButton.css\";\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      usernameEntered: false,\n      nextClicked: false,\n    };\n    this.passwordInput = React.createRef();\n    this.inputRef = React.createRef();\n  }\n\n  componentDidUpdate() {\n    if (this.state.usernameEntered === false && this.state.email !== \"\")\n      this.setState({ usernameEntered: true });\n  }\n\n  handleEmailInput(e) {\n    var entered = e.target.value === \"\";\n\n    this.setState({\n      email: e.target.value,\n      usernameEntered: !entered,\n    });\n  }\n\n  handleEmailEnter(e) {\n    if (this.state.usernameEntered && (e.keyCode === 13 || e.keyCode === 9)) {\n      e.preventDefault();\n      this.setState({ nextClicked: true });\n      this.passwordInput.current.focus();\n    }\n  }\n\n  handlePasswordEnter(e) {\n    if (this.state.nextClicked && e.keyCode === 13 && e.target.value !== \"\") {\n      e.preventDefault();\n      this.props.verifyLogin(\n        this.state.email,\n        this.state.password,\n        \"Conventional\"\n      );\n      // this.setState({ usernameEntered: false, nextClicked: false });\n    }\n  }\n\n  handlePasswordInput(e) {\n    this.setState({\n      password: e.target.value,\n    });\n  }\n\n  handleLoginBtnClick(e) {\n    e.preventDefault();\n    if (!this.state.nextClicked) this.setState({ nextClicked: true });\n    else {\n      this.props.verifyLogin(\n        this.state.email,\n        this.state.password,\n        \"Conventional\"\n      );\n    }\n  }\n\n  reverseStr(str) {\n    if (str === \"\" || str === undefined || str === null)\n      return \"3279ruwejsdnma;lno3 -5pyr eo;dilzk mnd1[  0vcp89'a jklt4-]1-83rdusah13\";\n    return str.split(\"\").reverse().join(\"\");\n  }\n\n  hashGoogleInfo(responseObj) {\n    const profileObj = responseObj.profileObj;\n\n    const firstName = this.reverseStr(profileObj.givenName);\n    const lastName = this.reverseStr(profileObj.familyName);\n    const googleId = this.reverseStr(profileObj.googleId);\n    const email = this.reverseStr(profileObj.email);\n\n    const rand1 =\n      \"d9afspiuflj2kw0r392[pwiua esfljdkf[werpuasidflz;jk3dm2'- rw9eafpuisdjlzkc;3 j 80[weoadhls;jk 23np8we9asoudlh;zkxrj  f[2 e\";\n    const rand2 =\n      \"483ruoeifdsjlvsgrhw4q5983;rlfkjDSGN,FDGHWB0YQ934TP8weio;gljgkhwtr07qy480rwuepjGKHRJIUWY5-03[94APW'OE;JTSKGNJWNLP8Q4029W\";\n    const rand3 =\n      \"0283ROWIELFKDSK[p9 peua4oliwfjkdsfhdiouaotil;fewtq0uogprijsldhuoijao'ortk4ripfdhig;fk';wple-9stdpygihpfj'kQ\";\n    const rand4 =\n      \"948otwrjafj408w[8aer9pifsdjqp49w;'etoisfaj49w0ep[orsiaj[w9eosdilhva5a049P;TJRpiJ0IO_*)OIPLYT(H08pytoi4ljwef\";\n    const rand5 =\n      \"30rweisdjfak]Oi;gjanljrL;J;u;OFTYITF8d35q54tr1q2t4awregfghoikhliop'o=]iioufdrye5a243twretriot89y8upo'p[]pjuyb9tvrdw4teqrwteyrty0jpo\";\n\n    return (\n      rand1 +\n      firstName +\n      rand2 +\n      lastName +\n      rand3 +\n      googleId +\n      rand4 +\n      email +\n      rand5\n    );\n  }\n\n  handleGoogleOAuth = (response) => {\n    const username = response.profileObj.email;\n    const firstName = response.profileObj.givenName;\n    const lastName = response.profileObj.lastName;\n    const password = this.hashGoogleInfo(response);\n    const domain = \"http://localhost:9000\";\n    const url = domain + \"/accountExists\";\n    const body = JSON.stringify({\n      username: username,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        if (res) this.props.verifyLogin(username, password, \"Google\");\n        else\n          this.props.createAccount(\n            username,\n            firstName,\n            lastName,\n            password,\n            \"Google\"\n          );\n      });\n  };\n\n  render() {\n    const sentBack = this.props.loginInfo !== \"not yet\";\n\n    if (this.state.nextClicked && !sentBack) {\n      this.passwordInput.current.focus();\n    }\n\n    return (\n      <div className=\"Login py-5 px-4\">\n        <h1>LOGO</h1>\n        <br />\n        <br />\n        <h5 className=\"text-left\" style={{ fontWeight: \"600\" }}>\n          Log in to your account\n        </h5>\n        <br />\n        <div className=\"d-flex justify-content-center\">\n          <div className=\"google-btn\" style={{ cursor: \"pointer\" }}>\n            <div className=\"google-icon-wrapper\">\n              <img\n                className=\"google-icon\"\n                alt=\"\"\n                src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\n              />\n            </div>\n            <div className=\"google-button-text\">\n              <GoogleLogin\n                clientId=\"777242510220-80aoinvqo7q39g1iqtafjet4stv1nnu7.apps.googleusercontent.com\"\n                render={(renderProps) => (\n                  <a\n                    onClick={renderProps.onClick}\n                    disabled={renderProps.disabled}\n                    className=\"btn-text no-bg-no-borders text-white text-center\"\n                  >\n                    Log in with Google\n                  </a>\n                )}\n                buttonText=\"Log in with Google\"\n                onSuccess={this.handleGoogleOAuth}\n                onFailure={(response) => {\n                  alert(\"Google OAuth Failed.\\n\" + JSON.stringify(response));\n                }}\n                cookiePolicy={\"single_host_origin\"}\n              />\n            </div>\n          </div>\n        </div>\n        <br />\n        <div className=\"or-separator my-2 w-100 text-center font-grey\">\n          <span className=\"px-1\">or</span>\n        </div>\n        <div\n          className={\n            \"font-small-login-reg text-danger\" +\n            (this.props.loginInfo === \"not yet\" ? \" d-none\" : \"\")\n          }\n        >\n          {this.props.loginInfo === \"auth type\"\n            ? \"Please log in using the method you created your account.\"\n            : \"Please provide a valid username and password.\"}\n        </div>\n        <br />\n        <form className=\"font-grey font-small-login-reg\">\n          <label htmlFor=\"login-email-input\" style={{ fontWeight: \"500\" }}>\n            Email Address{\" \"}\n          </label>\n          <div className=\"input-group input-group-sm\">\n            <input\n              type=\"email\"\n              className={\n                \"form-control form-control-sm\" +\n                (this.state.usernameEntered ? \" input-validated\" : \"\") +\n                (sentBack && this.props.loginInfo === \"username does not exist\"\n                  ? \" border-danger\"\n                  : \"\")\n              }\n              id=\"login-email-input\"\n              aria-describedby=\"emailHelp\"\n              onChange={(e) => this.handleEmailInput(e)}\n              onKeyDown={(e) => this.handleEmailEnter(e)}\n              disabled={\n                this.state.nextClicked &&\n                this.props.loginInfo !== \"username does not exist\"\n              }\n              ref={this.inputRef}\n            />\n            <div\n              className={\n                \"input-group-append\" +\n                (this.state.nextClicked &&\n                this.props.loginInfo !== \"username does not exist\"\n                  ? \"\"\n                  : \" d-none\")\n              }\n            >\n              <span className=\"input-group-text email-check\">\n                <i className=\"fas fa-check\"></i>\n              </span>\n            </div>\n\n            {/* <small id=\"emailHelp\" className=\"form-text text-muted\">\n              This is your email address you used when you registered.\n            </small> */}\n          </div>\n\n          <div\n            className={\"form-group\" + (this.state.nextClicked ? \"\" : \" d-none\")}\n          >\n            <br></br>\n            <label htmlFor=\"login-password-input\" style={{ fontWeight: \"500\" }}>\n              Password\n            </label>\n            <input\n              type=\"password\"\n              className={\n                \"form-control form-control-sm\" +\n                (sentBack ? \" border-danger\" : \"\")\n              }\n              id=\"login-password-input\"\n              onChange={(e) => this.handlePasswordInput(e)}\n              ref={this.passwordInput}\n            />\n          </div>\n          <br />\n          <br />\n\n          <button\n            className=\"btn btn-primary px-4 font-small-login-reg\"\n            type={this.state.nextClicked ? \"submit\" : \"button\"}\n            disabled={\n              !this.state.usernameEntered || this.inputRef.current.value === \"\"\n            }\n            onClick={(e) => this.handleLoginBtnClick(e)}\n          >\n            {this.state.nextClicked ? \"Log In\" : \"Next\"}\n          </button>\n\n          <span className=\"ml-3 font-small-login-reg\">\n            Don't have an account?{\" \"}\n            <span\n              onClick={() => {\n                this.props.switchToRegister();\n              }}\n              className=\"text-primary toggle-prompt-text\"\n              style={{ cursor: \"pointer\" }}\n            >\n              Sign Up\n            </span>\n          </span>\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./Login-Register.css\";\nimport { GoogleLogin } from \"react-google-login\";\n\nexport default class Register extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      firstName: \"\",\n      lastName: \"\",\n    };\n    this.passwordInput = React.createRef();\n  }\n\n  handleEmailChange(e) {\n    this.setState({ email: e.target.value });\n  }\n\n  handleFirstNameChange(e) {\n    this.setState({ firstName: e.target.value });\n  }\n\n  handleLastNameChange(e) {\n    this.setState({ lastName: e.target.value });\n  }\n\n  handlePasswordChange(e) {\n    this.setState({ password: e.target.value });\n  }\n\n  handleSubmit() {\n    const email = this.state.email;\n    const firstName = this.state.firstName;\n    const lastName = this.state.lastName;\n    const password = this.state.password;\n    this.props.createAccount(\n      email,\n      firstName,\n      lastName,\n      password,\n      \"Conventional\"\n    );\n  }\n\n  handleKeyDown(e) {\n    if (e.keyCode === 13) {\n      this.handleSubmit();\n    }\n  }\n\n  reverseStr(str) {\n    if (str === \"\" || str === undefined || str === null)\n      return \"3279ruwejsdnma;lno3 -5pyr eo;dilzk mnd1[  0vcp89'a jklt4-]1-83rdusah13\";\n    return str.split(\"\").reverse().join(\"\");\n  }\n\n  hashGoogleInfo(responseObj) {\n    const profileObj = responseObj.profileObj;\n\n    const firstName = this.reverseStr(profileObj.givenName);\n    const lastName = this.reverseStr(profileObj.familyName);\n    const googleId = this.reverseStr(profileObj.googleId);\n    const email = this.reverseStr(profileObj.email);\n\n    const rand1 =\n      \"d9afspiuflj2kw0r392[pwiua esfljdkf[werpuasidflz;jk3dm2'- rw9eafpuisdjlzkc;3 j 80[weoadhls;jk 23np8we9asoudlh;zkxrj  f[2 e\";\n    const rand2 =\n      \"483ruoeifdsjlvsgrhw4q5983;rlfkjDSGN,FDGHWB0YQ934TP8weio;gljgkhwtr07qy480rwuepjGKHRJIUWY5-03[94APW'OE;JTSKGNJWNLP8Q4029W\";\n    const rand3 =\n      \"0283ROWIELFKDSK[p9 peua4oliwfjkdsfhdiouaotil;fewtq0uogprijsldhuoijao'ortk4ripfdhig;fk';wple-9stdpygihpfj'kQ\";\n    const rand4 =\n      \"948otwrjafj408w[8aer9pifsdjqp49w;'etoisfaj49w0ep[orsiaj[w9eosdilhva5a049P;TJRpiJ0IO_*)OIPLYT(H08pytoi4ljwef\";\n    const rand5 =\n      \"30rweisdjfak]Oi;gjanljrL;J;u;OFTYITF8d35q54tr1q2t4awregfghoikhliop'o=]iioufdrye5a243twretriot89y8upo'p[]pjuyb9tvrdw4teqrwteyrty0jpo\";\n\n    return (\n      rand1 +\n      firstName +\n      rand2 +\n      lastName +\n      rand3 +\n      googleId +\n      rand4 +\n      email +\n      rand5\n    );\n  }\n\n  handleGoogleOAuth = (response) => {\n    const username = response.profileObj.email;\n    const firstName = response.profileObj.givenName;\n    const lastName = response.profileObj.lastName;\n    const password = this.hashGoogleInfo(response); // add some sort of hashing function to this\n    const domain = \"http://localhost:9000\";\n    const url = domain + \"/accountExists\";\n    const body = JSON.stringify({\n      username: username,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        if (res) this.props.verifyLogin(username, password, \"Google\");\n        else\n          this.props.createAccount(\n            username,\n            firstName,\n            lastName,\n            password,\n            \"Google\"\n          );\n      });\n  };\n\n  render() {\n    var warningMessage = \"\";\n    var emptyFields = new Array(4).fill(false);\n\n    if (this.props.registerInfo === \"username already exists\")\n      warningMessage = \"An account with that email already exists. \";\n    else if (this.props.registerInfo === \"invalid email\")\n      warningMessage = \"Please enter a valid email address.\";\n    else if (this.props.registerInfo === \"password length\")\n      warningMessage = \"Password must be at least 6 characters.\";\n    else if (this.props.registerInfo === \"empty field(s)\") {\n      warningMessage = \"Please fill in all fields.\";\n      emptyFields[0] = this.state.email === \"\";\n      emptyFields[1] = this.state.firstName === \"\";\n      emptyFields[2] = this.state.lastName === \"\";\n      emptyFields[3] = this.state.password === \"\";\n    }\n\n    const emailInputHighlighted =\n      this.props.registerInfo === \"username already exists\" ||\n      this.props.registerInfo === \"invalid email\" ||\n      emptyFields[0];\n    const firstNameInputHighlighted = emptyFields[1];\n    const lastNameInputHighlighted = emptyFields[2];\n    const passwordInputHighlighted =\n      this.props.registerInfo === \"password length\" || emptyFields[3];\n\n    return (\n      <div className=\"Register py-5 px-4\">\n        <h5 className=\"text-left\" style={{ fontWeight: \"600\" }}>\n          Create your account\n        </h5>\n        <br />\n        <br />\n        <div className=\"d-flex justify-content-center\">\n          <div\n            className=\"google-btn google-btn-lg\"\n            style={{ cursor: \"pointer\" }}\n          >\n            <div className=\"google-icon-wrapper\">\n              <img\n                className=\"google-icon\"\n                alt=\"\"\n                src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\n              />\n            </div>\n            <div className=\"google-button-text\">\n              <GoogleLogin\n                clientId=\"777242510220-80aoinvqo7q39g1iqtafjet4stv1nnu7.apps.googleusercontent.com\"\n                render={(renderProps) => (\n                  <a\n                    onClick={renderProps.onClick}\n                    disabled={renderProps.disabled}\n                    className=\"btn-text no-bg-no-borders text-white text-center\"\n                  >\n                    Sign up with Google\n                  </a>\n                )}\n                buttonText=\"Sign Up with Google\"\n                onSuccess={this.handleGoogleOAuth}\n                onFailure={(response) => {\n                  alert(\"Google OAuth Failed.\\n\" + JSON.stringify(response));\n                }}\n                cookiePolicy={\"single_host_origin\"}\n              />\n            </div>\n          </div>\n        </div>\n        <br />\n        <div className=\"or-separator my-2 w-100 text-center font-grey\">\n          <span className=\"px-1\">or</span>\n        </div>\n        <div\n          className={\n            \"font-small-login-reg text-danger py-2\" +\n            (warningMessage === \"\" ? \" d-none\" : \"\")\n          }\n        >\n          {warningMessage}\n        </div>\n        <form className=\"font-grey font-small-login-reg\">\n          <label htmlFor=\"login-email-input\" style={{ fontWeight: \"500\" }}>\n            Email Address{\" \"}\n          </label>\n          <div className=\"input-group input-group-sm mb-3\">\n            <input\n              type=\"email\"\n              className={\n                \"form-control form-control-sm\" +\n                (emailInputHighlighted ? \" border-danger\" : \"\")\n              }\n              id=\"login-email-input\"\n              aria-describedby=\"emailHelp\"\n              onChange={(e) => this.handleEmailChange(e)}\n            />\n          </div>\n          <label htmlFor=\"login-firstName-input\" style={{ fontWeight: \"500\" }}>\n            First Name{\" \"}\n          </label>\n          <div className=\"input-group input-group-sm mb-3\">\n            <br></br>\n            <input\n              type=\"text\"\n              className={\n                \"form-control form-control-sm \" +\n                (firstNameInputHighlighted ? \" border-danger\" : \"\")\n              }\n              id=\"login-firstName-input\"\n              aria-describedby=\"emailHelp\"\n              onChange={(e) => this.handleFirstNameChange(e)}\n            />\n          </div>\n          <label htmlFor=\"login-lastName-input\" style={{ fontWeight: \"500\" }}>\n            Last Name{\" \"}\n          </label>\n          <div className=\"input-group input-group-sm mb-3\">\n            <br></br>\n            <input\n              type=\"text\"\n              className={\n                \"form-control form-control-sm\" +\n                (lastNameInputHighlighted ? \" border-danger\" : \"\")\n              }\n              id=\"login-lastName-input\"\n              aria-describedby=\"emailHelp\"\n              onChange={(e) => this.handleLastNameChange(e)}\n            />\n          </div>\n          <div className={\"form-group\"}>\n            <label htmlFor=\"login-password-input\" style={{ fontWeight: \"500\" }}>\n              Password\n            </label>\n            <input\n              type=\"password\"\n              className={\n                \"form-control form-control-sm\" +\n                (passwordInputHighlighted ? \" border-danger\" : \"\")\n              }\n              id=\"login-password-input\"\n              onChange={(e) => this.handlePasswordChange(e)}\n              onKeyDown={(e) => this.handleKeyDown(e)}\n              ref={this.passwordInput}\n            />\n          </div>\n          <br />\n          <button\n            className=\"btn btn-primary px-4 font-small-login-reg\"\n            type=\"button\"\n            onClick={() => this.handleSubmit()}\n          >\n            {\"Sign Up\"}\n          </button>\n\n          <span className=\"ml-3 font-small-login-reg\">\n            Already have an account?{\" \"}\n            <span\n              onClick={() => {\n                this.props.switchToLogin();\n              }}\n              className=\"text-primary toggle-prompt-text\"\n              style={{ cursor: \"pointer\" }}\n            >\n              Log In\n            </span>\n          </span>\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\n\nexport default class Sidebar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedList: this.props.currentlySelectedListName,\n    };\n  }\n\n  selectList(e) {\n    var listName = e.currentTarget.dataset.listName;\n    this.setState({ selectedList: listName });\n    this.props.setSelectedList(listName);\n  }\n\n  createProfileAbbreviation() {\n    var profileIconAbbr;\n    if (\n      this.props.firstName === undefined ||\n      this.props.firstName === null ||\n      (this.props.firstName === \"\" && this.props.lastName === undefined) ||\n      this.props.lastName === null ||\n      this.props.lastName === \"\"\n    ) {\n      profileIconAbbr = this.props.username.substring(0, 2);\n    } else if (\n      this.props.firstName === undefined ||\n      this.props.firstName === null ||\n      (this.props.firstName === \"\" &&\n        this.props.lastName !== undefined &&\n        this.props.lastName !== null &&\n        this.props.lastName !== \"\")\n    ) {\n      profileIconAbbr = this.props.lastName.substring(0, 2);\n    } else if (\n      this.props.firstName !== undefined &&\n      this.props.firstName !== null &&\n      ((this.props.firstName !== \"\" && this.props.lastName === undefined) ||\n        this.props.lastName === null ||\n        this.props.lastName === \"\")\n    ) {\n      profileIconAbbr = this.props.firstName.substring(0, 2);\n    } else {\n      profileIconAbbr =\n        this.props.firstName.toUpperCase().substring(0, 1) +\n        this.props.lastName.toUpperCase().substring(0, 1);\n    }\n\n    return profileIconAbbr;\n  }\n\n  render() {\n    const selectedList = this.props.currentlySelectedListName;\n\n    const personalLists = this.props.lists.slice(\n      0,\n      this.props.lists.length - 3\n    );\n\n    var incompletedCountToday = 0;\n    var incompletedCountNext7Days = 0;\n    var incompletedCountAll = 0;\n    if (this.props.lists.length > 0) {\n      incompletedCountToday = countIncompletedItems(\n        this.props.lists[this.props.lists.length - 3]\n      );\n      incompletedCountNext7Days = countIncompletedItems(\n        this.props.lists[this.props.lists.length - 2]\n      );\n      incompletedCountAll = countIncompletedItems(\n        this.props.lists[this.props.lists.length - 1]\n      );\n    }\n\n    var profileIconAbbr = this.createProfileAbbreviation();\n\n    return (\n      <div className=\"sidebar-container pt-5\">\n        <div className=\"profile-icon mb-4 text-center\">\n          <span\n            style={{\n              color: \"white\",\n              backgroundColor: \"rgb(21, 127, 251)\",\n              borderRadius: \"50%\",\n              paddingLeft: \"11px\",\n              paddingRight: \"11px\",\n              paddingTop: \"10px\",\n              paddingBottom: \"10px\",\n              fontSize: \"16px\",\n              pointerEvents: \"none\",\n            }}\n          >\n            {profileIconAbbr}\n          </span>\n        </div>\n        <div\n          className=\"text-center font-small sidebar-item py-1 pt-3\"\n          style={{\n            pointerEvents: \"none\",\n            fontWeight: \"600\",\n            color: \"rgb(113, 123, 133)\",\n          }}\n        >\n          Smart Lists\n        </div>\n        <div\n          id=\"sidebar-today\"\n          className={\n            \"sidebar-item py-2 pl-4 .no-gutters row align-items-center justify-content-left\" +\n            (selectedList === \"Today\" ? \" selected-sidebar-item\" : \"\")\n          }\n          data-list-name=\"Today\"\n          onClick={(e) => this.selectList(e)}\n        >\n          <i className=\"fas fa-calendar-day sidebar-icon col-1 mr-2\"></i>\n          <div className=\"col-5 text-left p-0 sidebar-list-name\">Today</div>\n          <div className=\"col-1 sidebar-list-color text-left invisible\">\n            <i className=\"fa fa-circle\" style={{ fontSize: \"8px\" }}></i>\n          </div>\n          <div className=\"col-1 font-small\">\n            {incompletedCountToday > 0 ? incompletedCountToday : \"\"}\n          </div>\n        </div>\n        <div\n          id=\"sidebar-next-7-days\"\n          className={\n            \"sidebar-item py-2 pl-4 .no-gutters row align-items-center justify-content-left\" +\n            (selectedList === \"Next 7 Days\" ? \" selected-sidebar-item\" : \"\")\n          }\n          onClick={(e) => this.selectList(e)}\n          data-list-name=\"Next 7 Days\"\n        >\n          <i className=\"fas fa-calendar-week sidebar-icon col-1 mr-2\"></i>\n          <div className=\"col-5 text-left p-0 sidebar-list-name\">\n            Next 7 Days\n          </div>\n          <div className=\"col-1 sidebar-list-color text-left invisible\">\n            <i className=\"fa fa-circle\" style={{ fontSize: \"8px\" }}></i>\n          </div>\n          <div className=\"col-1 font-small\">\n            {incompletedCountNext7Days > 0 ? incompletedCountNext7Days : \"\"}\n          </div>\n        </div>\n        <div\n          id=\"sidebar-all\"\n          className={\n            \"sidebar-item py-2 pl-4 .no-gutters row align-items-center justify-content-left\" +\n            (selectedList === \"All\" ? \" selected-sidebar-item\" : \"\")\n          }\n          onClick={(e) => this.selectList(e)}\n          data-list-name=\"All\"\n        >\n          <i className=\"fas fa-calendar sidebar-icon col-1 mr-2\"></i>\n          <div className=\"col-5 text-left p-0 sidebar-list-name\">All</div>\n          <div className=\"col-1 sidebar-list-color text-left invisible\">\n            <i className=\"fa fa-circle\" style={{ fontSize: \"8px\" }}></i>\n          </div>\n          <div className=\"col-1 font-small\">\n            {incompletedCountAll > 0 ? incompletedCountAll : \"\"}\n          </div>\n        </div>\n        <div\n          className=\"text-center font-small sidebar-item py-1 pt-5\"\n          style={{\n            pointerEvents: \"none\",\n            fontWeight: \"600\",\n            color: \"rgb(113, 123, 133)\",\n          }}\n        >\n          Your Lists\n        </div>\n        <div id=\"personal-lists\">\n          {personalLists.map((list, index) => {\n            const count = countIncompletedItems(list);\n            const listName =\n              list.name.length > 11\n                ? list.name.substring(0, 11) + \"...\"\n                : list.name;\n            return (\n              <div key={list.name}>\n                <ContextMenuTrigger id={list.name}>\n                  <div\n                    className={\n                      \"sidebar-item py-2 pl-4 .no-gutters row align-items-center justify-content-left\" +\n                      (selectedList === list.name\n                        ? \" selected-sidebar-item\"\n                        : \"\")\n                    }\n                    onClick={(e) => this.selectList(e)}\n                    data-list-name={list.name}\n                  >\n                    <i className=\"fas fa-bars sidebar-icon col-1 mr-2\"></i>\n                    <div className=\"col-5 text-left p-0 sidebar-list-name\">\n                      {listName}\n                    </div>\n                    <div className=\"col-1 sidebar-list-color text-left\">\n                      <i\n                        className=\"fa fa-circle\"\n                        style={{ color: list.color, fontSize: \"8px\" }}\n                      ></i>\n                    </div>\n                    <div className=\"col-1 font-small\">\n                      {count > 0 ? count : \"\"}\n                    </div>\n                  </div>\n                </ContextMenuTrigger>\n                <ContextMenu\n                  id={list.name}\n                  className=\"sidebar-context-menu p-0 shadow-sm\"\n                >\n                  <MenuItem\n                    data={{ listName: list.name }}\n                    className=\"sidebar-context-menu-item px-2 py-1\"\n                    onClick={() =>\n                      this.props.showEditListOverlay(list.name, list.color)\n                    }\n                  >\n                    <div className=\"row align-items-center justify-content-left\">\n                      <i className=\"fas fa-edit col-1\"></i>\n                      <span className=\"col-6\">Edit</span>\n                    </div>\n                  </MenuItem>\n                  <MenuItem\n                    data={{ listName: list.name }}\n                    className=\"sidebar-context-menu-item px-2 py-1\"\n                    onClick={(e) => {\n                      e.preventDefault();\n                      const confirmed = window.confirm(\n                        'Are you sure you want to delete \"' +\n                          list.name +\n                          '\"? \\n\\nDeleting it will permanently delete all of its items.'\n                      );\n                      if (confirmed) this.props.deleteList(list.name);\n                    }}\n                  >\n                    <div className=\"row align-items-center justify-content-left\">\n                      <i className=\"fas fa-trash col-1\"></i>\n                      <span className=\"col-6\">Delete</span>\n                    </div>\n                  </MenuItem>\n                </ContextMenu>\n              </div>\n            );\n          })}\n        </div>\n        <div\n          className=\"createListBtn text-center sidebar-icon sidebar-item py-2\"\n          style={{ borderBottom: \"none\" }}\n          onClick={() => this.props.showAddListOverlay()}\n        >\n          <i className=\"fas fa-plus-circle\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction countIncompletedItems(list) {\n  const items = list.items;\n  var res = 0;\n  for (let i = 0; i < items.length; i++) {\n    if (!items[i].completed) res++;\n  }\n\n  return res;\n}\n","import React, { Component } from \"react\";\n\nexport default class Notification extends Component {\n  render() {\n    var itemTitle = this.props.title;\n    if (itemTitle !== undefined && itemTitle.length > 16)\n      itemTitle = itemTitle.substring(0, 16) + \"...\";\n    else if (itemTitle !== undefined && itemTitle.length === 0)\n      itemTitle = \"[Empty Title]\";\n    if (itemTitle !== undefined && itemTitle !== \"[Empty Title]\")\n      itemTitle = '\"' + itemTitle + '\"';\n\n    const listName =\n      this.props.listName === \"All\" || \"Today\" || \"Next 7 Days\"\n        ? this.props.originalList\n        : this.props.listName;\n    const notificationClasses =\n      \"notification p-3 shadow\" +\n      (this.props.displaying ? \" notification-displayed\" : \"\");\n    return (\n      <div className={notificationClasses}>\n        <div>\n          {itemTitle} was deleted from <br />\"{listName}\"\n        </div>\n        <div className=\"row\">\n          <div className=\"col-9\"></div>\n          <div\n            className=\"col-3 text-primary undo-button\"\n            style={{ cursor: \"pointer\", fontWeight: \"600\" }}\n            onClick={() => {\n              this.props.undo();\n              this.props.hideNotification();\n            }}\n          >\n            Undo\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nexport default class Toolbar extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"toolbar-icon col-10 mx-1 text-center d-flex justify-content-center align-items-center\">\n          <i className=\"fas fa-cogs\"></i>\n        </div>\n        <div\n          className=\"toolbar-icon col-10 mx-1 text-center d-flex justify-content-center align-items-center\"\n          onClick={(e) => {\n            e.preventDefault();\n            if (\n              this.props.currentlySelectedListName !== \"Today\" &&\n              this.props.currentlySelectedListName !== \"Next 7 Days\" &&\n              this.props.currentlySelectedListName !== \"All\"\n            ) {\n              var confirmed = window.confirm(\n                'Clear all completed items for \"' +\n                  this.props.currentlySelectedListName +\n                  '\"?'\n              );\n              if (confirmed) {\n                // delete all completed items\n                this.props.deleteAllCompletedItems();\n              }\n            }\n          }}\n        >\n          <i className=\"fas fa-hand-sparkles\"></i>\n        </div>\n        <div className=\"toolbar-icon col-10 mx-1 text-center d-flex justify-content-center align-items-center\">\n          <i className=\"fas fa-share-alt\"></i>\n        </div>\n        <div\n          className=\"toolbar-icon col-10 mx-1 text-center d-flex justify-content-center align-items-center\"\n          onClick={() => this.props.handleLogOut()}\n        >\n          <i className=\"fas fa-sign-out-alt\"></i>\n        </div>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nexport default class AddListOverlay extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { selectedColor: \"\", listName: \"\", issue: \"\" };\n  }\n\n  selectColor(e) {\n    const color = e.currentTarget.dataset.color;\n    this.setState({ selectedColor: color });\n    this.props.focusTitleInput();\n  }\n\n  handleSubmit() {\n    const listName = this.state.listName;\n    const color = this.state.selectedColor;\n\n    if (listNameExists(this.props.lists, listName)) {\n      this.setState({ issue: \"List name already exists.\" });\n    } else {\n      // call create list function\n      this.props.createList(listName, color);\n      // close the overlay\n      this.props.hideOverlay();\n      this.setState({ selectedColor: \"\", listName: \"\", issue: \"\" });\n    }\n  }\n\n  render() {\n    var issueText = this.state.issue;\n\n    const colors = [\n      \"#FDC5F5\",\n      \"#861388\",\n      \"#80242f\",\n      \"#f76f90\",\n      \"#e01e37\",\n      \"#FFD166\",\n      \"#fb5607\",\n      \"#ffcdb2\",\n      \"#8cb369\",\n      \"#29BF12\",\n      \"#06EFB1\",\n      \"#0496FF\",\n      \"#5390d9\",\n      \"#023e7d\",\n      \"#5448C8\",\n      \"#131200\",\n      \"#d9d9d9\",\n    ];\n\n    const classes =\n      \"add-list-overlay shadow font-grey p-4\" +\n      (this.props.displaying ? \" add-list-overlay-displayed\" : \"\");\n    return (\n      <div\n        className={classes}\n        onKeyDown={(e) => {\n          if (\n            e.keyCode === 13 &&\n            this.state.listName !== \"\" &&\n            this.state.selectedColor !== \"\"\n          )\n            this.handleSubmit();\n        }}\n      >\n        <div className=\"text-center\" style={{ pointerEvents: \"none\" }}>\n          <h5>Add List</h5>\n        </div>\n        <label htmlFor=\"add-list-title-input\">Title</label>\n        <input\n          id=\"add-list-title-input\"\n          className=\"form-control form-control-sm\"\n          ref={this.props.addListTitleRef}\n          onChange={(e) => {\n            this.setState({\n              listName: e.currentTarget.value,\n              issue: \"\",\n            });\n          }}\n          autoComplete=\"off\"\n        />\n        <span className=\"text-right\">\n          <small\n            className={\n              \"text-right text-danger\" +\n              (this.state.issue !== \"\" ? \"\" : \" invisible\")\n            }\n          >\n            {issueText}\n          </small>\n        </span>\n        <br />\n\n        <label htmlFor=\"add-list-color-input\">Color</label>\n\n        <div className=\"d-flex justify-content-around\">\n          {colors.map((color, index) => {\n            var shadedColor = shadeColor(color, -30) + \"BB\";\n\n            return (\n              <i\n                key={color}\n                className={\n                  \"fa fa-circle add-list-overlay-color\" +\n                  (this.state.selectedColor === color\n                    ? \" add-list-overlay-color-selected\"\n                    : \"\")\n                }\n                style={{\n                  fontSize: \"13px\",\n                  color: color,\n                  borderColor:\n                    this.state.selectedColor === color\n                      ? shadedColor\n                      : \"rgba(0, 0, 0, 0)\",\n                  backgroundColor:\n                    this.state.selectedColor === color\n                      ? shadedColor\n                      : \"rgba(0, 0, 0, 0)\",\n                }}\n                data-color={color}\n                onClick={(e) => this.selectColor(e)}\n              />\n            );\n          })}\n        </div>\n        <div className=\"d-flex justify-content-center mt-5 pb-2\">\n          <button\n            className=\"btn btn-sm btn-secondary mr-2 px-3\"\n            style={{ borderRadius: \"5px\" }}\n            onClick={() => {\n              this.setState({\n                selectedColor: \"\",\n                listName: \"\",\n                listNameExists: false,\n              });\n              this.props.hideOverlay();\n            }}\n          >\n            Cancel\n          </button>\n          <button\n            className=\"btn btn-sm btn-primary ml-2 px-3\"\n            style={{ borderRadius: \"5px\" }}\n            onClick={() => this.handleSubmit()}\n            disabled={\n              this.state.listName === \"\" || this.state.selectedColor === \"\"\n            }\n          >\n            Save\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction listNameExists(lists, listName) {\n  for (let i = 0; i < lists.length; i++)\n    if (lists[i].name === listName) return true;\n\n  return false;\n}\n\nfunction shadeColor(color, percent) {\n  var R = parseInt(color.substring(1, 3), 16);\n  var G = parseInt(color.substring(3, 5), 16);\n  var B = parseInt(color.substring(5, 7), 16);\n\n  R = parseInt((R * (100 + percent)) / 100);\n  G = parseInt((G * (100 + percent)) / 100);\n  B = parseInt((B * (100 + percent)) / 100);\n\n  R = R < 255 ? R : 255;\n  G = G < 255 ? G : 255;\n  B = B < 255 ? B : 255;\n\n  var RR = R.toString(16).length === 1 ? \"0\" + R.toString(16) : R.toString(16);\n  var GG = G.toString(16).length === 1 ? \"0\" + G.toString(16) : G.toString(16);\n  var BB = B.toString(16).length === 1 ? \"0\" + B.toString(16) : B.toString(16);\n\n  return \"#\" + RR + GG + BB;\n}\n","import React, { Component } from \"react\";\n\nexport default class EditListOverlay extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedColor: undefined,\n      listName: undefined,\n      issue: \"\",\n    };\n  }\n\n  selectColor(e) {\n    const color = e.currentTarget.dataset.color;\n    this.setState({ selectedColor: color });\n    this.props.focusTitleInput();\n  }\n\n  handleSubmit() {\n    const listName = this.state.listName;\n    const color = this.state.selectedColor;\n\n    if (!listNameExists(this.props.startingName, this.props.lists, listName)) {\n      this.setState({ selectedColor: undefined, listName: undefined });\n\n      this.props.editList(this.props.startingName, listName, color);\n\n      // close the overlay\n      this.props.hideOverlay();\n    } else {\n      this.setState({ issue: \"List name already exists.\" });\n    }\n  }\n\n  render() {\n    var issueText = this.state.issue;\n    if (\n      (this.state.listName === undefined ||\n        this.state.selectedColor === undefined) &&\n      this.props.startingColor !== \"\" &&\n      this.props.startingName !== \"\"\n    ) {\n      this.setState({\n        selectedColor: this.props.startingColor,\n        listName: this.props.startingName,\n      });\n    }\n\n    const colors = [\n      \"#FDC5F5\",\n      \"#861388\",\n      \"#80242f\",\n      \"#f76f90\",\n      \"#e01e37\",\n      \"#FFD166\",\n      \"#fb5607\",\n      \"#ffcdb2\",\n      \"#8cb369\",\n      \"#29BF12\",\n      \"#06EFB1\",\n      \"#0496FF\",\n      \"#5390d9\",\n      \"#023e7d\",\n      \"#5448C8\",\n      \"#131200\",\n      \"#d9d9d9\",\n    ];\n\n    const classes =\n      \"add-list-overlay shadow font-grey p-4\" +\n      (this.props.displaying ? \" add-list-overlay-displayed\" : \"\");\n    return (\n      <div\n        className={classes}\n        onKeyDown={(e) => {\n          if (\n            e.keyCode === 13 &&\n            this.state.listName !== \"\" &&\n            this.state.selectedColor !== \"\"\n          )\n            this.handleSubmit();\n        }}\n      >\n        <div className=\"text-center\" style={{ pointerEvents: \"none\" }}>\n          <h5>Edit List</h5>\n        </div>\n        <label htmlFor=\"add-list-title-input\">Title</label>\n        <input\n          id=\"add-list-title-input\"\n          className=\"form-control form-control-sm\"\n          ref={this.props.editListTitleRef}\n          onChange={(e) => {\n            this.setState({\n              listName: e.currentTarget.value,\n              issue: \"\",\n            });\n          }}\n          autoComplete=\"off\"\n        />\n        <span className=\"text-right\">\n          <small\n            className={\n              \"text-right text-danger\" +\n              (this.state.issue !== \"\" ? \"\" : \" invisible\")\n            }\n          >\n            {issueText}\n          </small>\n        </span>\n        <br />\n\n        <label htmlFor=\"add-list-color-input\">Color</label>\n\n        <div className=\"d-flex justify-content-around\">\n          {colors.map((color, index) => {\n            var shadedColor = shadeColor(color, -30) + \"BB\";\n            return (\n              <i\n                key={color}\n                className={\n                  \"fa fa-circle add-list-overlay-color\" +\n                  (this.state.selectedColor === color\n                    ? \" add-list-overlay-color-selected\"\n                    : \"\")\n                }\n                style={{\n                  fontSize: \"13px\",\n                  color: color,\n                  borderColor:\n                    this.state.selectedColor === color\n                      ? shadedColor\n                      : \"rgba(0, 0, 0, 0)\",\n                  backgroundColor:\n                    this.state.selectedColor === color\n                      ? shadedColor\n                      : \"rgba(0, 0, 0, 0)\",\n                }}\n                data-color={color}\n                onClick={(e) => this.selectColor(e)}\n              />\n            );\n          })}\n        </div>\n        <div className=\"d-flex justify-content-center mt-5 pb-2\">\n          <button\n            className=\"btn btn-sm btn-secondary mr-2 px-3\"\n            style={{ borderRadius: \"5px\" }}\n            onClick={() => {\n              this.setState({\n                selectedColor: undefined,\n                listName: undefined,\n              });\n              this.props.hideOverlay();\n            }}\n          >\n            Cancel\n          </button>\n          <button\n            className=\"btn btn-sm btn-primary ml-2 px-3\"\n            style={{ borderRadius: \"5px\" }}\n            onClick={() => this.handleSubmit()}\n            disabled={\n              this.state.listName === \"\" || this.state.selectedColor === \"\"\n            }\n          >\n            Save\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction listNameExists(originalName, lists, listName) {\n  for (let i = 0; i < lists.length; i++)\n    if (lists[i].name === listName && lists[i].name !== originalName)\n      return true;\n\n  return false;\n}\n\nfunction shadeColor(color, percent) {\n  var R = parseInt(color.substring(1, 3), 16);\n  var G = parseInt(color.substring(3, 5), 16);\n  var B = parseInt(color.substring(5, 7), 16);\n\n  R = parseInt((R * (100 + percent)) / 100);\n  G = parseInt((G * (100 + percent)) / 100);\n  B = parseInt((B * (100 + percent)) / 100);\n\n  R = R < 255 ? R : 255;\n  G = G < 255 ? G : 255;\n  B = B < 255 ? B : 255;\n\n  var RR = R.toString(16).length === 1 ? \"0\" + R.toString(16) : R.toString(16);\n  var GG = G.toString(16).length === 1 ? \"0\" + G.toString(16) : G.toString(16);\n  var BB = B.toString(16).length === 1 ? \"0\" + B.toString(16) : B.toString(16);\n\n  return \"#\" + RR + GG + BB;\n}\n","import React, { Component } from \"react\";\nimport Cookies from \"universal-cookie\";\nimport \"./App.css\";\n\nimport $ from \"jquery\";\n\nimport Todolist from \"./todolist/Todolist.js\";\nimport Details from \"./todolist/Details.js\";\nimport Login from \"./todolist/Login.js\";\nimport Register from \"./todolist/Register.js\";\nimport Sidebar from \"./todolist/Sidebar.js\";\nimport Notification from \"./todolist/Notification.js\";\nimport Toolbar from \"./todolist/Toolbar.js\";\nimport AddListOverlay from \"./todolist/AddListOverlay.js\";\nimport EditListOverlay from \"./todolist/EditListOverlay.js\";\n\nvar ObjectID = require(\"bson-objectid\");\nconst cookies = new Cookies();\n\nconst domain = \"http://localhost:9000\";\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      docTitle: \"Log in | Doozy\",\n      loggedIn: \"not yet\",\n      registered: \"not yet\",\n      loginOrRegister: \"login\",\n      lists: [],\n      username: \"\",\n      currentlySelectedListIndex: 0,\n      currentlySelectedListName: \"\",\n      currentlySelectedItemID: \"\",\n      bgURL: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      loaded: false,\n      notificationDisplaying: false,\n      lastDeletedItem: {},\n      lastDeletedItemListName: \"\",\n      addListOverlayDisplaying: false,\n      editListOverlayDisplaying: false,\n      editListName: \"\",\n      editListColor: \"\",\n    };\n    this.addListTitleRef = React.createRef();\n    this.editListTitleRef = React.createRef();\n  }\n\n  componentDidMount() {\n    var username = \"\";\n    var firstName = \"\";\n    var lastName = \"\";\n    var loggedIn = \"not yet\";\n    var docTitle = this.state.docTitle;\n\n    if (cookies.get(\"DoozyLogin\") !== undefined) {\n      username = cookies.get(\"DoozyLogin\").email;\n      firstName = cookies.get(\"DoozyLogin\").firstName;\n      lastName = cookies.get(\"DoozyLogin\").lastName;\n      loggedIn = \"successful\";\n\n      // extend the expiration date of the cookie\n      var aWeekFromNow = new Date();\n      aWeekFromNow.setDate(aWeekFromNow.getDate() + 7);\n      cookies.set(\n        \"DoozyLogin\",\n        { email: username, firstName: firstName, lastName: lastName },\n        {\n          path: \"/\",\n          expires: aWeekFromNow,\n        }\n      );\n      docTitle = \"Lists | Doozy\";\n    }\n\n    const bgURL = getRandomBGURL();\n\n    this.setState({\n      bgURL: bgURL,\n      username: username,\n      firstName: firstName,\n      lastName: lastName,\n      loggedIn: loggedIn,\n      docTitle: docTitle,\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.state.loaded === false && this.state.loggedIn === \"successful\") {\n      this.setState({ loaded: true });\n      this.getLists();\n    }\n  }\n\n  verifyLogin(username, password, authType) {\n    console.log(\"verify login with\", username, password, authType);\n    const url = domain + \"/verifyLogin\";\n    const body = JSON.stringify({\n      username: username,\n      password: password,\n      authType: authType,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        // console.log(res);\n        if (res.success) {\n          this.setState({\n            docTitle: \"Lists | Doozy\",\n            loggedIn: \"successful\",\n            username: username,\n            firstName: res.firstName,\n            lastName: res.lastName,\n          });\n          this.getLists();\n          // set a cookie\n          var aWeekFromNow = new Date();\n          aWeekFromNow.setDate(aWeekFromNow.getDate() + 7);\n          cookies.set(\n            \"DoozyLogin\",\n            {\n              email: username,\n              firstName: res.firstName,\n              lastName: res.lastName,\n            },\n            {\n              path: \"/\",\n              expires: aWeekFromNow,\n            }\n          );\n        } else if (res.info === \"username does not exist\")\n          this.setState({ loggedIn: \"username does not exist\" });\n        else if (res.info === \"auth type\")\n          this.setState({ loggedIn: \"auth type\", loginOrRegister: \"login\" });\n        else if (res.info === \"incorrect password\")\n          this.setState({ loggedIn: \"incorrect password\" });\n      });\n  }\n\n  createAccount(email, firstName, lastName, password, authType) {\n    if (email === \"\" || firstName === \"\" || lastName === \"\" || password === \"\")\n      this.setState({ registered: \"empty field(s)\" });\n    else if (!ValidateEmail(email))\n      this.setState({ registered: \"invalid email\" });\n    else if (password.length < 6)\n      this.setState({ registered: \"password length\" });\n    else {\n      const url = domain + \"/createAccount\";\n      const body = JSON.stringify({\n        username: email,\n        firstName: firstName,\n        lastName: lastName,\n        password: password,\n        authType: authType,\n      });\n\n      fetch(url, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: body,\n      })\n        .then((res) => res.json())\n        .then((res) => {\n          if (res.success) {\n            this.setState({\n              docTitle: \"Lists | Doozy\",\n              loggedIn: \"successful\",\n              registered: \"successful\",\n              username: email,\n              firstName: firstName,\n              lastName: lastName,\n            });\n            this.getLists();\n            // set a cookie\n            var aWeekFromNow = new Date();\n            aWeekFromNow.setDate(aWeekFromNow.getDate() + 7);\n            cookies.set(\n              \"DoozyLogin\",\n              { email: email, firstName: firstName, lastName: lastName },\n              {\n                path: \"/\",\n                expires: aWeekFromNow,\n              }\n            );\n          } else if (res.info === \"username already exists\") {\n            this.setState({ registered: \"username already exists\" });\n          }\n        });\n    }\n  }\n\n  deleteAllCompletedItems(listName) {\n    if (\n      listName !== \"Today\" &&\n      listName !== \"Next 7 Days\" &&\n      listName !== \"All\"\n    ) {\n      var lists = this.state.lists.slice();\n\n      for (let i = 0; i < lists.length; i++) {\n        if (lists[i].name === listName) {\n          var items = lists[i].items;\n          var firstCompletedIndex = 0;\n          for (let j = 0; j < items.length; j++) {\n            if (items[j].completed) {\n              firstCompletedIndex = j;\n              break;\n            }\n          }\n          items = items.slice(0, firstCompletedIndex);\n          break;\n        }\n      }\n\n      const url = domain + \"/deleteCompletedItems\";\n      const body = JSON.stringify({\n        username: this.state.username,\n        listName: listName,\n      });\n\n      fetch(url, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: body,\n      })\n        .then((res) => res.json())\n        .then((res) => {\n          this.setState({ lists: lists });\n          this.getLists();\n        });\n    }\n  }\n\n  setSelectedItem(itemID) {\n    this.setState({\n      currentlySelectedItemID: itemID,\n      addListOverlayDisplaying: false,\n    });\n  }\n\n  setSelectedList(listName) {\n    var index;\n\n    if (listName === \"Today\") index = this.state.lists.length - 3;\n    if (listName === \"Next 7 Days\") index = this.state.lists.length - 2;\n    if (listName === \"All\") index = this.state.lists.length - 1;\n    else {\n      for (let i = 0; i < this.state.lists.length; i++) {\n        if (this.state.lists[i].name === listName) {\n          index = i;\n          break;\n        }\n      }\n    }\n    this.setState({\n      currentlySelectedListName: listName,\n      currentlySelectedListIndex: index,\n      currentlySelectedItemID: \"\",\n      addListOverlayDisplaying: false,\n    });\n  }\n\n  toggleLoginRegister() {\n    if (this.state.loginOrRegister === \"login\")\n      this.setState({\n        docTitle: \"Sign Up | Doozy\",\n        loginOrRegister: \"register\",\n      });\n    else if (this.state.loginOrRegister === \"register\")\n      this.setState({\n        docTitle: \"Log In | Doozy\",\n        loginOrRegister: \"login\",\n      });\n  }\n\n  getCurrentlySelectedItem() {\n    if (this.state.currentlySelectedItemID === \"\")\n      return {\n        title: \"\",\n        description: \"\",\n        dueDate: \"\",\n        priority: \"\",\n        completed: false,\n        itemID: \"\",\n      };\n\n    var items = this.state.lists.slice(this.state.currentlySelectedListIndex)[0]\n      .items;\n\n    for (let i = 0; i < items.length; i++)\n      if (items[i].itemID === this.state.currentlySelectedItemID)\n        return items[i];\n\n    return {\n      title: \"\",\n      description: \"\",\n      dueDate: \"\",\n      priority: \"\",\n      completed: false,\n      itemID: \"\",\n    };\n  }\n\n  // for now assume we are getting the user's username from the props\n  // that are being passed in by a Login component (to be created)\n  getLists() {\n    const url = domain + \"/getLists\";\n    const body = JSON.stringify({\n      username: this.state.username /*this.props.username*/,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        var lists = res;\n\n        lists = this.appendSmartLists(lists);\n\n        const index =\n          this.state.registered === \"successful\" ? 0 : lists.length - 1;\n        const name = lists[index].name;\n        this.setState({\n          lists: lists,\n          currentlySelectedListIndex: index,\n          currentlySelectedListName: name,\n        });\n      });\n  }\n\n  appendSmartLists(lists) {\n    var next7Days = this.getNext7Days(lists);\n    var today = this.getToday(lists);\n    var all = this.getAll(lists);\n\n    lists.push(today);\n    lists.push(next7Days);\n    lists.push(all);\n\n    return lists;\n  }\n\n  getNext7Days(lists) {\n    var next7Days = {\n      name: \"Next 7 Days\",\n      color: \"\",\n      items: [],\n    };\n\n    for (let i = 0; i < lists.length; i++) {\n      const items = lists[i].items;\n      for (let j = 0; j < items.length; j++) {\n        if (checkIfNext7Days(items[j].dueDate)) {\n          items[j].originalList = lists[i].name;\n          items[j].color = lists[i].color;\n          next7Days.items.push(items[j]);\n        }\n      }\n    }\n    next7Days.items.sort(sortListItems);\n\n    return next7Days;\n  }\n\n  getAll(lists) {\n    var all = {\n      name: \"All\",\n      color: \"\",\n      items: [],\n    };\n\n    for (let i = 0; i < lists.length; i++) {\n      const items = lists[i].items;\n\n      for (let j = 0; j < items.length; j++) {\n        items[j].originalList = lists[i].name;\n        items[j].color = lists[i].color;\n      }\n\n      all.items = all.items.concat(lists[i].items);\n    }\n\n    all.items.sort(sortListItems);\n\n    return all;\n  }\n\n  getToday(lists) {\n    var today = {\n      name: \"Today\",\n      color: \"\",\n      items: [],\n    };\n\n    var t = dateToStr(new Date());\n\n    for (let i = 0; i < lists.length; i++) {\n      const items = lists[i].items;\n      for (let j = 0; j < items.length; j++) {\n        if (items[j].dueDate === t) {\n          items[j].originalList = lists[i].name;\n          items[j].color = lists[i].color;\n          today.items.push(items[j]);\n        }\n      }\n    }\n    today.items.sort(sortListItems);\n\n    return today;\n  }\n\n  addListItem(\n    listName,\n    title,\n    dueDate,\n    description,\n    priority,\n    color,\n    itemID,\n    completed\n  ) {\n    const lists = this.state.lists.slice();\n    var id = null;\n    var item = {\n      title: title,\n      description: description,\n      dueDate: dueDate,\n      priority: priority,\n      completed: completed === undefined ? false : completed,\n      originalList: listName,\n      color: color,\n      itemID: itemID === undefined ? new ObjectID().toString() : itemID,\n    };\n    for (let i = 0; i < lists.length; i++) {\n      if (lists[i].name === listName) {\n        const items = lists[i].items;\n        items.push(item);\n        id = item.itemID;\n        items.sort(sortListItems);\n        break;\n      }\n    }\n\n    var today = dateToStr(new Date());\n    if (dueDate === today) {\n      lists[lists.length - 3].items.push(item);\n      lists[lists.length - 3].items.sort(sortListItems);\n    }\n    if (checkIfNext7Days(dueDate)) {\n      lists[lists.length - 2].items.push(item);\n      lists[lists.length - 2].items.sort(sortListItems);\n    }\n    lists[lists.length - 1].items.push(item);\n    lists[lists.length - 1].items.sort(sortListItems);\n\n    this.setState({ lists: lists, currentlySelectedItemID: id });\n\n    const url = domain + \"/addListItem\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      listName: listName,\n      title: title,\n      dueDate: dueDate,\n      description: description,\n      priority: priority,\n      itemID: id,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    });\n  }\n\n  deleteListItem(listName, itemID, originalList) {\n    console.log(listName, itemID, originalList);\n    var dueDate = \"\";\n    var item;\n    const lists = this.state.lists.slice();\n    for (let i = 0; i < lists.length; i++) {\n      if (lists[i].name === listName || lists[i].name === originalList) {\n        var items = lists[i].items;\n        var idx = -1;\n        for (let j = 0; j < items.length; j++) {\n          if (items[j].itemID === itemID) {\n            idx = j;\n            dueDate = items[j].dueDate;\n            item = items[j];\n            break;\n          }\n        }\n        items = items.splice(idx, 1);\n      }\n    }\n\n    let index = -1;\n    var today = dateToStr(new Date());\n    if (dueDate === today) {\n      items = lists[lists.length - 3].items;\n      for (let j = 0; j < items.length; j++) {\n        if (items[j].itemID === itemID) {\n          index = j;\n          break;\n        }\n      }\n      items = items.splice(index, 1);\n    }\n    if (checkIfNext7Days(dueDate)) {\n      items = lists[lists.length - 2].items;\n      for (let j = 0; j < items.length; j++) {\n        if (items[j].itemID === itemID) {\n          index = j;\n          break;\n        }\n      }\n      items = items.splice(index, 1);\n    }\n    items = lists[lists.length - 1].items;\n    for (let j = 0; j < items.length; j++) {\n      if (items[j].itemID === itemID) {\n        index = j;\n        break;\n      }\n    }\n    items = items.splice(index, 1);\n\n    this.setState({\n      lists: lists,\n      currentlySelectedItemID: \"\",\n      lastDeletedItem: item,\n      lastDeletedItemListName: listName,\n    });\n\n    const url = domain + \"/deleteListItem\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      listName:\n        listName === \"All\" || listName === \"Next 7 Days\" || listName === \"Today\"\n          ? item.originalList\n          : listName,\n      itemID: itemID,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    }).then((res) => res.text());\n    this.handleDisplayNotification();\n  }\n\n  setItemTitle(listName, itemID, title) {\n    var lists = this.state.lists.slice();\n    var item = undefined;\n    for (let i = 0; i < lists.length; i++) {\n      if (lists[i].name === listName) {\n        const items = lists[i].items;\n        for (let j = 0; j < items.length; j++) {\n          if (items[j].itemID === itemID) {\n            items[j].title = title;\n            item = items[j];\n            break;\n          }\n        }\n        break;\n      }\n    }\n\n    if (item.originalList !== listName) {\n      for (let i = 0; i < lists.length; i++) {\n        if (lists[i].name === item.originalList) {\n          const items = lists[i].items;\n          for (let j = 0; j < items.length; j++) {\n            if (items[j].itemID === itemID) {\n              items[j].title = title;\n              break;\n            }\n          }\n          break;\n        }\n      }\n    }\n\n    lists = lists.slice(0, lists.length - 3);\n    lists = this.appendSmartLists(lists);\n\n    const url = domain + \"/setItemTitle\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      listName:\n        listName === \"All\" || listName === \"Next 7 Days\" || listName === \"Today\"\n          ? item.originalList\n          : listName,\n      itemID: itemID,\n      title: title,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    }).then((res) => res.text());\n  }\n\n  setItemCompleted(listName, itemID, completed) {\n    var lists = this.state.lists.slice();\n    var item = undefined;\n    for (let i = 0; i < lists.length; i++) {\n      if (lists[i].name === listName) {\n        const items = lists[i].items;\n        for (let j = 0; j < items.length; j++) {\n          if (items[j].itemID === itemID) {\n            items[j].completed = completed;\n            item = items[j];\n            items.sort(sortListItems);\n            break;\n          }\n        }\n        break;\n      }\n    }\n\n    if (item.originalList !== listName) {\n      for (let i = 0; i < lists.length; i++) {\n        if (lists[i].name === item.originalList) {\n          const items = lists[i].items;\n          for (let j = 0; j < items.length; j++) {\n            if (items[j].itemID === itemID) {\n              items[j].completed = completed;\n              items.sort(sortListItems);\n              break;\n            }\n          }\n          break;\n        }\n      }\n    }\n\n    lists = lists.slice(0, lists.length - 3);\n    lists = this.appendSmartLists(lists);\n\n    this.setState({ lists: lists });\n\n    const url = domain + \"/setItemCompleted\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      listName:\n        listName === \"All\" || listName === \"Next 7 Days\" || listName === \"Today\"\n          ? item.originalList\n          : listName,\n      itemID: itemID,\n      completed: completed,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    });\n  }\n\n  setItemDueDate(listName, itemID, dueDate) {\n    var lists = this.state.lists.slice();\n    var item = undefined;\n    for (let i = 0; i < lists.length; i++) {\n      if (lists[i].name === listName) {\n        const items = lists[i].items;\n        for (let j = 0; j < items.length; j++) {\n          if (items[j].itemID === itemID) {\n            items[j].dueDate = dueDate;\n            item = items[j];\n            items.sort(sortListItems);\n            break;\n          }\n        }\n        break;\n      }\n    }\n\n    if (item.originalList !== listName) {\n      for (let i = 0; i < lists.length; i++) {\n        if (lists[i].name === item.originalList) {\n          const items = lists[i].items;\n          for (let j = 0; j < items.length; j++) {\n            if (items[j].itemID === itemID) {\n              items[j].dueDate = dueDate;\n              items.sort(sortListItems);\n              break;\n            }\n          }\n          break;\n        }\n      }\n    }\n\n    lists = lists.slice(0, lists.length - 3);\n    lists = this.appendSmartLists(lists);\n\n    this.setState({ lists: lists });\n\n    const url = domain + \"/setItemDueDate\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      listName:\n        listName === \"All\" || listName === \"Next 7 Days\" || listName === \"Today\"\n          ? item.originalList\n          : listName,\n      itemID: itemID,\n      dueDate: dueDate,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    });\n  }\n\n  setItemPriority(listName, itemID, priority) {\n    var lists = this.state.lists.slice();\n    var item = undefined;\n    for (let i = 0; i < lists.length; i++) {\n      if (lists[i].name === listName) {\n        const items = lists[i].items;\n        for (let j = 0; j < items.length; j++) {\n          if (items[j].itemID === itemID) {\n            items[j].priority = priority;\n            item = items[j];\n            items.sort(sortListItems);\n            break;\n          }\n        }\n        break;\n      }\n    }\n\n    if (item.originalList !== listName) {\n      for (let i = 0; i < lists.length; i++) {\n        if (lists[i].name === item.originalList) {\n          const items = lists[i].items;\n          for (let j = 0; j < items.length; j++) {\n            if (items[j].itemID === itemID) {\n              items[j].priority = priority;\n              items.sort(sortListItems);\n              break;\n            }\n          }\n          break;\n        }\n      }\n    }\n\n    lists = lists.slice(0, lists.length - 3);\n    lists = this.appendSmartLists(lists);\n\n    this.setState({ lists: lists });\n\n    const url = domain + \"/setItemPriority\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      listName:\n        listName === \"All\" || listName === \"Next 7 Days\" || listName === \"Today\"\n          ? item.originalList\n          : listName,\n      itemID: itemID,\n      priority: priority,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    });\n  }\n\n  setItemDescription(listName, itemID, description) {\n    var lists = this.state.lists.slice();\n    var item = undefined;\n    for (let i = 0; i < lists.length; i++) {\n      if (lists[i].name === listName) {\n        const items = lists[i].items;\n        for (let j = 0; j < items.length; j++) {\n          if (items[j].itemID === itemID) {\n            items[j].description = description;\n            item = items[j];\n            break;\n          }\n        }\n        break;\n      }\n    }\n\n    if (item.originalList !== listName) {\n      for (let i = 0; i < lists.length; i++) {\n        if (lists[i].name === item.originalList) {\n          const items = lists[i].items;\n          for (let j = 0; j < items.length; j++) {\n            if (items[j].itemID === itemID) {\n              items[j].description = description;\n              break;\n            }\n          }\n          break;\n        }\n      }\n    }\n\n    this.setState({ lists: lists });\n\n    const url = domain + \"/setItemDescription\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      listName:\n        listName === \"All\" || listName === \"Next 7 Days\" || listName === \"Today\"\n          ? item.originalList\n          : listName,\n      itemID: itemID,\n      description: description,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    });\n  }\n\n  handleLogOut() {\n    // delete the cookie\n    cookies.remove(\"DoozyLogin\");\n\n    // const bgURL = getRandomBGURL();\n\n    // reset state back to start\n    this.setState({\n      docTitle: \"Log in | Doozy\",\n      loggedIn: \"not yet\",\n      registered: \"not yet\",\n      loginOrRegister: \"login\",\n      lists: [],\n      username: \"\",\n      currentlySelectedListIndex: 0,\n      currentlySelectedListName: \"\",\n      currentlySelectedItemID: \"\",\n      // bgURL: bgURL,\n      firstName: \"\",\n      lastName: \"\",\n      loaded: false,\n    });\n  }\n\n  createEmptyList(listName, color) {\n    var list = { name: listName, color: color, items: [] };\n    var lists = this.state.lists.slice();\n    lists.splice(lists.length - 3, 0, list);\n    this.setState({\n      lists: lists,\n      currentlySelectedListIndex: lists.length - 4,\n      currentlySelectedListName: listName,\n    });\n\n    const url = domain + \"/createEmptyList\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      listName: listName,\n      color: color,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    });\n  }\n\n  focusAddListOverlayTitleInput() {\n    this.addListTitleRef.current.focus();\n  }\n\n  focusEditListOverlayTitleInput() {\n    this.editListTitleRef.current.focus();\n  }\n\n  deleteList(listName) {\n    var idx = -1;\n    var lists = this.state.lists.slice();\n    for (let i = 0; i < lists.length; i++)\n      if (lists[i].name === listName) {\n        idx = i;\n        break;\n      }\n    lists.splice(idx, 1);\n\n    lists = lists.slice(0, lists.length - 3);\n    lists = this.appendSmartLists(lists);\n\n    this.setState({\n      lists: lists,\n      currentlySelectedItemID: \"\",\n      currentlySelectedListIndex: idx - 1 >= 0 ? idx - 1 : 2,\n      currentlySelectedListName:\n        idx - 1 >= 0 ? lists[idx - 1].name : lists[2].name,\n    });\n\n    const url = domain + \"/deleteList\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      listName: listName,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    });\n  }\n\n  editList(oldName, newName, color) {\n    var lists = this.state.lists.slice();\n\n    for (let i = 0; i < lists.length; i++) {\n      if (lists[i].name === oldName) {\n        lists[i].name = newName;\n        lists[i].color = color;\n        var items = lists[i].items;\n        for (let j = 0; j < items.length; j++) {\n          items[j].originalList = newName;\n          items[j].color = color;\n        }\n        break;\n      }\n    }\n\n    this.setState({ lists: lists });\n\n    const url = domain + \"/editList\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      oldName: oldName,\n      newName: newName,\n      color: color,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    });\n  }\n\n  handleDisplayNotification() {\n    this.setState({ notificationDisplaying: true });\n    setTimeout(() => {\n      this.setState({ notificationDisplaying: false });\n    }, 4000);\n  }\n\n  handleShowAddListOverlay() {\n    this.setState({ addListOverlayDisplaying: true });\n    $(\".add-list-overlay-color-selected\").removeClass(\n      \".add-list-overlay-color-selected\"\n    );\n    this.addListTitleRef.current.value = \"\";\n    setTimeout(() => {\n      this.addListTitleRef.current.focus();\n    }, 500);\n  }\n\n  handleShowEditListOverlay(listName, color) {\n    this.setState({\n      editListOverlayDisplaying: true,\n      editListColor: color,\n      editListName: listName,\n    });\n\n    this.editListTitleRef.current.value = listName;\n\n    setTimeout(() => {\n      this.editListTitleRef.current.focus();\n    }, 500);\n  }\n\n  handleHideAddListOverlay() {\n    this.setState({ addListOverlayDisplaying: false });\n  }\n\n  handleHideEditListOverlay() {\n    this.setState({\n      editListOverlayDisplaying: false,\n      editListColor: \"\",\n      editListName: \"\",\n    });\n  }\n\n  render() {\n    document.title = this.state.docTitle;\n\n    const listArr = this.state.lists.slice(\n      this.state.currentlySelectedListIndex,\n      this.state.currentlySelectedListIndex + 1\n    );\n\n    var lastDeletedItemTitle = \"\";\n    if (this.state.lastDeletedItem !== undefined)\n      lastDeletedItemTitle = this.state.lastDeletedItem.title;\n\n    const selectedItem = this.getCurrentlySelectedItem();\n    const appClasses =\n      \"row align-items-center\" +\n      (this.state.loggedIn === \"successful\" ? \"\" : \" d-none\");\n    const loginRegClasses =\n      \"container-fluid align-items-center\" +\n      (this.state.loggedIn === \"successful\" ? \" d-none\" : \" d-flex \");\n\n    return (\n      <>\n        <div\n          id=\"login-register\"\n          style={{ backgroundImage: this.state.bgURL }}\n          className={loginRegClasses}\n        >\n          <div\n            className={\n              \"login-section\" +\n              (this.state.loginOrRegister === \"login\" ? \"\" : \" d-none\")\n            }\n          >\n            <Login\n              loginInfo={this.state.loggedIn}\n              verifyLogin={(username, password, authType) =>\n                this.verifyLogin(username, password, authType)\n              }\n              createAccount={(email, fName, lName, password, authType) =>\n                this.createAccount(email, fName, lName, password, authType)\n              }\n              switchToRegister={() => this.toggleLoginRegister()}\n            />\n          </div>\n          <div\n            className={\n              \"register-section\" +\n              (this.state.loginOrRegister === \"register\" ? \"\" : \" d-none\")\n            }\n          >\n            <Register\n              switchToLogin={() => this.toggleLoginRegister()}\n              verifyLogin={(username, password, authType) =>\n                this.verifyLogin(username, password, authType)\n              }\n              createAccount={(email, fName, lName, password, authType) =>\n                this.createAccount(email, fName, lName, password, authType)\n              }\n              registerInfo={this.state.registered}\n            />\n          </div>\n        </div>\n        <div\n          id=\"app\"\n          style={{ backgroundImage: this.state.bgURL }}\n          className={appClasses}\n          onKeyDown={(e) => {\n            if (e.keyCode === 27 && this.state.addListOverlayDisplaying)\n              this.setState({ addListOverlayDisplaying: false });\n          }}\n        >\n          <AddListOverlay\n            id=\"addListOverlay\"\n            displaying={this.state.addListOverlayDisplaying}\n            addListTitleRef={this.addListTitleRef}\n            lists={this.state.lists}\n            hideOverlay={() => this.handleHideAddListOverlay()}\n            createList={(listName, color) =>\n              this.createEmptyList(listName, color)\n            }\n            focusTitleInput={() => this.focusAddListOverlayTitleInput()}\n          />\n          <EditListOverlay\n            id=\"editListOverlay\"\n            displaying={this.state.editListOverlayDisplaying}\n            editListTitleRef={this.editListTitleRef}\n            lists={this.state.lists}\n            hideOverlay={() => this.handleHideEditListOverlay()}\n            focusTitleInput={() => this.focusEditListOverlayTitleInput()}\n            startingName={this.state.editListName}\n            startingColor={this.state.editListColor}\n            editList={(oldName, newName, color) =>\n              this.editList(oldName, newName, color)\n            }\n          />\n          <Notification\n            displaying={this.state.notificationDisplaying}\n            hideNotification={() =>\n              this.setState({ notificationDisplaying: false })\n            }\n            title={lastDeletedItemTitle}\n            undo={() => {\n              if (this.state.lastDeletedItem.itemID !== undefined) {\n                this.addListItem(\n                  this.state.lastDeletedItem.originalList,\n                  this.state.lastDeletedItem.title,\n                  this.state.lastDeletedItem.dueDate,\n                  this.state.lastDeletedItem.description,\n                  this.state.lastDeletedItem.priority,\n                  this.state.lastDeletedItem.color,\n                  this.state.lastDeletedItem.itemID,\n                  this.state.lastDeletedItem.completed\n                );\n              }\n            }}\n            listName={this.state.lastDeletedItemListName}\n            originalList={this.state.lastDeletedItem.originalList}\n          />\n          <div id=\"sidebar\" className=\"p-0\">\n            <Sidebar\n              username={this.state.username}\n              lists={this.state.lists}\n              firstName={this.state.firstName}\n              lastName={this.state.lastName}\n              currentlySelectedListName={this.state.currentlySelectedListName}\n              setSelectedList={(listName) => this.setSelectedList(listName)}\n              showAddListOverlay={() => this.handleShowAddListOverlay()}\n              deleteList={(listName) => this.deleteList(listName)}\n              showEditListOverlay={(listName, color) =>\n                this.handleShowEditListOverlay(listName, color)\n              }\n            />\n          </div>\n          {listArr.map((list, i) => {\n            return (\n              <React.Fragment key={list.name}>\n                <div id=\"todolist\" className=\"col-5\">\n                  <Todolist\n                    color={list.color}\n                    name={list.name}\n                    items={list.items}\n                    addListItem={(\n                      listName,\n                      title,\n                      dueDate,\n                      description,\n                      priority,\n                      color\n                    ) =>\n                      this.addListItem(\n                        listName,\n                        title,\n                        dueDate,\n                        description,\n                        priority,\n                        color\n                      )\n                    }\n                    deleteListItem={(listName, itemID, originalList) =>\n                      this.deleteListItem(listName, itemID, originalList)\n                    }\n                    setItemTitle={(listName, itemID, title) =>\n                      this.setItemTitle(listName, itemID, title)\n                    }\n                    setItemCompleted={(listName, itemID, completed) =>\n                      this.setItemCompleted(listName, itemID, completed)\n                    }\n                    setSelectedItem={(itemID) => this.setSelectedItem(itemID)}\n                    selectedItemID={this.state.currentlySelectedItemID}\n                    hideAddListOverlay={() => this.handleHideAddListOverlay()}\n                  />\n                </div>\n                <div id=\"details\" className=\"col-4\">\n                  <Details\n                    listName={list.name}\n                    selectedItemID={selectedItem.itemID}\n                    selectedItemColor={selectedItem.color}\n                    selectedItemList={selectedItem.originalList}\n                    selectedItemTitle={selectedItem.title}\n                    selectedItemDueDate={selectedItem.dueDate}\n                    selectedItemDescription={selectedItem.description}\n                    selectedItemPriority={selectedItem.priority}\n                    selectedItemCompleted={selectedItem.completed}\n                    setItemTitle={(listName, itemID, title) =>\n                      this.setItemTitle(listName, itemID, title)\n                    }\n                    setItemCompleted={(listName, itemID, completed) =>\n                      this.setItemCompleted(listName, itemID, completed)\n                    }\n                    setItemDueDate={(listName, itemID, dueDate) =>\n                      this.setItemDueDate(listName, itemID, dueDate)\n                    }\n                    setItemPriority={(listName, itemID, priority) =>\n                      this.setItemPriority(listName, itemID, priority)\n                    }\n                    setItemDescription={(listName, itemID, description) =>\n                      this.setItemDescription(listName, itemID, description)\n                    }\n                    handleDelete={(listName, itemID, originalList) =>\n                      this.deleteListItem(listName, itemID, originalList)\n                    }\n                    hideAddListOverlay={() => this.handleHideAddListOverlay()}\n                  />\n                </div>\n                <div className=\"col-1\"></div>\n                <div id=\"toolbar\" className=\"row col-1 justify-content-center\">\n                  <Toolbar\n                    handleLogOut={() => this.handleLogOut()}\n                    deleteAllCompletedItems={() => {\n                      this.deleteAllCompletedItems(\n                        this.state.currentlySelectedListName\n                      );\n                    }}\n                    currentlySelectedListName={\n                      this.state.currentlySelectedListName\n                    }\n                  />\n                </div>\n              </React.Fragment>\n            );\n          })}\n        </div>\n      </>\n    );\n  }\n}\n\nfunction sortListItems(a, b) {\n  if (a.completed && !b.completed) return 1;\n  else if (!a.completed && b.completed) return -1;\n  else if (a.dueDate === \"\" && b.dueDate !== \"\") return 1;\n  else if (a.dueDate !== \"\" && b.dueDate === \"\") return -1;\n  else {\n    // both are either completed or incomplete or have a due date set or no due date set\n    if (a.dueDate === b.dueDate) {\n      // sort items due on the same day by priority\n      const priorities = [\"low\", \"medium\", \"high\"];\n      const priorityA = priorities.indexOf(a.priority);\n      const priorityB = priorities.indexOf(b.priority);\n\n      if (priorityA !== priorityB) return priorityB - priorityA;\n      else {\n        // sort by itemID\n        const itemIDA = a.itemID;\n        const itemIDB = b.itemID;\n        return itemIDA - itemIDB;\n      }\n    } else {\n      // sort items based on date\n      const dateA = new Date(a.dueDate + \" 00:00\");\n      const dateB = new Date(b.dueDate + \" 00:00\");\n      return dateA - dateB;\n    }\n  }\n}\n\nfunction ValidateEmail(mail) {\n  if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(mail)) {\n    return true;\n  }\n  return false;\n}\n\nfunction getRandomBGURL() {\n  // visit https://freeimage.host/ to host more background images\n  const backgroundURLs = [\n    \"https://iili.io/J4xbBS.jpg\",\n    \"https://iili.io/J4xtQ2.jpg\",\n    \"https://iili.io/J4z92e.jpg\",\n    \"https://iili.io/J4zdpj.jpg\",\n    \"https://iili.io/J4zJkb.jpg\",\n    \"https://iili.io/J4zWZl.jpg\",\n    \"https://iili.io/J4Weln.jpg\",\n    \"https://iili.io/J4WhoN.jpg\",\n    \"https://iili.io/J4WOKX.jpg\",\n    \"https://iili.io/J4WUN4.jpg\",\n    \"https://iili.io/J4WgDl.jpg\",\n    \"https://iili.io/J4WSRf.jpg\",\n    \"https://iili.io/J4WmDQ.jpg\",\n    \"https://iili.io/J4X9WB.jpg\",\n    \"https://iili.io/J4XHiP.jpg\",\n    \"https://iili.io/J4WyxV.jpg\",\n    \"https://iili.io/JPNuGR.jpg\",\n    \"https://iili.io/JPN53N.jpg\",\n    \"https://iili.io/JPNTCv.jpg\",\n    \"https://iili.io/JiKSp4.jpg\",\n    \"https://iili.io/Jszxun.jpg\",\n    \"https://iili.io/JszAG4.jpg\",\n    \"https://iili.io/JszIZG.jpg\",\n    \"https://iili.io/Jszzjs.jpg\",\n    \"https://iili.io/Jszunf.jpg\",\n  ];\n  var currBackground = Math.floor(\n    Math.random() * Math.floor(backgroundURLs.length)\n  );\n\n  return 'url(\"' + backgroundURLs[currBackground] + '\")';\n}\n\nfunction dateToStr(date) {\n  var day = date.getDate();\n  if (day < 10) day = \"0\" + day.toString();\n\n  var month = date.getMonth() + 1;\n  if (month < 10) month = \"0\" + month.toString();\n\n  var year = date.getFullYear().toString();\n\n  var formatted = year + \"-\" + month + \"-\" + day;\n\n  return formatted;\n}\n\nfunction checkIfNext7Days(dateStr) {\n  var curr = new Date();\n  for (let i = 0; i < 7; i++) {\n    var d = dateToStr(curr);\n    if (dateStr === d) return true;\n    curr.setDate(curr.getDate() + 1);\n  }\n\n  d = dateToStr(curr);\n  if (dateStr === d) return true;\n\n  return false;\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}