{"version":3,"sources":["todolist/ListItem.js","todolist/CalendarOverlay.js","todolist/PrioritiesOverlay.js","todolist/DateParser.js","todolist/Todolist.js","todolist/PriorityParser.js","todolist/Details.js","todolist/Login.js","todolist/Register.js","todolist/Sidebar.js","todolist/Notification.js","todolist/Toolbar.js","todolist/AddListOverlay.js","todolist/EditListOverlay.js","todolist/SettingsOverlay.js","App.js","serviceWorker.js","index.js"],"names":["ListItem","props","handleKeyPress","e","keyCode","inputRef","current","blur","handleBlur","title","target","value","setItemTitle","listName","state","itemID","React","createRef","dueDate","completed","priority","pressedKeys","handleCheck","bind","checked","this","setItemCompleted","setSelectedItem","map","type","handleDelete","setState","prevProp","formattedDate","str","undefined","today","Date","currYear","getFullYear","year","parseInt","substring","month","day","dateObj","getMonth","yesterday","setDate","getDate","tomorrow","formatDate","dueDateClassList","date","getIsLate","rowClasses","selectedItemID","rowBorderColor","getRowBorderColor","titleInputClasses","className","onClick","handleItemSelection","onContextMenu","style","borderColor","onChange","spellCheck","ref","onKeyDown","handleCmdDelete","onBlur","autoComplete","Component","CalendarOverlay","handleCalendarOverlayClear","formatted","toString","dateToStr","setDueDate","d","currentlySelectedDate","handleClear","handleCalendarOverlayOK","PrioritiesOverlay","selectedPriority","currentlySelectedPriority","innerHTML","toLowerCase","handlePrioritiesOverlayClick","highPriorityClasslist","mediumPriorityClasslist","lowPriorityClasslist","handlePriorityItemClick","getFormattedDate","getPosition","array","entry","occurence","seen","i","length","indexOf","Todolist","calendarOverlayDisplaying","prioritiesOverlayDisplaying","addItemValue","addItemDate","addItemPriority","listItems","items","addItemDateKeywords","addItemPriorityKeywords","completedItemsShowing","$","document","ready","hide","val","getElementById","removeOccurence","replace","trim","addListItem","name","color","keywordSet","find","show","backspaceEvent","Event","which","trigger","datesEnabled","keywords","prioritiesEnabled","dateParserObj","spokenWords","months","daysWithSuffix","words","split","isSpokenWord","isStringDate","monthBeforeDay","monthCandidates","word","push","f","monthIndex","dateCandidates","index","dateCandidate","idx","currMonth","currDate","currDayOfTheWeek","getDay","difference","day1","day2","diff","distanceToNextDay","dayOfTheWeek","dayOfTheWeekToNumber","nextGivenDay","currDay","monthNum","convertMonthToNumber","dayNum","keywordsToReturn","DateParser","priorityParserObj","priorities","keyword","keywordToPriority","PriorityParser","parsedDate","parsedPriority","priorityKeywords","id","originalList","deleteListItem","xCoord","clientX","css","classes","focus","slideToggle","calendarOverlayClasslist","prioritiesOverlayClasslist","dueDateFormatted","placeholder","addItemText","priorityIconClasses","getPriorityIconClasses","calendarIconClasses","getCalendarIconClasses","firstCompletedIndex","getIndexOfFirstCompletedItem","incompletedItems","completedItems","slice","emptyListText","emptyListIcon","completedSeparatorIconClasses","handleCloseOverlays","suppressContentEditableWarning","defaultValue","onInput","handleInput","keyPress","hideAddListOverlay","handleShowPrioritiesOverlay","handleShowCalendarOverlay","setAddItemDate","pointerEvents","item","key","description","data","foo","cursor","handleCompletedSeparatorClick","toRemove","startIndex","endIndex","Details","handleTitleInputBlur","selectedItemTitle","handleTitleInputKeyPress","titleInputRef","handleDescInputBlur","selectedItemDescription","setItemDescription","handleDescInputKeyPress","descInputRef","selectedItemDueDate","selectedItemPriority","selectedItemCompleted","setItemDueDate","setItemPriority","priorityPickerClasses","Fragment","selectedItemList","handleCalendarChange","handlePriorityChange","fontWeight","fontSize","selectedItemColor","paddingTop","Login","handleGoogleOAuth","response","username","profileObj","email","firstName","givenName","lastName","password","hashGoogleInfo","body","JSON","stringify","fetch","domain","method","headers","then","res","json","verifyLogin","createAccount","usernameEntered","nextClicked","passwordInput","entered","preventDefault","reverse","join","responseObj","reverseStr","familyName","googleId","sentBack","loginInfo","width","height","src","alt","clientId","render","renderProps","disabled","buttonText","onSuccess","onFailure","alert","cookiePolicy","htmlFor","aria-describedby","handleEmailInput","handleEmailEnter","handlePasswordInput","handleLoginBtnClick","switchToRegister","Register","handleSubmit","warningMessage","emptyFields","Array","fill","registerInfo","emailInputHighlighted","firstNameInputHighlighted","lastNameInputHighlighted","passwordInputHighlighted","handleEmailChange","handleFirstNameChange","handleLastNameChange","handlePasswordChange","handleKeyDown","switchToLogin","Sidebar","selectedList","currentlySelectedListName","currentTarget","dataset","setSelectedList","toUpperCase","personalLists","lists","incompletedCountToday","incompletedCountNext7Days","incompletedCountAll","countIncompletedItems","profileIconAbbr","createProfileAbbreviation","backgroundColor","borderRadius","paddingLeft","paddingRight","paddingBottom","data-list-name","selectList","list","count","showEditListOverlay","window","confirm","deleteList","borderBottom","showAddListOverlay","Notification","itemTitle","notificationClasses","displaying","undo","hideNotification","Toolbar","handleShowSettingsOverlay","deleteAllCompletedItems","handleLogOut","AddListOverlay","selectedColor","issue","focusTitleInput","listNameExists","createList","hideOverlay","issueText","addListTitleRef","shadedColor","percent","R","G","B","RR","GG","BB","shadeColor","data-color","selectColor","EditListOverlay","originalName","startingName","editList","startingColor","editListTitleRef","SettingsOverlay","sortingType","setSortingSetting","keywordType","setKeywordsSetting","prioritiesKeywordsChecked","dateKeywordsChecked","prioritiesSortingChecked","sorting","datesSortingChecked","opacity","settingsRef","data-type","setKeywords","setSorting","hideSettingsOverlay","ObjectID","require","cookies","Cookies","App","docTitle","loggedIn","registered","loginOrRegister","currentlySelectedListIndex","currentlySelectedItemID","bgURL","loaded","notificationDisplaying","lastDeletedItem","lastDeletedItemListName","addListOverlayDisplaying","editListOverlayDisplaying","settingsOverlayDisplaying","editListName","editListColor","background","get","aWeekFromNow","set","path","expires","getRandomBGURL","removeClass","getLists","authType","console","log","success","info","mail","test","ValidateEmail","j","currentlySelectedList","appendSmartLists","next7Days","getNext7Days","getToday","all","getAll","checkIfNext7Days","sortingFunction","sortListItemsDatesFirst","sortListItemsPrioritiesFirst","sort","concat","t","splice","text","handleDisplayNotification","remove","oldName","newName","setTimeout","keywordsEnabled","listArr","lastDeletedItemTitle","selectedItem","getCurrentlySelectedItem","appClasses","loginRegClasses","backgroundImage","fName","lName","toggleLoginRegister","handleHideAddListOverlay","createEmptyList","focusAddListOverlayTitleInput","handleHideEditListOverlay","focusEditListOverlayTitleInput","setBackgroundSetting","bg","handleShowAddListOverlay","handleShowEditListOverlay","a","b","priorityA","priorityB","dateA","dateB","backgroundURLs","Math","floor","random","dateStr","curr","Timer","callback","time","prototype","self","timer","clearTimeout","finished","start","now","add","Boolean","location","hostname","match","ReactDOM","StrictMode","navigator","serviceWorker","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.c0420798.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nimport \"./Todolist.css\";\n\nexport default class ListItem extends Component {\n  constructor(props) {\n    super(props);\n    this.inputRef = React.createRef();\n    this.state = {\n      itemID: props.itemID,\n      title: this.props.title,\n      dueDate: this.props.dueDate,\n      completed: this.props.completed,\n      priority: this.props.priority,\n      pressedKeys: {},\n    };\n\n    this.handleCheck = this.handleCheck.bind(this);\n  }\n\n  handleCheck(e) {\n    var completed = e.target.checked;\n\n    this.props.setItemCompleted(\n      this.props.listName,\n      this.state.itemID,\n      completed\n    );\n  }\n\n  handleItemSelection(e) {\n    this.props.setSelectedItem(this.state.itemID);\n  }\n\n  handleKeyPress = (e) => {\n    if (e.keyCode === 13) {\n      this.inputRef.current.blur();\n    }\n  };\n\n  handleCmdDelete(e) {\n    var map = this.state.pressedKeys;\n\n    if (e.keyCode === 91 && map[8]) {\n      map[e.keyCode] = e.type === \"keydown\";\n      map[8] = false;\n    } else if (e.keyCode === 91 && !map[8]) {\n      map[e.keyCode] = e.type === \"keydown\";\n    } else if (e.keyCode === 8 && map[91] === true) {\n      this.props.handleDelete();\n      map = {};\n      this.setState({ pressedKeys: map });\n    }\n  }\n\n  handleBlur = (e) => {\n    const title = e.target.value;\n    if (title !== this.props.title)\n      this.props.setItemTitle(this.props.listName, this.state.itemID, title);\n  };\n\n  componentDidUpdate(prevProp) {\n    if (\n      prevProp.title === this.props.title &&\n      prevProp.itemID === this.props.itemID &&\n      prevProp.dueDate === this.props.dueDate &&\n      prevProp.priority === this.props.priority &&\n      prevProp.completed === this.props.completed\n    )\n      return;\n    this.setState({\n      title: this.props.title,\n      itemID: this.props.itemID,\n      dueDate: this.props.dueDate,\n      priority: this.props.priority,\n      completed: this.props.completed,\n    });\n  }\n\n  render() {\n    const title = this.state.title;\n    const dueDate = this.state.dueDate;\n    const completed = this.state.completed;\n    const formattedDate = formatDate(dueDate);\n    const isLate = getIsLate(dueDate);\n\n    var dueDateClassList =\n      \"pr-2 col-2 text-right item-due-date font-small\" +\n      (isLate ? \" text-danger\" : \"\");\n\n    const rowClasses =\n      \"row no-gutters justify-content-center pt-1 pb-1 pl-4 pr-1 align-items-center todo-item\" +\n      (this.state.completed ? \" completed\" : \"\") +\n      (this.state.itemID === this.props.selectedItemID ? \" selected-item\" : \"\");\n\n    const rowBorderColor = getRowBorderColor(this.state.priority);\n\n    const titleInputClasses =\n      \"ml-2 form-control-sm title-input\" +\n      (this.state.itemID === this.props.selectedItemID\n        ? \" selected-item-input\"\n        : \"\");\n\n    return (\n      <div\n        className={rowClasses}\n        onClick={(e) => this.handleItemSelection(e)}\n        onContextMenu={(e) => this.handleItemSelection(e)}\n        style={{ borderColor: rowBorderColor }}\n      >\n        <div className=\"col-10 text-left align-items-center\">\n          <input\n            className=\"form-check-input\"\n            type=\"checkbox\"\n            value=\"\"\n            checked={completed}\n            onChange={this.handleCheck}\n          />\n          <input\n            spellCheck=\"false\"\n            className={titleInputClasses}\n            value={title}\n            ref={this.inputRef}\n            onKeyDown={(e) => {\n              this.handleKeyPress(e);\n              this.handleCmdDelete(e);\n            }}\n            onBlur={(e) => this.handleBlur(e)}\n            onChange={(e) => this.setState({ title: e.target.value })}\n            autoComplete=\"off\"\n          />\n        </div>\n\n        <div className={dueDateClassList}>{formattedDate}</div>\n      </div>\n    );\n  }\n}\n\nfunction formatDate(str) {\n  if (str === \"\" || str === undefined || str === null) return \"\";\n  const today = new Date();\n  const currYear = today.getFullYear();\n\n  const monthAbbr = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ];\n\n  const year = parseInt(str.substring(0, 4));\n  const month = parseInt(str.substring(5, 7));\n  const day = parseInt(str.substring(8, 10));\n\n  var dateObj = new Date(year + \"-\" + month + \"-\" + day + \" 00:00\");\n\n  if (\n    dateObj.getFullYear() === today.getFullYear() &&\n    dateObj.getMonth() === today.getMonth()\n  ) {\n    var yesterday = new Date();\n    yesterday.setDate(yesterday.getDate() - 1);\n    var tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    if (dateObj.getDate() === today.getDate()) return \"Today\";\n    else if (dateObj.getDate() === yesterday.getDate()) return \"Yesterday\";\n    else if (dateObj.getDate() === tomorrow.getDate()) return \"Tomorrow\";\n  }\n\n  var formatted =\n    monthAbbr[month - 1] + \" \" + day + (currYear === year ? \"\" : \", \" + year);\n\n  return formatted;\n}\n\nfunction getIsLate(date) {\n  if (date === \"\") return false;\n  const today = new Date() - 1;\n  const d = new Date(date + \" 00:00\");\n\n  return d < today;\n}\n\nfunction getRowBorderColor(priority) {\n  if (priority === \"high\") return \"rgb(218, 56, 73)\";\n  else if (priority === \"medium\") return \"rgb(254, 192, 47)\";\n  else if (priority === \"low\") return \"rgb(21, 127, 251)\";\n}\n","import React, { Component } from \"react\";\nimport Calendar from \"react-calendar\";\nimport \"react-calendar/dist/Calendar.css\";\n\nexport default class CalendarOverlay extends Component {\n  handleClear() {\n    // clear the calendar\n    this.props.handleCalendarOverlayClear();\n  }\n\n  setDate(date) {\n    var formatted = dateToStr(date);\n    this.props.setDueDate(formatted);\n  }\n\n  render() {\n    var d = undefined;\n\n    if (\n      this.props.currentlySelectedDate !== \"\" &&\n      this.props.currentlySelectedDate !== undefined &&\n      this.props.currentlySelectedDate !== null\n    ) {\n      d = new Date(this.props.currentlySelectedDate + \" 00:00\");\n    }\n\n    return (\n      <div className=\"calendar-overlay shadow\">\n        <Calendar value={d} onChange={(date) => this.setDate(date)} />\n        <div className=\"row mt-4\">\n          <div className=\"col-6\">\n            <button\n              type=\"button\"\n              className=\"btn btn-secondary calendar-overlay-button\"\n              onClick={() => this.handleClear()}\n            >\n              Clear\n            </button>\n          </div>\n          <div className=\"col-6\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary  calendar-overlay-button\"\n              onClick={() => this.props.handleCalendarOverlayOK()}\n            >\n              OK\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction dateToStr(date) {\n  var day = date.getDate();\n  if (day < 10) day = \"0\" + day.toString();\n\n  var month = date.getMonth() + 1;\n  if (month < 10) month = \"0\" + month.toString();\n\n  var year = date.getFullYear().toString();\n\n  var formatted = year + \"-\" + month + \"-\" + day;\n\n  return formatted;\n}\n","import React, { Component } from \"react\";\n\nexport default class PrioritiesOverlay extends Component {\n  state = {\n    selectedPriority: this.props.currentlySelectedPriority,\n  };\n\n  handlePriorityItemClick(e) {\n    const priority = e.target.innerHTML.toLowerCase();\n    this.setState({ selectedPriority: priority });\n    this.props.handlePrioritiesOverlayClick(priority);\n  }\n\n  render() {\n    const highPriorityClasslist =\n      \"priorities-overlay-item text-left\" +\n      (this.props.currentlySelectedPriority === \"high\" ? \" text-danger\" : \"\");\n    const mediumPriorityClasslist =\n      \"priorities-overlay-item text-left\" +\n      (this.props.currentlySelectedPriority === \"medium\"\n        ? \" text-warning\"\n        : \"\");\n    const lowPriorityClasslist =\n      \"priorities-overlay-item text-left\" +\n      (this.props.currentlySelectedPriority === \"low\" ? \" text-primary\" : \"\");\n    return (\n      <div className=\"overlay priorities-overlay shadow\">\n        <div\n          className={highPriorityClasslist}\n          onClick={(e) => this.handlePriorityItemClick(e)}\n        >\n          High\n        </div>\n        <div\n          className={mediumPriorityClasslist}\n          onClick={(e) => this.handlePriorityItemClick(e)}\n        >\n          Medium\n        </div>\n        <div\n          className={lowPriorityClasslist}\n          onClick={(e) => this.handlePriorityItemClick(e)}\n        >\n          Low\n        </div>\n      </div>\n    );\n  }\n}\n","// takes in any string and parses out any keywords that can be used to construct a date string\n// returns a date in the format YYYY - MM - DD and the keywords that indicated the date\n// if nothing was found, returns an empty string for both keywords and date\n// examples:\n// - \"take out the trash tomorrow\" => returns tomorrow's date, \"tomorrow\"\n// - \"math test January 15th\" => returns \"2020-01-15\", \"January 15th\"\nexport default function DateParser(str) {\n  const spokenWords = [\n    \"today\",\n    \"tomorrow\",\n    \"yesterday\",\n    \"yday\",\n    \"tmr\",\n    \"monday\",\n    \"mon\",\n    \"tuesday\",\n    \"tue\",\n    \"wednesday\",\n    \"thursday\",\n    \"friday\",\n    \"saturday\",\n    \"sunday\",\n  ];\n\n  const months = [\n    \"january\",\n    \"jan\",\n    \"february\",\n    \"feb\",\n    \"march\",\n    \"april\",\n    \"may\",\n    \"june\",\n    \"july\",\n    \"august\",\n    \"aug\",\n    \"september\",\n    \"sep\",\n    \"october\",\n    \"oct\",\n    \"november\",\n    \"nov\",\n    \"december\",\n    \"dec\",\n  ];\n\n  const daysWithSuffix = [\n    \"1st\",\n    \"2nd\",\n    \"3rd\",\n    \"4th\",\n    \"5th\",\n    \"6th\",\n    \"7th\",\n    \"8th\",\n    \"9th\",\n    \"10th\",\n    \"11th\",\n    \"12th\",\n    \"13th\",\n    \"14th\",\n    \"15th\",\n    \"16th\",\n    \"17th\",\n    \"18th\",\n    \"19th\",\n    \"20th\",\n    \"21st\",\n    \"22nd\",\n    \"23rd\",\n    \"24th\",\n    \"25th\",\n    \"26th\",\n    \"27th\",\n    \"28th\",\n    \"29th\",\n    \"30th\",\n    \"31st\",\n  ];\n\n  var words = str.toLowerCase().split(\" \"); // get an array of all the words the string in lowercase\n\n  var isSpokenWord = false;\n  var isStringDate = false;\n  var monthBeforeDay = null;\n  var keywords = \"\";\n  var month = \"\";\n  var monthCandidates = [];\n  var day = \"\";\n\n  // search for any occurences of commonly spoken words (e.g. tmr, today)\n  for (let i = 0; i < words.length; i++) {\n    var word = words[i];\n    if (spokenWords.indexOf(word) !== -1) {\n      keywords = word;\n      isSpokenWord = true;\n      break;\n    }\n  }\n\n  // if we don't find any commonly spoken words, look for string representations of dates\n  if (isSpokenWord === false) {\n    // look for month candidates\n    // (could be multiple months in the string, want the first one that is part of a valid date)\n    for (let i = 0; i < words.length; i++) {\n      let word = words[i];\n      if (months.indexOf(word) !== -1) {\n        monthCandidates.push(word);\n      }\n    }\n\n    // if we found a month, look on either side of it for a date\n    if (monthCandidates.length > 0) {\n      // check each month candidate\n      for (let f = 0; f < monthCandidates.length; f++) {\n        var monthCandidate = monthCandidates[f];\n        const monthIndex = getPosition(words, monthCandidate, f + 1);\n        var dateCandidates = [];\n        if (monthIndex - 1 >= 0)\n          dateCandidates.push({\n            index: monthIndex - 1,\n            date: words[monthIndex - 1],\n          });\n        if (monthIndex + 1 < words.length)\n          dateCandidates.push({\n            index: monthIndex + 1,\n            date: words[monthIndex + 1],\n          });\n\n        // check to see if either of these dateCandidates are dates with suffixes (e.g. 23rd, 31st)\n        for (let i = 0; i < dateCandidates.length; i++) {\n          const dateCandidate = dateCandidates[i].date;\n          const idx = dateCandidates[i].index;\n          if (daysWithSuffix.indexOf(dateCandidate) !== -1) {\n            day = dateCandidate;\n            if (idx > monthIndex) monthBeforeDay = true;\n            else monthBeforeDay = false;\n            break;\n          }\n        }\n\n        // if nothing was found, then we look for numeric representations of dates\n        if (day === \"\") {\n          for (let i = 0; i < dateCandidates.length; i++) {\n            const dateCandidate = parseInt(dateCandidates[i].date);\n            const idx = dateCandidates[i].index;\n            if (dateCandidate > 0 && dateCandidate <= 31) {\n              day = dateCandidate;\n              if (idx > monthIndex) monthBeforeDay = true;\n              else monthBeforeDay = false;\n              break;\n            }\n          }\n        }\n\n        // if we found a date, then we have a date value\n        if (day !== \"\") {\n          isStringDate = true;\n          month = monthCandidates[f];\n          break;\n        }\n      }\n    }\n  }\n\n  // using parsed data, create and return the parsed date\n  var today = new Date();\n  var currYear = today.getFullYear();\n  var currMonth = today.getMonth() + 1;\n  var currDate = today.getDate();\n  var currDayOfTheWeek = today.getDay() + 1;\n\n  // no date found\n  if (!isSpokenWord && !isStringDate) return { date: \"\", keywords: \"\" };\n  else if (isSpokenWord && !isStringDate) {\n    if (keywords === \"today\") {\n      return {\n        date: getFormattedDate(currYear, currMonth, currDate),\n        keywords: keywords,\n      };\n    } else if (keywords === \"yesterday\" || keywords === \"yday\") {\n      var yesterday = new Date();\n      yesterday.setDate(yesterday.getDate() - 1);\n      return {\n        date: getFormattedDate(\n          yesterday.getFullYear(),\n          yesterday.getMonth() + 1,\n          yesterday.getDate()\n        ),\n        keywords: keywords,\n      };\n    } else if (keywords === \"tomorrow\" || keywords === \"tmr\") {\n      var tomorrow = new Date();\n      tomorrow.setDate(tomorrow.getDate() + 1);\n      return {\n        date: getFormattedDate(\n          tomorrow.getFullYear(),\n          tomorrow.getMonth() + 1,\n          tomorrow.getDate()\n        ),\n        keywords: keywords,\n      };\n    } else {\n      // str specifies a day of the week\n      // always going to assume its the next upcoming day\n      // (e.g. if today is Tuesday, Monday is in 6 days, if today is Sunday, Monday means tomorrow)\n      // if day of the week is the same as the current day, returns date 7 days ahead\n      var dayOfTheWeek = dayOfTheWeekToNumber(keywords);\n      var difference = distanceToNextDay(currDayOfTheWeek, dayOfTheWeek);\n      var nextGivenDay = new Date();\n      nextGivenDay.setDate(nextGivenDay.getDate() + difference);\n\n      return {\n        date: getFormattedDate(\n          nextGivenDay.getFullYear(),\n          nextGivenDay.getMonth() + 1,\n          nextGivenDay.getDate()\n        ),\n        keywords: keywords,\n      };\n    }\n  } else if (isStringDate && !isSpokenWord) {\n    // format string dates\n    var currDay = today.getDate();\n\n    var monthNum = convertMonthToNumber(month);\n    var dayNum = parseInt(day);\n\n    var year = currYear;\n    if (monthNum < currMonth) year = currYear + 1;\n    else if (monthNum === currMonth) {\n      if (dayNum < currDay) year = currYear + 1;\n    } else year = currYear;\n\n    var keywordsToReturn = monthBeforeDay\n      ? month + \" \" + day\n      : day + \" \" + month;\n\n    return {\n      date: getFormattedDate(year, monthNum, dayNum),\n      keywords: keywordsToReturn,\n    };\n  }\n}\n\nfunction convertMonthToNumber(month) {\n  if (month === \"jan\") return 1;\n  if (month === \"feb\") return 2;\n  if (month === \"aug\") return 8;\n  if (month === \"sep\") return 9;\n  if (month === \"oct\") return 10;\n  if (month === \"nov\") return 11;\n  if (month === \"dec\") return 12;\n\n  const months = [\n    \"\",\n    \"january\",\n    \"february\",\n    \"march\",\n    \"april\",\n    \"may\",\n    \"june\",\n    \"july\",\n    \"august\",\n    \"september\",\n    \"october\",\n    \"november\",\n    \"december\",\n  ];\n\n  return months.indexOf(month);\n}\n\nfunction dayOfTheWeekToNumber(dayOfTheWeek) {\n  const daysOfTheWeek = [\n    \"\",\n    \"sunday\",\n    \"monday\",\n    \"tuesday\",\n    \"wednesday\",\n    \"thursday\",\n    \"friday\",\n    \"saturday\",\n  ];\n\n  var idx = daysOfTheWeek.indexOf(dayOfTheWeek);\n\n  if (idx === -1) {\n    const daysAbbr = [\"\", \"sun\", \"mon\", \"tue\", \"wed\", \"thu\", \"fri\", \"sat\"];\n    idx = daysAbbr.indexOf(dayOfTheWeek);\n  }\n\n  return idx;\n}\n\nfunction distanceToNextDay(day1, day2) {\n  var diff = 7 - day1 + day2;\n  if (diff !== 7) diff %= 7;\n  return diff;\n}\n\nfunction getFormattedDate(year, month, day) {\n  if (month < 10) month = \"0\" + month.toString();\n  if (day < 10) day = \"0\" + day.toString();\n\n  return year + \"-\" + month + \"-\" + day;\n}\n\nfunction getPosition(array, entry, occurence) {\n  var seen = 0;\n  for (let i = 0; i < array.length; i++) {\n    if (array[i] === entry) {\n      seen++;\n      if (seen === occurence) return i;\n    }\n  }\n  if (seen === 1) return array.indexOf(entry);\n}\n\n// console.log(DateParser(\"go to italy sep 10\"));\n","import React, { Component } from \"react\";\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\nimport $ from \"jquery\";\n\nimport ListItem from \"./ListItem.js\";\nimport CalendarOverlay from \"./CalendarOverlay.js\";\nimport PrioritiesOverlay from \"./PrioritiesOverlay.js\";\nimport DateParser from \"./DateParser.js\";\nimport PriorityParser from \"./PriorityParser.js\";\n\nimport \"./Todolist.css\";\n\nexport default class Todolist extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      calendarOverlayDisplaying: false,\n      prioritiesOverlayDisplaying: false,\n      addItemValue: \"\",\n      addItemDate: \"\",\n      addItemPriority: \"low\",\n      listItems: this.props.items,\n      addItemDateKeywords: \"\",\n      addItemPriorityKeywords: \"\",\n      completedItemsShowing: false,\n    };\n    this.inputRef = React.createRef();\n  }\n\n  componentDidMount() {\n    $(document).ready(function () {\n      $(\"#completed-items\").hide();\n    });\n  }\n\n  keyPress(e) {\n    var val = document.getElementById(\"addItemInput\").value;\n    if (this.state.addItemDate !== \"\")\n      val = removeOccurence(val, this.state.addItemDateKeywords);\n    if (this.state.addItemPriorityKeywords !== \"\")\n      val = removeOccurence(val, this.state.addItemPriorityKeywords);\n    val = removeExtraWhitespace(val);\n\n    // hardcoded date and priority values as UI components not yet implemented\n    if (e.keyCode === 13 && val !== \"\") {\n      this.props.addListItem(\n        this.props.name,\n        val,\n        this.state.addItemDate,\n        \"\",\n        this.state.addItemPriority,\n        this.props.color\n      );\n      $(\"#addItemInput\").val(\"\");\n      this.handleCalendarOverlayOK();\n      this.setState({\n        addItemDate: \"\",\n        addItemValue: \"\",\n        addItemDateKeywords: \"\",\n        addItemPriority: \"low\",\n        keywordSet: false,\n      });\n      $(document).find(\".add-item-input-container\").show();\n      var backspaceEvent = $.Event(\"keyDown\");\n      backspaceEvent.which = 8;\n      $(\"#addItemInput\").trigger(backspaceEvent);\n    }\n  }\n\n  handleInput(e) {\n    const datesEnabled =\n      this.props.keywords === \"both\" || this.props.keywords === \"dates\";\n    const prioritiesEnabled =\n      this.props.keywords === \"both\" || this.props.keywords === \"priorities\";\n\n    // handle disabling in settings\n    var dateParserObj = datesEnabled\n      ? DateParser(e.target.value)\n      : { date: this.state.addItemDate, keywords: \"\" };\n    var priorityParserObj = prioritiesEnabled\n      ? PriorityParser(e.target.value)\n      : { priority: this.state.addItemPriority, keywords: \"\" };\n\n    var parsedDate = dateParserObj.date;\n    var keywords = dateParserObj.keywords;\n    var parsedPriority = priorityParserObj.priority;\n    var priorityKeywords = priorityParserObj.keywords;\n\n    if (\n      keywords === \"\" &&\n      this.state.addItemDateKeywords !== \"\" &&\n      e.target.value.indexOf(this.state.addItemDateKeywords) !== -1\n    ) {\n      parsedDate = this.state.addItemDate;\n      keywords = this.state.addItemDateKeywords;\n    }\n\n    if (\n      priorityKeywords === \"\" &&\n      e.target.value.indexOf(this.state.addItemPriorityKeywords) !== -1\n    ) {\n      parsedPriority = this.state.addItemPriority;\n      priorityKeywords = this.state.addItemPriorityKeywords;\n    }\n\n    this.setState({\n      addItemValue: e.target.value,\n      addItemDate: parsedDate,\n      addItemDateKeywords: keywords,\n      addItemPriority: parsedPriority,\n      addItemPriorityKeywords: priorityKeywords,\n    });\n  }\n\n  setAddItemDate(date) {\n    this.setState({ addItemDate: date });\n  }\n\n  handleDelete(id, originalList) {\n    this.props.deleteListItem(this.props.name, id, originalList);\n  }\n\n  handleCalendarOverlayOK() {\n    this.setState({ calendarOverlayDisplaying: false });\n  }\n\n  handleCalendarOverlayClear() {\n    this.setState({\n      calendarOverlayDisplaying: false,\n      addItemDate: \"\",\n    });\n  }\n\n  handleShowCalendarOverlay(e) {\n    const xCoord = (e.clientX * 7) / 12;\n    $(\".calendar-overlay\").css(\"left\", xCoord + \"px\");\n    if (this.state.calendarOverlayDisplaying)\n      this.setState({ calendarOverlayDisplaying: false });\n    else this.setState({ calendarOverlayDisplaying: true });\n  }\n\n  handleShowPrioritiesOverlay(e) {\n    const xCoord = (e.clientX * 7) / 12;\n    $(\".priorities-overlay\").css(\"left\", xCoord + \"px\");\n    if (this.state.prioritiesOverlayDisplaying)\n      this.setState({ prioritiesOverlayDisplaying: false });\n    else this.setState({ prioritiesOverlayDisplaying: true });\n  }\n\n  handlePrioritiesOverlayClick(priority) {\n    this.setState({\n      addItemPriority: priority,\n      prioritiesOverlayDisplaying: false,\n    });\n  }\n\n  getIndexOfFirstCompletedItem() {\n    const items = this.props.items;\n\n    for (let i = 0; i < items.length; i++) {\n      if (items[i].completed) return i;\n    }\n\n    return -1;\n  }\n\n  getPriorityIconClasses() {\n    var classes = \"fas fa-balance-scale-left priorities-base\";\n    if (this.state.addItemPriority === \"high\") {\n      classes += \" text-danger\";\n    } else if (this.state.addItemPriority === \"medium\") {\n      classes += \" text-warning\";\n    } else if (this.state.addItemPriority === \"low\") {\n      classes += \" text-primary\";\n    }\n\n    return classes;\n  }\n\n  handleCloseOverlays(e) {\n    if (\n      this.state.calendarOverlayDisplaying ||\n      this.state.prioritiesOverlayDisplaying\n    ) {\n      if (\n        e.target.id !== \"calendar-overlay\" &&\n        e.target.id !== \"priorities-overlay\"\n      )\n        this.setState({\n          calendarOverlayDisplaying: false,\n          prioritiesOverlayDisplaying: false,\n        });\n      else if (e.target.id === \"calendar-overlay\")\n        this.setState({\n          prioritiesOverlayDisplaying: false,\n        });\n      else if (e.target.id === \"priorities-overlay\")\n        this.setState({\n          calendarOverlayDisplaying: false,\n        });\n      this.inputRef.current.focus();\n    }\n  }\n\n  getCalendarIconClasses() {\n    var classes = \"fas fa-calendar-alt calendar-base\";\n    if (this.state.addItemDate !== \"\") classes += \" calendar-selected\";\n\n    return classes;\n  }\n\n  handleCompletedSeparatorClick() {\n    this.setState({ completedItemsShowing: !this.state.completedItemsShowing });\n    $(document).find(\"#completed-items\").slideToggle(\"fast\");\n  }\n\n  render() {\n    // important variables used for render setup\n    var name = this.props.name;\n    const calendarOverlayClasslist = this.state.calendarOverlayDisplaying\n      ? \"\"\n      : \"d-none\";\n    const prioritiesOverlayClasslist = this.state.prioritiesOverlayDisplaying\n      ? \"\"\n      : \"d-none\";\n    const dueDateFormatted = formatDate(this.state.addItemDate);\n    const placeholder =\n      'Add a task to \"' +\n      name +\n      '\"' +\n      (dueDateFormatted === \"\" ? \"\" : \" on \" + dueDateFormatted);\n    var addItemText = this.state.addItemValue;\n\n    // classes used for rendering the icons used for accessing the calendar/priority overlays\n    const priorityIconClasses = this.getPriorityIconClasses();\n    const calendarIconClasses = this.getCalendarIconClasses();\n\n    // used so placeholder text stays in title input when it is focused but empty\n    $(document).find(\".add-item-input-container\").show();\n\n    // split the list items into two categories: incompleted items and completed items\n    // supports functionality of hiding/showing completed items\n    const firstCompletedIndex = this.getIndexOfFirstCompletedItem();\n    var incompletedItems = [];\n    var completedItems = [];\n    if (firstCompletedIndex !== -1) {\n      incompletedItems = this.props.items.slice(0, firstCompletedIndex);\n      completedItems = this.props.items.slice(\n        firstCompletedIndex,\n        this.props.items.length\n      );\n    } else {\n      incompletedItems = this.props.items.slice();\n      completedItems = [];\n    }\n\n    var emptyListText = \"\";\n    var emptyListIcon = \"fas fa-plus-square mr-2\";\n\n    if (name === \"Today\") {\n      emptyListText = \"Nothing due today, let's get ahead!\";\n      emptyListIcon = \"fas fa-exclamation-circle mr-2\";\n    } else if (name === \"All\") {\n      emptyListText = \"Nothing due, kick back and relax.\";\n      emptyListIcon = \"fas fa-exclamation-circle mr-2\";\n    } else if (name === \"Next 7 Days\") {\n      emptyListText = \"Nothing due in the next week, let's get ahead!\";\n      emptyListIcon = \"fas fa-exclamation-circle mr-2\";\n    } else {\n      if (completedItems.length > 0)\n        emptyListText = \"Nothing due at the moment.\";\n      else emptyListText = \"Add an item above\";\n      emptyListIcon = \"fas fa-exclamation-circle mr-2\";\n    }\n\n    const completedSeparatorIconClasses =\n      \"fas fa-sort-down mr-2 base\" +\n      (this.state.completedItemsShowing ? \"\" : \" icon-rotated\");\n    return (\n      <div\n        className=\"container-fluid todolist\"\n        onClick={(e) => this.handleCloseOverlays(e)}\n      >\n        <h3 className=\"list-name text-left pl-1 my-4\">{name}</h3>\n        <div className=\"add-item-input-container\">\n          <div className=\"input-group mb-4\">\n            <input\n              spellCheck=\"false\"\n              suppressContentEditableWarning={true}\n              id=\"addItemInput\"\n              placeholder={placeholder}\n              className={\n                \"form-control form-control-sm text-left editable\" +\n                (name === \"Today\" || name === \"Next 7 Days\" || name === \"All\"\n                  ? \" d-none\"\n                  : \"\")\n              }\n              type=\"text\"\n              defaultValue={addItemText}\n              onInput={(e) => this.handleInput(e)}\n              onKeyDown={(e) => this.keyPress(e)}\n              ref={this.inputRef}\n              onClick={() => this.props.hideAddListOverlay()}\n              autoComplete=\"off\"\n            ></input>\n            <div\n              className={\n                \"input-group-append\" +\n                (name === \"Today\" || name === \"Next 7 Days\" || name === \"All\"\n                  ? \" d-none\"\n                  : \"\")\n              }\n              onClick={(e) => {\n                this.handleShowPrioritiesOverlay(e);\n                this.props.hideAddListOverlay();\n              }}\n            >\n              <span className=\"input-group-text icon\">\n                <i className={priorityIconClasses}></i>\n              </span>\n            </div>\n            <div id=\"priorities-overlay\" className={prioritiesOverlayClasslist}>\n              <PrioritiesOverlay\n                handlePrioritiesOverlayClick={(priority) =>\n                  this.handlePrioritiesOverlayClick(priority)\n                }\n                currentlySelectedPriority={this.state.addItemPriority}\n              />\n            </div>\n            <div\n              className=\"input-group-append\"\n              onClick={(e) => {\n                this.handleShowCalendarOverlay(e);\n                this.props.hideAddListOverlay();\n              }}\n            >\n              <span\n                className={\n                  \"input-group-text icon\" +\n                  (name === \"Today\" || name === \"Next 7 Days\" || name === \"All\"\n                    ? \" d-none\"\n                    : \"\")\n                }\n              >\n                <i className={calendarIconClasses}></i>\n              </span>\n            </div>\n          </div>\n        </div>\n        <div id=\"calendar-overlay\" className={calendarOverlayClasslist}>\n          <CalendarOverlay\n            setDueDate={(date) => this.setAddItemDate(date)}\n            handleCalendarOverlayOK={() => this.handleCalendarOverlayOK()}\n            handleCalendarOverlayClear={() => this.handleCalendarOverlayClear()}\n            currentlySelectedDate={this.state.addItemDate}\n          />\n        </div>\n        <div className=\"todolist-items\">\n          <div id=\"incompleted-items\">\n            <span\n              className={\n                \"pl-2 font-small font-grey \" +\n                (incompletedItems.length === 0 ? \"\" : \"d-none\")\n              }\n              style={{ pointerEvents: \"none\" }}\n            >\n              <i className={emptyListIcon}></i>\n              {emptyListText}\n            </span>\n            {incompletedItems.map((item, i) => {\n              return (\n                <div className=\"list-item\" key={item.itemID}>\n                  <ContextMenuTrigger id={item.itemID}>\n                    <ListItem\n                      listName={name}\n                      title={item.title}\n                      description={item.description}\n                      priority={item.priority}\n                      dueDate={item.dueDate}\n                      completed={item.completed}\n                      itemID={item.itemID}\n                      setItemCompleted={(listName, itemID, completed) =>\n                        this.props.setItemCompleted(listName, itemID, completed)\n                      }\n                      setItemTitle={(listName, itemID, title) =>\n                        this.props.setItemTitle(listName, itemID, title)\n                      }\n                      setSelectedItem={(itemID) =>\n                        this.props.setSelectedItem(itemID)\n                      }\n                      selectedItemID={this.props.selectedItemID}\n                      handleDelete={() =>\n                        this.handleDelete(item.itemID, item.originalList)\n                      }\n                    />\n                  </ContextMenuTrigger>\n                  <ContextMenu\n                    id={item.itemID}\n                    className=\"delete-menu px-2 py-1 shadow-sm\"\n                  >\n                    <MenuItem\n                      data={{ foo: \"bar\" }}\n                      className=\"delete-menu-item px-1\"\n                      onClick={() =>\n                        this.handleDelete(item.itemID, item.originalList)\n                      }\n                    >\n                      <div className=\"row align-items-center justify-content-left\">\n                        <i className=\"fas fa-trash col-1\"></i>\n                        <span className=\"col-6\">Delete</span>\n                      </div>\n                    </MenuItem>\n                  </ContextMenu>\n                </div>\n              );\n            })}\n          </div>\n          <div\n            style={{ cursor: \"pointer\" }}\n            className={\n              \"completed-separator mt-2 mb-2 font-small text-left \" +\n              (completedItems.length === 0 ||\n              name === \"Today\" ||\n              name === \"Next 7 Days\" ||\n              name === \"All\"\n                ? \"d-none\"\n                : \"\")\n            }\n            onClick={() => this.handleCompletedSeparatorClick()}\n          >\n            <i\n              id=\"completed-separator-icon\"\n              className={completedSeparatorIconClasses}\n            ></i>\n            Completed\n          </div>\n          <div\n            id=\"completed-items\"\n            className={\n              name === \"Today\" || name === \"Next 7 Days\" || name === \"All\"\n                ? \"d-none\"\n                : \"\"\n            }\n          >\n            {completedItems.map((item, i) => {\n              return (\n                <div className={\"list-item\"} key={item.itemID}>\n                  <ContextMenuTrigger id={item.itemID}>\n                    <ListItem\n                      listName={name}\n                      title={item.title}\n                      description={item.description}\n                      priority={item.priority}\n                      dueDate={item.dueDate}\n                      completed={item.completed}\n                      itemID={item.itemID}\n                      setItemCompleted={(listName, itemID, completed) =>\n                        this.props.setItemCompleted(listName, itemID, completed)\n                      }\n                      setItemTitle={(listName, itemID, title) =>\n                        this.props.setItemTitle(listName, itemID, title)\n                      }\n                      setSelectedItem={(itemID) =>\n                        this.props.setSelectedItem(itemID)\n                      }\n                      selectedItemID={this.props.selectedItemID}\n                      handleDelete={() => {\n                        this.handleDelete(item.itemID, item.originalList);\n                      }}\n                    />\n                  </ContextMenuTrigger>\n                  <ContextMenu\n                    id={item.itemID.toString()}\n                    className=\"delete-menu px-2 py-1 shadow-sm\"\n                  >\n                    <MenuItem\n                      data={{ foo: \"bar\" }}\n                      className=\"delete-menu-item px-1\"\n                      onClick={() =>\n                        this.handleDelete(item.itemID, item.originalList)\n                      }\n                    >\n                      <div className=\"row align-items-center justify-content-left\">\n                        <i className=\"fas fa-trash col-1\"></i>\n                        <span className=\"col-6\">Delete</span>\n                      </div>\n                    </MenuItem>\n                  </ContextMenu>\n                </div>\n              );\n            })}\n          </div>\n          <div\n            id=\"bottom-line\"\n            className={\n              \"list-item\" +\n              (this.state.completedItemsShowing ||\n              completedItems.length === 0 ||\n              name === \"Today\" ||\n              name === \"All\" ||\n              name === \"Next 7 Days\"\n                ? \" d-none\"\n                : \"\")\n            }\n          ></div>\n        </div>\n      </div>\n    );\n  }\n}\n\n// takes in a string (e.g. '01-23-2020') and returns its equivalent 'Jan 23'\n// omits year if year is the same as the current year\nfunction formatDate(str) {\n  if (str === \"\") return \"\";\n  const today = new Date();\n  const currYear = today.getFullYear();\n\n  const monthAbbr = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ];\n\n  const year = parseInt(str.substring(0, 4));\n  const month = parseInt(str.substring(5, 7));\n  const day = parseInt(str.substring(8, 10));\n\n  var formatted =\n    monthAbbr[month - 1] + \" \" + day + (currYear === year ? \"\" : \", \" + year);\n\n  return formatted;\n}\n\n// removes the first occurence of toRemove in str, returns the modified version\nfunction removeOccurence(str, toRemove) {\n  if (toRemove === \"\") return str;\n  var lowerCase = str.toLowerCase();\n  var startIndex = lowerCase.indexOf(toRemove);\n  var endIndex = startIndex + toRemove.length;\n\n  var res = str.substring(0, startIndex) + str.substring(endIndex, str.length);\n\n  return res;\n}\n\n// removes any duplicate, leading, and trailing whitespaces in str\nfunction removeExtraWhitespace(str) {\n  str = str.replace(/\\s+/g, \" \");\n  str = str.trim();\n\n  return str;\n}\n","export default function PriorityParser(str) {\n  const priorities = [\"!high\", \"!medium\", \"!low\", \"!lo\", \"!hi\", \"!med\"];\n\n  var words = str.toLowerCase().split(\" \"); // get an array of all the words the string in lowercase\n\n  var keywords = \"\";\n\n  // search for any occurences of priority strings\n  for (let i = 0; i < words.length; i++) {\n    var word = words[i];\n    if (priorities.indexOf(word) !== -1) {\n      keywords = word;\n      break;\n    }\n  }\n\n  // no keywords found\n  if (keywords === \"\") return { priority: \"low\", keywords: \"\" };\n  else {\n    // there exist priority strings\n    const priority = keywordToPriority(keywords);\n    return { priority: priority, keywords: keywords };\n  }\n}\n\nfunction keywordToPriority(keyword) {\n  if (keyword === \"!lo\" || keyword === \"!low\") return \"low\";\n  else if (keyword === \"!med\" || keyword === \"!medium\") return \"medium\";\n  else if (keyword === \"!hi\" || keyword === \"!high\") return \"high\";\n}\n\n// console.log(PriorityParser(\"go to the gym today !medium\"));\n","import React, { Component } from \"react\";\nimport CalendarOverlay from \"./CalendarOverlay.js\";\nimport PrioritiesOverlay from \"./PrioritiesOverlay.js\";\n\nimport \"./Todolist.css\";\n\nexport default class Details extends Component {\n  constructor(props) {\n    super(props);\n    this.titleInputRef = React.createRef();\n    this.descInputRef = React.createRef();\n    this.state = {\n      itemID: this.props.selectedItemID,\n      title: this.props.selectedItemTitle,\n      dueDate: this.props.selectedItemDueDate,\n      priority: this.props.selectedItemPriority,\n      description: this.props.selectedItemDescription,\n      completed: this.props.selectedItemCompleted,\n      calendarOverlayDisplaying: false,\n      prioritiesOverlayDisplaying: false,\n    };\n    this.handleCheck = this.handleCheck.bind(this);\n  }\n\n  handleTitleInputBlur = (e) => {\n    const title = e.target.value;\n    if (title !== this.props.selectedItemTitle)\n      this.props.setItemTitle(\n        this.props.listName,\n        this.props.selectedItemID,\n        title\n      );\n  };\n\n  handleTitleInputKeyPress = (e) => {\n    if (e.keyCode === 13) {\n      this.titleInputRef.current.blur();\n    }\n  };\n\n  handleDescInputBlur = (e) => {\n    const description = e.target.value;\n    if (description !== this.props.selectedItemDescription)\n      this.props.setItemDescription(\n        this.props.listName,\n        this.props.selectedItemID,\n        description\n      );\n  };\n\n  handleDescInputKeyPress = (e) => {\n    if (e.keyCode === 9) {\n      this.descInputRef.current.blur();\n    }\n  };\n\n  handleCalendarOverlayOK() {\n    this.setState({ calendarOverlayDisplaying: false });\n  }\n\n  handleCalendarOverlayClear() {\n    this.setState({\n      calendarOverlayDisplaying: false,\n      dueDate: \"\",\n    });\n    this.props.setItemDueDate(this.props.listName, this.state.itemID, \"\");\n  }\n\n  handleShowCalendarOverlay() {\n    if (this.state.calendarOverlayDisplaying)\n      this.setState({ calendarOverlayDisplaying: false });\n    else this.setState({ calendarOverlayDisplaying: true });\n  }\n\n  handleShowPrioritiesOverlay() {\n    if (this.state.prioritiesOverlayDisplaying)\n      this.setState({ prioritiesOverlayDisplaying: false });\n    else this.setState({ prioritiesOverlayDisplaying: true });\n  }\n\n  handleCheck(e) {\n    var completed = e.target.checked;\n\n    this.props.setItemCompleted(\n      this.props.listName,\n      this.state.itemID,\n      completed\n    );\n  }\n\n  handleCalendarChange(date) {\n    this.props.setItemDueDate(this.props.listName, this.state.itemID, date);\n  }\n\n  handlePriorityChange(priority) {\n    this.props.setItemPriority(\n      this.props.listName,\n      this.state.itemID,\n      priority\n    );\n    this.setState({\n      priority: priority,\n      prioritiesOverlayDisplaying: false,\n    });\n  }\n\n  componentDidUpdate(prevProp) {\n    if (\n      prevProp.selectedItemTitle === this.props.selectedItemTitle &&\n      prevProp.selectedItemDueDate === this.props.selectedItemDueDate &&\n      prevProp.selectedItemCompleted === this.props.selectedItemCompleted &&\n      prevProp.selectedItemDescription === this.props.selectedItemDescription &&\n      prevProp.selectedItemPriority === this.props.selectedItemPriority &&\n      prevProp.selectedItemID === this.props.selectedItemID\n    )\n      return;\n    this.setState({\n      title: this.props.selectedItemTitle,\n      dueDate: this.props.selectedItemDueDate,\n      completed: this.props.selectedItemCompleted,\n      description: this.props.selectedItemDescription,\n      priority: this.props.selectedItemPriority,\n      itemID: this.props.selectedItemID,\n    });\n  }\n\n  render() {\n    var priorityPickerClasses = \"col-1 offset-md-4 details-priority-picker\";\n    if (this.state.priority === \"high\") priorityPickerClasses += \" text-danger\";\n    else if (this.state.priority === \"medium\")\n      priorityPickerClasses += \" text-warning\";\n    else if (this.state.priority === \"low\")\n      priorityPickerClasses += \" text-primary\";\n\n    const calendarOverlayClasslist = this.state.calendarOverlayDisplaying\n      ? \"\"\n      : \"d-none\";\n    const prioritiesOverlayClasslist = this.state.prioritiesOverlayDisplaying\n      ? \"\"\n      : \"d-none\";\n\n    return (\n      <React.Fragment>\n        <div\n          className={\n            \"details-container \" + (this.state.itemID === \"\" ? \"d-none\" : \"\")\n          }\n        >\n          <div\n            id=\"details-top-row\"\n            className=\"row align-items-center mt-4 pb-3 justify-content-around mb-4\"\n          >\n            <div className=\"col-1 details-top-row-check d-flex justify-content-center\">\n              <input\n                className=\"mx-auto\"\n                type=\"checkbox\"\n                value=\"\"\n                checked={this.state.completed}\n                onChange={this.handleCheck}\n              />\n            </div>\n            <div\n              className={\n                \"details-date-picker col-4\" +\n                (getIsLate(this.state.dueDate)\n                  ? \" text-danger\"\n                  : this.state.dueDate === \"\" ||\n                    this.state.dueDate === undefined ||\n                    this.state.dueDate === null\n                  ? \"\"\n                  : \" text-primary\")\n              }\n              onClick={() => {\n                this.handleShowCalendarOverlay();\n                this.props.hideAddListOverlay();\n              }}\n            >\n              <span className=\"mr-2\">\n                <i className=\"fas fa-calendar-alt\"></i>\n              </span>\n              {formatDate(this.state.dueDate)}\n            </div>\n            <div\n              className={priorityPickerClasses}\n              onClick={() => {\n                this.handleShowPrioritiesOverlay();\n                this.props.hideAddListOverlay();\n              }}\n            >\n              <i className=\"fas fa-balance-scale-left\"></i>\n            </div>\n            <div\n              className=\"details-delete-btn col-1\"\n              onClick={() => {\n                this.props.handleDelete(\n                  this.props.listName,\n                  this.state.itemID,\n                  this.props.selectedItemList\n                );\n                this.props.hideAddListOverlay();\n              }}\n            >\n              <i className=\"fas fa-trash\"></i>\n            </div>\n          </div>\n          <div id=\"calendar-overlay\" className={calendarOverlayClasslist}>\n            <CalendarOverlay\n              setDueDate={(date) => this.handleCalendarChange(date)}\n              handleCalendarOverlayOK={() => this.handleCalendarOverlayOK()}\n              handleCalendarOverlayClear={() =>\n                this.handleCalendarOverlayClear()\n              }\n              currentlySelectedDate={this.state.dueDate}\n            />\n          </div>\n          <div id=\"priorities-overlay\" className={prioritiesOverlayClasslist}>\n            <PrioritiesOverlay\n              handlePrioritiesOverlayClick={(priority) =>\n                this.handlePriorityChange(priority)\n              }\n              currentlySelectedPriority={this.state.priority}\n            />\n          </div>\n          <div id=\"details-title-input-container\" className=\"mb-4\">\n            <input\n              spellCheck=\"false\"\n              className=\"details-title-input\"\n              placeholder=\"Title\"\n              value={this.state.title}\n              onKeyDown={(e) => this.handleTitleInputKeyPress(e)}\n              onBlur={(e) => this.handleTitleInputBlur(e)}\n              ref={this.titleInputRef}\n              onChange={(e) => this.setState({ title: e.target.value })}\n              onClick={() => this.props.hideAddListOverlay()}\n              autoComplete=\"off\"\n            />\n          </div>\n          <div\n            id=\"details-desc-input-container\"\n            className=\"details-desc-input-container\"\n          >\n            <textarea\n              id=\"details-desc-input\"\n              spellCheck=\"false\"\n              value={this.state.description}\n              placeholder=\"Description\"\n              ref={this.descInputRef}\n              onKeyDown={(e) => this.handleDescInputKeyPress(e)}\n              onBlur={(e) => this.handleDescInputBlur(e)}\n              onChange={(e) => this.setState({ description: e.target.value })}\n              onClick={() => this.props.hideAddListOverlay()}\n              autoComplete=\"off\"\n            />\n          </div>\n          <div\n            className={\"details-list-name d-flex align-items-center\"}\n            style={{ fontWeight: \"600\", pointerEvents: \"none\" }}\n          >\n            <i className=\"font-grey fas fa-tasks sidebar-icon mr-2\"></i>\n            <span className=\"font-grey \">{this.props.selectedItemList}</span>\n\n            <i\n              className=\"ml-2 fa fa-circle\"\n              style={{\n                fontSize: \"8px\",\n                color: this.props.selectedItemColor,\n                paddingTop: \"3px\",\n              }}\n            ></i>\n          </div>\n        </div>\n        <div\n          id=\"details-placeholder\"\n          className={\n            \"row h-100 align-items-center justify-content-center font-italic\" +\n            (this.state.itemID !== \"\" ? \"d-none\" : \"\")\n          }\n        >\n          <div\n            className=\"col-12 text-center my-auto\"\n            style={{ fontSize: \"14px\" }}\n          >\n            Click on an item to see it's details <br />\n            <br />\n            <i className=\"fas fa-tasks\" style={{ fontSize: \"20px\" }}></i>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nfunction formatDate(str) {\n  if (str === \"\" || str === undefined || str === null) return \"Due Date\";\n  const today = new Date();\n  const currYear = today.getFullYear();\n\n  const monthAbbr = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ];\n\n  const year = parseInt(str.substring(0, 4));\n  const month = parseInt(str.substring(5, 7));\n  const day = parseInt(str.substring(8, 10));\n\n  var dateObj = new Date(year + \"-\" + month + \"-\" + day + \" 00:00\");\n\n  if (\n    dateObj.getFullYear() === today.getFullYear() &&\n    dateObj.getMonth() === today.getMonth()\n  ) {\n    var yesterday = new Date();\n    yesterday.setDate(yesterday.getDate() - 1);\n    var tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    if (dateObj.getDate() === today.getDate()) return \"Today\";\n    else if (dateObj.getDate() === yesterday.getDate()) return \"Yesterday\";\n    else if (dateObj.getDate() === tomorrow.getDate()) return \"Tomorrow\";\n  }\n\n  var formatted =\n    monthAbbr[month - 1] + \" \" + day + (currYear === year ? \"\" : \", \" + year);\n\n  return formatted;\n}\n\nfunction getIsLate(date) {\n  if (date === \"\" || date === undefined) return false;\n  const today = new Date() - 1;\n  const d = new Date(date + \" 00:00\");\n\n  return d < today;\n}\n","import React, { Component } from \"react\";\nimport \"./Login-Register.css\";\nimport { GoogleLogin } from \"react-google-login\";\nimport \"./GoogleButton.css\";\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      usernameEntered: false,\n      nextClicked: false,\n    };\n    this.passwordInput = React.createRef();\n    this.inputRef = React.createRef();\n  }\n\n  componentDidUpdate() {\n    if (this.state.usernameEntered === false && this.state.email !== \"\")\n      this.setState({ usernameEntered: true });\n  }\n\n  handleEmailInput(e) {\n    var entered = e.target.value === \"\";\n\n    this.setState({\n      email: e.target.value,\n      usernameEntered: !entered,\n    });\n  }\n\n  handleEmailEnter(e) {\n    if (this.state.usernameEntered && (e.keyCode === 13 || e.keyCode === 9)) {\n      e.preventDefault();\n      this.setState({ nextClicked: true });\n      this.passwordInput.current.focus();\n    }\n  }\n\n  handlePasswordEnter(e) {\n    if (this.state.nextClicked && e.keyCode === 13 && e.target.value !== \"\") {\n      e.preventDefault();\n      this.props.verifyLogin(\n        this.state.email,\n        this.state.password,\n        \"Conventional\"\n      );\n      // this.setState({ usernameEntered: false, nextClicked: false });\n    }\n  }\n\n  handlePasswordInput(e) {\n    this.setState({\n      password: e.target.value,\n    });\n  }\n\n  handleLoginBtnClick(e) {\n    e.preventDefault();\n    if (!this.state.nextClicked) this.setState({ nextClicked: true });\n    else {\n      this.props.verifyLogin(\n        this.state.email,\n        this.state.password,\n        \"Conventional\"\n      );\n    }\n  }\n\n  reverseStr(str) {\n    if (str === \"\" || str === undefined || str === null)\n      return \"3279ruwejsdnma;lno3 -5pyr eo;dilzk mnd1[  0vcp89'a jklt4-]1-83rdusah13\";\n    return str.split(\"\").reverse().join(\"\");\n  }\n\n  hashGoogleInfo(responseObj) {\n    const profileObj = responseObj.profileObj;\n\n    const firstName = this.reverseStr(profileObj.givenName);\n    const lastName = this.reverseStr(profileObj.familyName);\n    const googleId = this.reverseStr(profileObj.googleId);\n    const email = this.reverseStr(profileObj.email);\n\n    const rand1 =\n      \"d9afspiuflj2kw0r392[pwiua esfljdkf[werpuasidflz;jk3dm2'- rw9eafpuisdjlzkc;3 j 80[weoadhls;jk 23np8we9asoudlh;zkxrj  f[2 e\";\n    const rand2 =\n      \"483ruoeifdsjlvsgrhw4q5983;rlfkjDSGN,FDGHWB0YQ934TP8weio;gljgkhwtr07qy480rwuepjGKHRJIUWY5-03[94APW'OE;JTSKGNJWNLP8Q4029W\";\n    const rand3 =\n      \"0283ROWIELFKDSK[p9 peua4oliwfjkdsfhdiouaotil;fewtq0uogprijsldhuoijao'ortk4ripfdhig;fk';wple-9stdpygihpfj'kQ\";\n    const rand4 =\n      \"948otwrjafj408w[8aer9pifsdjqp49w;'etoisfaj49w0ep[orsiaj[w9eosdilhva5a049P;TJRpiJ0IO_*)OIPLYT(H08pytoi4ljwef\";\n    const rand5 =\n      \"30rweisdjfak]Oi;gjanljrL;J;u;OFTYITF8d35q54tr1q2t4awregfghoikhliop'o=]iioufdrye5a243twretriot89y8upo'p[]pjuyb9tvrdw4teqrwteyrty0jpo\";\n\n    return (\n      rand1 +\n      firstName +\n      rand2 +\n      lastName +\n      rand3 +\n      googleId +\n      rand4 +\n      email +\n      rand5\n    );\n  }\n\n  handleGoogleOAuth = (response) => {\n    const username = response.profileObj.email;\n    const firstName = response.profileObj.givenName;\n    const lastName = response.profileObj.lastName;\n    const password = this.hashGoogleInfo(response);\n    const domain = \"http://localhost:9000\";\n    const url = domain + \"/accountExists\";\n    const body = JSON.stringify({\n      username: username,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        if (res) this.props.verifyLogin(username, password, \"Google\");\n        else\n          this.props.createAccount(\n            username,\n            firstName,\n            lastName,\n            password,\n            \"Google\"\n          );\n      });\n  };\n\n  render() {\n    const sentBack = this.props.loginInfo !== \"not yet\";\n\n    if (this.state.nextClicked && !sentBack) {\n      this.passwordInput.current.focus();\n    }\n\n    return (\n      <div className=\"Login pb-5 px-4 pt-4\">\n        <br />\n        <div className=\"text-left\">\n          <img\n            style={{ width: \"156.33px\", height: \"45px\" }}\n            src=\"https://iili.io/JQP1Pp.png\"\n          />\n        </div>\n        <br />\n        <br />\n        <h5 className=\"text-left\" style={{ fontWeight: \"600\" }}>\n          Log in to your account\n        </h5>\n        <br />\n        <div className=\"d-flex justify-content-center\">\n          <div className=\"google-btn\" style={{ cursor: \"pointer\" }}>\n            <div className=\"google-icon-wrapper\">\n              <img\n                className=\"google-icon\"\n                alt=\"\"\n                src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\n              />\n            </div>\n            <div className=\"google-button-text\">\n              <GoogleLogin\n                clientId=\"777242510220-80aoinvqo7q39g1iqtafjet4stv1nnu7.apps.googleusercontent.com\"\n                render={(renderProps) => (\n                  <a\n                    onClick={renderProps.onClick}\n                    disabled={renderProps.disabled}\n                    className=\"btn-text no-bg-no-borders text-white text-center\"\n                  >\n                    Log in with Google\n                  </a>\n                )}\n                buttonText=\"Log in with Google\"\n                onSuccess={this.handleGoogleOAuth}\n                onFailure={(response) => {\n                  alert(\"Google OAuth Failed.\\n\" + JSON.stringify(response));\n                }}\n                cookiePolicy={\"single_host_origin\"}\n              />\n            </div>\n          </div>\n        </div>\n        <br />\n        <div className=\"or-separator my-2 w-100 text-center font-grey\">\n          <span className=\"px-1\">or</span>\n        </div>\n        <div\n          className={\n            \"font-small-login-reg text-danger\" +\n            (this.props.loginInfo === \"not yet\" ? \" d-none\" : \"\")\n          }\n        >\n          {this.props.loginInfo === \"auth type\"\n            ? \"Please log in using the method you created your account.\"\n            : \"Please provide a valid username and password.\"}\n        </div>\n        <br />\n        <form className=\"font-grey font-small-login-reg\">\n          <label htmlFor=\"login-email-input\" style={{ fontWeight: \"500\" }}>\n            Email Address{\" \"}\n          </label>\n          <div className=\"input-group input-group-sm\">\n            <input\n              type=\"email\"\n              className={\n                \"form-control form-control-sm\" +\n                (this.state.usernameEntered ? \" input-validated\" : \"\") +\n                (sentBack && this.props.loginInfo === \"username does not exist\"\n                  ? \" border-danger\"\n                  : \"\")\n              }\n              id=\"login-email-input\"\n              aria-describedby=\"emailHelp\"\n              onChange={(e) => this.handleEmailInput(e)}\n              onKeyDown={(e) => this.handleEmailEnter(e)}\n              disabled={\n                this.state.nextClicked &&\n                this.props.loginInfo !== \"username does not exist\"\n              }\n              ref={this.inputRef}\n            />\n            <div\n              className={\n                \"input-group-append\" +\n                (this.state.nextClicked &&\n                this.props.loginInfo !== \"username does not exist\"\n                  ? \"\"\n                  : \" d-none\")\n              }\n            >\n              <span className=\"input-group-text email-check\">\n                <i className=\"fas fa-check\"></i>\n              </span>\n            </div>\n\n            {/* <small id=\"emailHelp\" className=\"form-text text-muted\">\n              This is your email address you used when you registered.\n            </small> */}\n          </div>\n\n          <div\n            className={\"form-group\" + (this.state.nextClicked ? \"\" : \" d-none\")}\n          >\n            <br></br>\n            <label htmlFor=\"login-password-input\" style={{ fontWeight: \"500\" }}>\n              Password\n            </label>\n            <input\n              type=\"password\"\n              className={\n                \"form-control form-control-sm\" +\n                (sentBack ? \" border-danger\" : \"\")\n              }\n              id=\"login-password-input\"\n              onChange={(e) => this.handlePasswordInput(e)}\n              ref={this.passwordInput}\n            />\n          </div>\n          <br />\n          <br />\n\n          <button\n            className=\"btn btn-primary px-4 font-small-login-reg\"\n            type={this.state.nextClicked ? \"submit\" : \"button\"}\n            disabled={\n              !this.state.usernameEntered || this.inputRef.current.value === \"\"\n            }\n            onClick={(e) => this.handleLoginBtnClick(e)}\n          >\n            {this.state.nextClicked ? \"Log In\" : \"Next\"}\n          </button>\n\n          <span className=\"ml-3 font-small-login-reg\">\n            Don't have an account?{\" \"}\n            <span\n              onClick={() => {\n                this.props.switchToRegister();\n              }}\n              className=\"text-primary toggle-prompt-text\"\n              style={{ cursor: \"pointer\" }}\n            >\n              Sign Up\n            </span>\n          </span>\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./Login-Register.css\";\nimport { GoogleLogin } from \"react-google-login\";\n\nexport default class Register extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      firstName: \"\",\n      lastName: \"\",\n    };\n    this.passwordInput = React.createRef();\n  }\n\n  handleEmailChange(e) {\n    this.setState({ email: e.target.value });\n  }\n\n  handleFirstNameChange(e) {\n    this.setState({ firstName: e.target.value });\n  }\n\n  handleLastNameChange(e) {\n    this.setState({ lastName: e.target.value });\n  }\n\n  handlePasswordChange(e) {\n    this.setState({ password: e.target.value });\n  }\n\n  handleSubmit() {\n    const email = this.state.email;\n    const firstName = this.state.firstName;\n    const lastName = this.state.lastName;\n    const password = this.state.password;\n    this.props.createAccount(\n      email,\n      firstName,\n      lastName,\n      password,\n      \"Conventional\"\n    );\n  }\n\n  handleKeyDown(e) {\n    if (e.keyCode === 13) {\n      this.handleSubmit();\n    }\n  }\n\n  reverseStr(str) {\n    if (str === \"\" || str === undefined || str === null)\n      return \"3279ruwejsdnma;lno3 -5pyr eo;dilzk mnd1[  0vcp89'a jklt4-]1-83rdusah13\";\n    return str.split(\"\").reverse().join(\"\");\n  }\n\n  hashGoogleInfo(responseObj) {\n    const profileObj = responseObj.profileObj;\n\n    const firstName = this.reverseStr(profileObj.givenName);\n    const lastName = this.reverseStr(profileObj.familyName);\n    const googleId = this.reverseStr(profileObj.googleId);\n    const email = this.reverseStr(profileObj.email);\n\n    const rand1 =\n      \"d9afspiuflj2kw0r392[pwiua esfljdkf[werpuasidflz;jk3dm2'- rw9eafpuisdjlzkc;3 j 80[weoadhls;jk 23np8we9asoudlh;zkxrj  f[2 e\";\n    const rand2 =\n      \"483ruoeifdsjlvsgrhw4q5983;rlfkjDSGN,FDGHWB0YQ934TP8weio;gljgkhwtr07qy480rwuepjGKHRJIUWY5-03[94APW'OE;JTSKGNJWNLP8Q4029W\";\n    const rand3 =\n      \"0283ROWIELFKDSK[p9 peua4oliwfjkdsfhdiouaotil;fewtq0uogprijsldhuoijao'ortk4ripfdhig;fk';wple-9stdpygihpfj'kQ\";\n    const rand4 =\n      \"948otwrjafj408w[8aer9pifsdjqp49w;'etoisfaj49w0ep[orsiaj[w9eosdilhva5a049P;TJRpiJ0IO_*)OIPLYT(H08pytoi4ljwef\";\n    const rand5 =\n      \"30rweisdjfak]Oi;gjanljrL;J;u;OFTYITF8d35q54tr1q2t4awregfghoikhliop'o=]iioufdrye5a243twretriot89y8upo'p[]pjuyb9tvrdw4teqrwteyrty0jpo\";\n\n    return (\n      rand1 +\n      firstName +\n      rand2 +\n      lastName +\n      rand3 +\n      googleId +\n      rand4 +\n      email +\n      rand5\n    );\n  }\n\n  handleGoogleOAuth = (response) => {\n    const username = response.profileObj.email;\n    const firstName = response.profileObj.givenName;\n    const lastName = response.profileObj.lastName;\n    const password = this.hashGoogleInfo(response); // add some sort of hashing function to this\n    const domain = \"http://localhost:9000\";\n    const url = domain + \"/accountExists\";\n    const body = JSON.stringify({\n      username: username,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        if (res) this.props.verifyLogin(username, password, \"Google\");\n        else\n          this.props.createAccount(\n            username,\n            firstName,\n            lastName,\n            password,\n            \"Google\"\n          );\n      });\n  };\n\n  render() {\n    var warningMessage = \"\";\n    var emptyFields = new Array(4).fill(false);\n\n    if (this.props.registerInfo === \"username already exists\")\n      warningMessage = \"An account with that email already exists. \";\n    else if (this.props.registerInfo === \"invalid email\")\n      warningMessage = \"Please enter a valid email address.\";\n    else if (this.props.registerInfo === \"password length\")\n      warningMessage = \"Password must be at least 6 characters.\";\n    else if (this.props.registerInfo === \"empty field(s)\") {\n      warningMessage = \"Please fill in all fields.\";\n      emptyFields[0] = this.state.email === \"\";\n      emptyFields[1] = this.state.firstName === \"\";\n      emptyFields[2] = this.state.lastName === \"\";\n      emptyFields[3] = this.state.password === \"\";\n    }\n\n    const emailInputHighlighted =\n      this.props.registerInfo === \"username already exists\" ||\n      this.props.registerInfo === \"invalid email\" ||\n      emptyFields[0];\n    const firstNameInputHighlighted = emptyFields[1];\n    const lastNameInputHighlighted = emptyFields[2];\n    const passwordInputHighlighted =\n      this.props.registerInfo === \"password length\" || emptyFields[3];\n\n    return (\n      <div className=\"Register py-5 px-4\">\n        <h5 className=\"text-left\" style={{ fontWeight: \"600\" }}>\n          Create your account\n        </h5>\n        <br />\n        <br />\n        <div className=\"d-flex justify-content-center\">\n          <div\n            className=\"google-btn google-btn-lg\"\n            style={{ cursor: \"pointer\" }}\n          >\n            <div className=\"google-icon-wrapper\">\n              <img\n                className=\"google-icon\"\n                alt=\"\"\n                src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\n              />\n            </div>\n            <div className=\"google-button-text\">\n              <GoogleLogin\n                clientId=\"777242510220-80aoinvqo7q39g1iqtafjet4stv1nnu7.apps.googleusercontent.com\"\n                render={(renderProps) => (\n                  <a\n                    onClick={renderProps.onClick}\n                    disabled={renderProps.disabled}\n                    className=\"btn-text no-bg-no-borders text-white text-center\"\n                  >\n                    Sign up with Google\n                  </a>\n                )}\n                buttonText=\"Sign Up with Google\"\n                onSuccess={this.handleGoogleOAuth}\n                onFailure={(response) => {\n                  alert(\"Google OAuth Failed.\\n\" + JSON.stringify(response));\n                }}\n                cookiePolicy={\"single_host_origin\"}\n              />\n            </div>\n          </div>\n        </div>\n        <br />\n        <div className=\"or-separator my-2 w-100 text-center font-grey\">\n          <span className=\"px-1\">or</span>\n        </div>\n        <div\n          className={\n            \"font-small-login-reg text-danger py-2\" +\n            (warningMessage === \"\" ? \" d-none\" : \"\")\n          }\n        >\n          {warningMessage}\n        </div>\n        <form className=\"font-grey font-small-login-reg\">\n          <label htmlFor=\"login-email-input\" style={{ fontWeight: \"500\" }}>\n            Email Address{\" \"}\n          </label>\n          <div className=\"input-group input-group-sm mb-3\">\n            <input\n              type=\"email\"\n              className={\n                \"form-control form-control-sm\" +\n                (emailInputHighlighted ? \" border-danger\" : \"\")\n              }\n              id=\"login-email-input\"\n              aria-describedby=\"emailHelp\"\n              onChange={(e) => this.handleEmailChange(e)}\n            />\n          </div>\n          <label htmlFor=\"login-firstName-input\" style={{ fontWeight: \"500\" }}>\n            First Name{\" \"}\n          </label>\n          <div className=\"input-group input-group-sm mb-3\">\n            <br></br>\n            <input\n              type=\"text\"\n              className={\n                \"form-control form-control-sm \" +\n                (firstNameInputHighlighted ? \" border-danger\" : \"\")\n              }\n              id=\"login-firstName-input\"\n              aria-describedby=\"emailHelp\"\n              onChange={(e) => this.handleFirstNameChange(e)}\n            />\n          </div>\n          <label htmlFor=\"login-lastName-input\" style={{ fontWeight: \"500\" }}>\n            Last Name{\" \"}\n          </label>\n          <div className=\"input-group input-group-sm mb-3\">\n            <br></br>\n            <input\n              type=\"text\"\n              className={\n                \"form-control form-control-sm\" +\n                (lastNameInputHighlighted ? \" border-danger\" : \"\")\n              }\n              id=\"login-lastName-input\"\n              aria-describedby=\"emailHelp\"\n              onChange={(e) => this.handleLastNameChange(e)}\n            />\n          </div>\n          <div className={\"form-group\"}>\n            <label htmlFor=\"login-password-input\" style={{ fontWeight: \"500\" }}>\n              Password\n            </label>\n            <input\n              type=\"password\"\n              className={\n                \"form-control form-control-sm\" +\n                (passwordInputHighlighted ? \" border-danger\" : \"\")\n              }\n              id=\"login-password-input\"\n              onChange={(e) => this.handlePasswordChange(e)}\n              onKeyDown={(e) => this.handleKeyDown(e)}\n              ref={this.passwordInput}\n            />\n          </div>\n          <br />\n          <button\n            className=\"btn btn-primary px-4 font-small-login-reg\"\n            type=\"button\"\n            onClick={() => this.handleSubmit()}\n          >\n            {\"Sign Up\"}\n          </button>\n\n          <span className=\"ml-3 font-small-login-reg\">\n            Already have an account?{\" \"}\n            <span\n              onClick={() => {\n                this.props.switchToLogin();\n              }}\n              className=\"text-primary toggle-prompt-text\"\n              style={{ cursor: \"pointer\" }}\n            >\n              Log In\n            </span>\n          </span>\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\n\nexport default class Sidebar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedList: this.props.currentlySelectedListName,\n    };\n  }\n\n  selectList(e) {\n    var listName = e.currentTarget.dataset.listName;\n    this.setState({ selectedList: listName });\n    this.props.setSelectedList(listName);\n  }\n\n  createProfileAbbreviation() {\n    var profileIconAbbr;\n    if (\n      this.props.firstName === undefined ||\n      this.props.firstName === null ||\n      (this.props.firstName === \"\" && this.props.lastName === undefined) ||\n      this.props.lastName === null ||\n      this.props.lastName === \"\"\n    ) {\n      profileIconAbbr = this.props.username.substring(0, 2);\n    } else if (\n      this.props.firstName === undefined ||\n      this.props.firstName === null ||\n      (this.props.firstName === \"\" &&\n        this.props.lastName !== undefined &&\n        this.props.lastName !== null &&\n        this.props.lastName !== \"\")\n    ) {\n      profileIconAbbr = this.props.lastName.substring(0, 2);\n    } else if (\n      this.props.firstName !== undefined &&\n      this.props.firstName !== null &&\n      ((this.props.firstName !== \"\" && this.props.lastName === undefined) ||\n        this.props.lastName === null ||\n        this.props.lastName === \"\")\n    ) {\n      profileIconAbbr = this.props.firstName.substring(0, 2);\n    } else {\n      profileIconAbbr =\n        this.props.firstName.toUpperCase().substring(0, 1) +\n        this.props.lastName.toUpperCase().substring(0, 1);\n    }\n\n    return profileIconAbbr;\n  }\n\n  render() {\n    const selectedList = this.props.currentlySelectedListName;\n\n    const personalLists = this.props.lists.slice(\n      0,\n      this.props.lists.length - 3\n    );\n\n    var incompletedCountToday = 0;\n    var incompletedCountNext7Days = 0;\n    var incompletedCountAll = 0;\n    if (this.props.lists.length > 0) {\n      incompletedCountToday = countIncompletedItems(\n        this.props.lists[this.props.lists.length - 3]\n      );\n      incompletedCountNext7Days = countIncompletedItems(\n        this.props.lists[this.props.lists.length - 2]\n      );\n      incompletedCountAll = countIncompletedItems(\n        this.props.lists[this.props.lists.length - 1]\n      );\n    }\n\n    var profileIconAbbr = this.createProfileAbbreviation();\n\n    return (\n      <div className=\"sidebar-container pt-5\">\n        <div className=\"profile-icon mb-4 text-center\">\n          <span\n            style={{\n              color: \"white\",\n              backgroundColor: \"rgb(21, 127, 251)\",\n              borderRadius: \"50%\",\n              paddingLeft: \"11px\",\n              paddingRight: \"11px\",\n              paddingTop: \"10px\",\n              paddingBottom: \"10px\",\n              fontSize: \"16px\",\n              pointerEvents: \"none\",\n            }}\n          >\n            {profileIconAbbr}\n          </span>\n        </div>\n        <div\n          className=\"text-center font-small sidebar-item py-1 pt-3\"\n          style={{\n            pointerEvents: \"none\",\n            fontWeight: \"600\",\n            color: \"rgb(113, 123, 133)\",\n          }}\n        >\n          Smart Lists\n        </div>\n        <div\n          id=\"sidebar-today\"\n          className={\n            \"sidebar-item py-2 pl-4 .no-gutters row align-items-center justify-content-left\" +\n            (selectedList === \"Today\" ? \" selected-sidebar-item\" : \"\")\n          }\n          data-list-name=\"Today\"\n          onClick={(e) => this.selectList(e)}\n        >\n          <i className=\"fas fa-calendar-day sidebar-icon col-1 mr-2\"></i>\n          <div className=\"col-5 text-left p-0 sidebar-list-name\">Today</div>\n          <div className=\"col-1 sidebar-list-color text-left invisible\">\n            <i className=\"fa fa-circle\" style={{ fontSize: \"8px\" }}></i>\n          </div>\n          <div className=\"col-1 font-small\">\n            {incompletedCountToday > 0 ? incompletedCountToday : \"\"}\n          </div>\n        </div>\n        <div\n          id=\"sidebar-next-7-days\"\n          className={\n            \"sidebar-item py-2 pl-4 .no-gutters row align-items-center justify-content-left\" +\n            (selectedList === \"Next 7 Days\" ? \" selected-sidebar-item\" : \"\")\n          }\n          onClick={(e) => this.selectList(e)}\n          data-list-name=\"Next 7 Days\"\n        >\n          <i className=\"fas fa-calendar-week sidebar-icon col-1 mr-2\"></i>\n          <div className=\"col-5 text-left p-0 sidebar-list-name\">\n            Next 7 Days\n          </div>\n          <div className=\"col-1 sidebar-list-color text-left invisible\">\n            <i className=\"fa fa-circle\" style={{ fontSize: \"8px\" }}></i>\n          </div>\n          <div className=\"col-1 font-small\">\n            {incompletedCountNext7Days > 0 ? incompletedCountNext7Days : \"\"}\n          </div>\n        </div>\n        <div\n          id=\"sidebar-all\"\n          className={\n            \"sidebar-item py-2 pl-4 .no-gutters row align-items-center justify-content-left\" +\n            (selectedList === \"All\" ? \" selected-sidebar-item\" : \"\")\n          }\n          onClick={(e) => this.selectList(e)}\n          data-list-name=\"All\"\n        >\n          <i className=\"fas fa-calendar sidebar-icon col-1 mr-2\"></i>\n          <div className=\"col-5 text-left p-0 sidebar-list-name\">All</div>\n          <div className=\"col-1 sidebar-list-color text-left invisible\">\n            <i className=\"fa fa-circle\" style={{ fontSize: \"8px\" }}></i>\n          </div>\n          <div className=\"col-1 font-small\">\n            {incompletedCountAll > 0 ? incompletedCountAll : \"\"}\n          </div>\n        </div>\n        <div\n          className=\"text-center font-small sidebar-item py-1 pt-5\"\n          style={{\n            pointerEvents: \"none\",\n            fontWeight: \"600\",\n            color: \"rgb(113, 123, 133)\",\n          }}\n        >\n          Your Lists\n        </div>\n        <div id=\"personal-lists\">\n          {personalLists.map((list, index) => {\n            const count = countIncompletedItems(list);\n            const listName =\n              list.name.length > 11\n                ? list.name.substring(0, 11) + \"...\"\n                : list.name;\n            return (\n              <div key={list.name}>\n                <ContextMenuTrigger id={list.name}>\n                  <div\n                    className={\n                      \"sidebar-item py-2 pl-4 .no-gutters row align-items-center justify-content-left\" +\n                      (selectedList === list.name\n                        ? \" selected-sidebar-item\"\n                        : \"\")\n                    }\n                    onClick={(e) => this.selectList(e)}\n                    data-list-name={list.name}\n                  >\n                    <i className=\"fas fa-tasks sidebar-icon col-1 mr-2\"></i>\n                    <div className=\"col-5 text-left p-0 sidebar-list-name\">\n                      {listName}\n                    </div>\n                    <div className=\"col-1 sidebar-list-color text-left\">\n                      <i\n                        className=\"fa fa-circle\"\n                        style={{ color: list.color, fontSize: \"8px\" }}\n                      ></i>\n                    </div>\n                    <div className=\"col-1 font-small\">\n                      {count > 0 ? count : \"\"}\n                    </div>\n                  </div>\n                </ContextMenuTrigger>\n                <ContextMenu\n                  id={list.name}\n                  className=\"sidebar-context-menu p-0 shadow-sm\"\n                >\n                  <MenuItem\n                    data={{ listName: list.name }}\n                    className=\"sidebar-context-menu-item px-2 py-1\"\n                    onClick={() =>\n                      this.props.showEditListOverlay(list.name, list.color)\n                    }\n                  >\n                    <div className=\"row align-items-center justify-content-left\">\n                      <i className=\"fas fa-edit col-1\"></i>\n                      <span className=\"col-6\">Edit</span>\n                    </div>\n                  </MenuItem>\n                  <MenuItem\n                    data={{ listName: list.name }}\n                    className=\"sidebar-context-menu-item px-2 py-1\"\n                    onClick={(e) => {\n                      e.preventDefault();\n                      const confirmed = window.confirm(\n                        'Are you sure you want to delete \"' +\n                          list.name +\n                          '\"? \\n\\nDeleting it will permanently delete all of its items.'\n                      );\n                      if (confirmed) this.props.deleteList(list.name);\n                    }}\n                  >\n                    <div className=\"row align-items-center justify-content-left\">\n                      <i className=\"fas fa-trash col-1\"></i>\n                      <span className=\"col-6\">Delete</span>\n                    </div>\n                  </MenuItem>\n                </ContextMenu>\n              </div>\n            );\n          })}\n        </div>\n        <div\n          className=\"createListBtn text-center sidebar-icon sidebar-item py-2\"\n          style={{ borderBottom: \"none\" }}\n          onClick={() => this.props.showAddListOverlay()}\n        >\n          <i className=\"fas fa-plus-circle\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction countIncompletedItems(list) {\n  const items = list.items;\n  var res = 0;\n  for (let i = 0; i < items.length; i++) {\n    if (!items[i].completed) res++;\n  }\n\n  return res;\n}\n","import React, { Component } from \"react\";\n\nexport default class Notification extends Component {\n  render() {\n    var itemTitle = this.props.title;\n    if (itemTitle !== undefined && itemTitle.length > 16)\n      itemTitle = itemTitle.substring(0, 16) + \"...\";\n    else if (itemTitle !== undefined && itemTitle.length === 0)\n      itemTitle = \"[Empty Title]\";\n    if (itemTitle !== undefined && itemTitle !== \"[Empty Title]\")\n      itemTitle = '\"' + itemTitle + '\"';\n\n    const listName =\n      this.props.listName === \"All\" || \"Today\" || \"Next 7 Days\"\n        ? this.props.originalList\n        : this.props.listName;\n    const notificationClasses =\n      \"notification p-3 shadow\" +\n      (this.props.displaying ? \" notification-displayed\" : \"\");\n    return (\n      <div className={notificationClasses}>\n        <div>\n          {itemTitle} was deleted from <br />\"{listName}\"\n        </div>\n        <div className=\"row\">\n          <div className=\"col-9\"></div>\n          <div\n            className=\"col-3 text-primary undo-button\"\n            style={{ cursor: \"pointer\", fontWeight: \"600\" }}\n            onClick={() => {\n              this.props.undo();\n              this.props.hideNotification();\n            }}\n          >\n            Undo\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nexport default class Toolbar extends Component {\n  render() {\n    return (\n      <>\n        <div\n          className=\"toolbar-icon col-10 mx-1 text-center d-flex justify-content-center align-items-center\"\n          onClick={() => this.props.handleShowSettingsOverlay()}\n        >\n          <i className=\"fas fa-cogs\"></i>\n        </div>\n        <div\n          className=\"toolbar-icon col-10 mx-1 text-center d-flex justify-content-center align-items-center\"\n          onClick={(e) => {\n            e.preventDefault();\n            if (\n              this.props.currentlySelectedListName !== \"Today\" &&\n              this.props.currentlySelectedListName !== \"Next 7 Days\" &&\n              this.props.currentlySelectedListName !== \"All\"\n            ) {\n              var confirmed = window.confirm(\n                'Clear all completed items for \"' +\n                  this.props.currentlySelectedListName +\n                  '\"?'\n              );\n              if (confirmed) {\n                // delete all completed items\n                this.props.deleteAllCompletedItems();\n              }\n            }\n          }}\n        >\n          <i className=\"fas fa-hand-sparkles\"></i>\n        </div>\n        <div className=\"toolbar-icon col-10 mx-1 text-center d-flex justify-content-center align-items-center\">\n          <i className=\"fas fa-share-alt\"></i>\n        </div>\n        <div\n          className=\"toolbar-icon col-10 mx-1 text-center d-flex justify-content-center align-items-center\"\n          onClick={() => this.props.handleLogOut()}\n        >\n          <i className=\"fas fa-sign-out-alt\"></i>\n        </div>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nexport default class AddListOverlay extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { selectedColor: \"\", listName: \"\", issue: \"\" };\n  }\n\n  selectColor(e) {\n    const color = e.currentTarget.dataset.color;\n    this.setState({ selectedColor: color });\n    this.props.focusTitleInput();\n  }\n\n  handleSubmit() {\n    const listName = this.state.listName;\n    const color = this.state.selectedColor;\n\n    if (listNameExists(this.props.lists, listName)) {\n      this.setState({ issue: \"List name already exists.\" });\n    } else {\n      // call create list function\n      this.props.createList(listName, color);\n      // close the overlay\n      this.props.hideOverlay();\n      this.setState({ selectedColor: \"\", listName: \"\", issue: \"\" });\n    }\n  }\n\n  render() {\n    var issueText = this.state.issue;\n\n    const colors = [\n      \"#FDC5F5\",\n      \"#861388\",\n      \"#80242f\",\n      \"#f76f90\",\n      \"#e01e37\",\n      \"#FFD166\",\n      \"#fb5607\",\n      \"#ffcdb2\",\n      \"#8cb369\",\n      \"#29BF12\",\n      \"#06EFB1\",\n      \"#0496FF\",\n      \"#5390d9\",\n      \"#023e7d\",\n      \"#5448C8\",\n      \"#131200\",\n      \"#d9d9d9\",\n    ];\n\n    const classes =\n      \"add-list-overlay shadow font-grey p-4\" +\n      (this.props.displaying ? \" add-list-overlay-displayed\" : \"\");\n    return (\n      <div\n        className={classes}\n        onKeyDown={(e) => {\n          if (\n            e.keyCode === 13 &&\n            this.state.listName !== \"\" &&\n            this.state.selectedColor !== \"\"\n          )\n            this.handleSubmit();\n        }}\n      >\n        <div className=\"text-center\" style={{ pointerEvents: \"none\" }}>\n          <h5>Add List</h5>\n        </div>\n        <label htmlFor=\"add-list-title-input\">Title</label>\n        <input\n          id=\"add-list-title-input\"\n          className=\"form-control form-control-sm\"\n          ref={this.props.addListTitleRef}\n          onChange={(e) => {\n            this.setState({\n              listName: e.currentTarget.value,\n              issue: \"\",\n            });\n          }}\n          autoComplete=\"off\"\n        />\n        <span className=\"text-right\">\n          <small\n            className={\n              \"text-right text-danger\" +\n              (this.state.issue !== \"\" ? \"\" : \" invisible\")\n            }\n          >\n            {issueText}\n          </small>\n        </span>\n        <br />\n\n        <label htmlFor=\"add-list-color-input\">Color</label>\n\n        <div className=\"d-flex justify-content-around\">\n          {colors.map((color, index) => {\n            var shadedColor = shadeColor(color, -30) + \"BB\";\n\n            return (\n              <i\n                key={color}\n                className={\n                  \"fa fa-circle add-list-overlay-color\" +\n                  (this.state.selectedColor === color\n                    ? \" add-list-overlay-color-selected\"\n                    : \"\")\n                }\n                style={{\n                  fontSize: \"13px\",\n                  color: color,\n                  borderColor:\n                    this.state.selectedColor === color\n                      ? shadedColor\n                      : \"rgba(0, 0, 0, 0)\",\n                  backgroundColor:\n                    this.state.selectedColor === color\n                      ? shadedColor\n                      : \"rgba(0, 0, 0, 0)\",\n                }}\n                data-color={color}\n                onClick={(e) => this.selectColor(e)}\n              />\n            );\n          })}\n        </div>\n        <div className=\"d-flex justify-content-center mt-5 pb-2\">\n          <button\n            className=\"btn btn-sm btn-secondary mr-2 px-3\"\n            style={{ borderRadius: \"5px\" }}\n            onClick={() => {\n              this.setState({\n                selectedColor: \"\",\n                listName: \"\",\n                listNameExists: false,\n              });\n              this.props.hideOverlay();\n            }}\n          >\n            Cancel\n          </button>\n          <button\n            className=\"btn btn-sm btn-primary ml-2 px-3\"\n            style={{ borderRadius: \"5px\" }}\n            onClick={() => this.handleSubmit()}\n            disabled={\n              this.state.listName === \"\" || this.state.selectedColor === \"\"\n            }\n          >\n            Save\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction listNameExists(lists, listName) {\n  for (let i = 0; i < lists.length; i++)\n    if (lists[i].name === listName) return true;\n\n  return false;\n}\n\nfunction shadeColor(color, percent) {\n  var R = parseInt(color.substring(1, 3), 16);\n  var G = parseInt(color.substring(3, 5), 16);\n  var B = parseInt(color.substring(5, 7), 16);\n\n  R = parseInt((R * (100 + percent)) / 100);\n  G = parseInt((G * (100 + percent)) / 100);\n  B = parseInt((B * (100 + percent)) / 100);\n\n  R = R < 255 ? R : 255;\n  G = G < 255 ? G : 255;\n  B = B < 255 ? B : 255;\n\n  var RR = R.toString(16).length === 1 ? \"0\" + R.toString(16) : R.toString(16);\n  var GG = G.toString(16).length === 1 ? \"0\" + G.toString(16) : G.toString(16);\n  var BB = B.toString(16).length === 1 ? \"0\" + B.toString(16) : B.toString(16);\n\n  return \"#\" + RR + GG + BB;\n}\n","import React, { Component } from \"react\";\n\nexport default class EditListOverlay extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedColor: undefined,\n      listName: undefined,\n      issue: \"\",\n    };\n  }\n\n  selectColor(e) {\n    const color = e.currentTarget.dataset.color;\n    this.setState({ selectedColor: color });\n    this.props.focusTitleInput();\n  }\n\n  handleSubmit() {\n    const listName = this.state.listName;\n    const color = this.state.selectedColor;\n\n    if (!listNameExists(this.props.startingName, this.props.lists, listName)) {\n      this.setState({ selectedColor: undefined, listName: undefined });\n\n      this.props.editList(this.props.startingName, listName, color);\n\n      // close the overlay\n      this.props.hideOverlay();\n    } else {\n      this.setState({ issue: \"List name already exists.\" });\n    }\n  }\n\n  render() {\n    var issueText = this.state.issue;\n    if (\n      (this.state.listName === undefined ||\n        this.state.selectedColor === undefined) &&\n      this.props.startingColor !== \"\" &&\n      this.props.startingName !== \"\"\n    ) {\n      this.setState({\n        selectedColor: this.props.startingColor,\n        listName: this.props.startingName,\n      });\n    }\n\n    const colors = [\n      \"#FDC5F5\",\n      \"#861388\",\n      \"#80242f\",\n      \"#f76f90\",\n      \"#e01e37\",\n      \"#FFD166\",\n      \"#fb5607\",\n      \"#ffcdb2\",\n      \"#8cb369\",\n      \"#29BF12\",\n      \"#06EFB1\",\n      \"#0496FF\",\n      \"#5390d9\",\n      \"#023e7d\",\n      \"#5448C8\",\n      \"#131200\",\n      \"#d9d9d9\",\n    ];\n\n    const classes =\n      \"add-list-overlay shadow font-grey p-4\" +\n      (this.props.displaying ? \" add-list-overlay-displayed\" : \"\");\n    return (\n      <div\n        className={classes}\n        onKeyDown={(e) => {\n          if (\n            e.keyCode === 13 &&\n            this.state.listName !== \"\" &&\n            this.state.selectedColor !== \"\"\n          )\n            this.handleSubmit();\n        }}\n      >\n        <div className=\"text-center\" style={{ pointerEvents: \"none\" }}>\n          <h5>Edit List</h5>\n        </div>\n        <label htmlFor=\"add-list-title-input\">Title</label>\n        <input\n          id=\"add-list-title-input\"\n          className=\"form-control form-control-sm\"\n          ref={this.props.editListTitleRef}\n          onChange={(e) => {\n            this.setState({\n              listName: e.currentTarget.value,\n              issue: \"\",\n            });\n          }}\n          autoComplete=\"off\"\n        />\n        <span className=\"text-right\">\n          <small\n            className={\n              \"text-right text-danger\" +\n              (this.state.issue !== \"\" ? \"\" : \" invisible\")\n            }\n          >\n            {issueText}\n          </small>\n        </span>\n        <br />\n\n        <label htmlFor=\"add-list-color-input\">Color</label>\n\n        <div className=\"d-flex justify-content-around\">\n          {colors.map((color, index) => {\n            var shadedColor = shadeColor(color, -30) + \"BB\";\n            return (\n              <i\n                key={color}\n                className={\n                  \"fa fa-circle add-list-overlay-color\" +\n                  (this.state.selectedColor === color\n                    ? \" add-list-overlay-color-selected\"\n                    : \"\")\n                }\n                style={{\n                  fontSize: \"13px\",\n                  color: color,\n                  borderColor:\n                    this.state.selectedColor === color\n                      ? shadedColor\n                      : \"rgba(0, 0, 0, 0)\",\n                  backgroundColor:\n                    this.state.selectedColor === color\n                      ? shadedColor\n                      : \"rgba(0, 0, 0, 0)\",\n                }}\n                data-color={color}\n                onClick={(e) => this.selectColor(e)}\n              />\n            );\n          })}\n        </div>\n        <div className=\"d-flex justify-content-center mt-5 pb-2\">\n          <button\n            className=\"btn btn-sm btn-secondary mr-2 px-3\"\n            style={{ borderRadius: \"5px\" }}\n            onClick={() => {\n              this.setState({\n                selectedColor: undefined,\n                listName: undefined,\n              });\n              this.props.hideOverlay();\n            }}\n          >\n            Cancel\n          </button>\n          <button\n            className=\"btn btn-sm btn-primary ml-2 px-3\"\n            style={{ borderRadius: \"5px\" }}\n            onClick={() => this.handleSubmit()}\n            disabled={\n              this.state.listName === \"\" || this.state.selectedColor === \"\"\n            }\n          >\n            Save\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction listNameExists(originalName, lists, listName) {\n  for (let i = 0; i < lists.length; i++)\n    if (lists[i].name === listName && lists[i].name !== originalName)\n      return true;\n\n  return false;\n}\n\nfunction shadeColor(color, percent) {\n  var R = parseInt(color.substring(1, 3), 16);\n  var G = parseInt(color.substring(3, 5), 16);\n  var B = parseInt(color.substring(5, 7), 16);\n\n  R = parseInt((R * (100 + percent)) / 100);\n  G = parseInt((G * (100 + percent)) / 100);\n  B = parseInt((B * (100 + percent)) / 100);\n\n  R = R < 255 ? R : 255;\n  G = G < 255 ? G : 255;\n  B = B < 255 ? B : 255;\n\n  var RR = R.toString(16).length === 1 ? \"0\" + R.toString(16) : R.toString(16);\n  var GG = G.toString(16).length === 1 ? \"0\" + G.toString(16) : G.toString(16);\n  var BB = B.toString(16).length === 1 ? \"0\" + B.toString(16) : B.toString(16);\n\n  return \"#\" + RR + GG + BB;\n}\n","import React, { Component } from \"react\";\n\nexport default class SettingsOverlay extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  setSorting(e) {\n    const sortingType = e.currentTarget.dataset.type;\n    this.props.setSortingSetting(sortingType);\n  }\n\n  setKeywords(e) {\n    const keywordType = e.currentTarget.dataset.type;\n\n    // both are checked, unchecking we are unchecking one of them\n    if (this.props.keywords === \"both\") {\n      if (keywordType === \"dates\") this.props.setKeywordsSetting(\"priorities\");\n      else if (keywordType === \"priorities\")\n        this.props.setKeywordsSetting(\"dates\");\n    } else if (this.props.keywords === \"none\") {\n      // nothing is checked atm, we are checking one of them\n      if (keywordType === \"dates\") this.props.setKeywordsSetting(\"dates\");\n      else if (keywordType === \"priorities\")\n        this.props.setKeywordsSetting(\"priorities\");\n    } else if (\n      (this.props.keywords === \"dates\" && keywordType === \"priorities\") ||\n      (this.props.keywords === \"priorities\" && keywordType === \"dates\")\n    )\n      // one is already checked and we are checking off the other\n      this.props.setKeywordsSetting(\"both\");\n    else if (\n      (this.props.keywords === \"dates\" && keywordType === \"dates\") ||\n      (this.props.keywords === \"priorities\" && keywordType === \"priorities\")\n    )\n      // one is already checked and we are unchecking that one\n      this.props.setKeywordsSetting(\"none\");\n  }\n\n  render() {\n    // checkbox setting\n    const prioritiesKeywordsChecked =\n      this.props.keywords === \"both\" || this.props.keywords === \"priorities\";\n    const dateKeywordsChecked =\n      this.props.keywords === \"both\" || this.props.keywords === \"dates\";\n\n    // radio setting\n    const prioritiesSortingChecked = this.props.sorting === \"priorities first\";\n    const datesSortingChecked = this.props.sorting === \"dates first\";\n\n    const classes =\n      \"settings-overlay shadow font-grey p-4\" +\n      (this.props.displaying ? \" settings-overlay-displayed\" : \"\");\n\n    return (\n      <div className={classes}>\n        <div className=\"text-center\" style={{ pointerEvents: \"none\" }}>\n          <h5>Settings</h5>\n        </div>\n        <input style={{ width: 0, opacity: 0 }} ref={this.props.settingsRef} />\n\n        <div>\n          <label htmlFor=\"keyword-settings\">\n            Keyword Setting when Adding Items\n          </label>\n          <div id=\"keyword-settings\" className=\"form-group\">\n            <div className=\"form-check ml-2\">\n              <input\n                className=\"form-check-input settings-radio\"\n                type=\"checkbox\"\n                id=\"keywords-check-dates\"\n                data-type=\"dates\"\n                checked={dateKeywordsChecked}\n                onClick={(e) => this.setKeywords(e)}\n              />\n              <label\n                className=\"form-check-label settings-label\"\n                htmlFor=\"keywords-check-dates\"\n              >\n                Dates\n              </label>\n            </div>\n            <div className=\"form-check ml-2\">\n              <input\n                className=\"form-check-input settings-radio\"\n                type=\"checkbox\"\n                id=\"keywords-check-priority\"\n                data-type=\"priorities\"\n                checked={prioritiesKeywordsChecked}\n                onClick={(e) => this.setKeywords(e)}\n              />\n              <label\n                className=\"form-check-label settings-label\"\n                htmlFor=\"keywords-check-priorities\"\n              >\n                Priorities\n              </label>\n            </div>\n          </div>\n          <br />\n          <div className=\"form-group\">\n            <label htmlFor=\"sorting-settings\">Item Sorting</label>\n            <div id=\"sorting-settings\" className=\"form-check ml-2\">\n              <input\n                className=\"form-check-input settings-radio\"\n                type=\"radio\"\n                name=\"sorting-radio\"\n                id=\"sorting-radio-1\"\n                value=\"option1\"\n                data-type=\"dates first\"\n                checked={datesSortingChecked}\n                onClick={(e) => this.setSorting(e)}\n              />\n              <label\n                className=\"form-check-label settings-label\"\n                htmlFor=\"sorting-radio-1\"\n              >\n                Dates First\n              </label>\n            </div>\n            <div className=\"form-check ml-2\">\n              <input\n                className=\"form-check-input settings-radio\"\n                type=\"radio\"\n                name=\"exampleRadios\"\n                name=\"sorting-radio\"\n                id=\"sorting-radio-2\"\n                value=\"option2\"\n                checked={prioritiesSortingChecked}\n                data-type=\"priorities first\"\n                onClick={(e) => this.setSorting(e)}\n              />\n              <label\n                className=\"form-check-label settings-label\"\n                htmlFor=\"sorting-radio-2\"\n              >\n                Priorities First\n              </label>\n            </div>\n          </div>\n          <br />\n        </div>\n        <div\n          className=\"d-flex justify-content-center\"\n          onClick={() => this.props.hideSettingsOverlay()}\n        >\n          <button className=\"btn btn btn-primary px-4\">OK</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction bgToURL() {}\n","import React, { Component } from \"react\";\nimport Cookies from \"universal-cookie\";\nimport \"./App.css\";\n\nimport $ from \"jquery\";\n\nimport Todolist from \"./todolist/Todolist\";\nimport Details from \"./todolist/Details\";\nimport Login from \"./todolist/Login\";\nimport Register from \"./todolist/Register\";\nimport Sidebar from \"./todolist/Sidebar\";\nimport Notification from \"./todolist/Notification\";\nimport Toolbar from \"./todolist/Toolbar\";\nimport AddListOverlay from \"./todolist/AddListOverlay\";\nimport EditListOverlay from \"./todolist/EditListOverlay\";\nimport SettingsOverlay from \"./todolist/SettingsOverlay\";\n\nvar ObjectID = require(\"bson-objectid\");\nconst cookies = new Cookies();\n\nconst domain = \"http://localhost:9000\";\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      docTitle: \"Log in | Doozy\",\n      loggedIn: \"not yet\",\n      registered: \"not yet\",\n      loginOrRegister: \"login\",\n      lists: [],\n      username: \"\",\n      currentlySelectedListIndex: 0,\n      currentlySelectedListName: \"\",\n      currentlySelectedItemID: \"\",\n      bgURL: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      loaded: false,\n      notificationDisplaying: false,\n      lastDeletedItem: {},\n      lastDeletedItemListName: \"\",\n      addListOverlayDisplaying: false,\n      editListOverlayDisplaying: false,\n      settingsOverlayDisplaying: false,\n      editListName: \"\",\n      editListColor: \"\",\n      sorting: \"\",\n      background: \"random\",\n      keywords: \"both\",\n    };\n    this.addListTitleRef = React.createRef();\n    this.editListTitleRef = React.createRef();\n    this.settingsRef = React.createRef();\n  }\n\n  componentDidMount() {\n    var username = \"\";\n    var firstName = \"\";\n    var lastName = \"\";\n    var loggedIn = \"not yet\";\n    var docTitle = this.state.docTitle;\n    var sorting = \"dates first\";\n    var background = \"random\";\n    var keywords = \"both\";\n\n    // cookie exists\n    if (cookies.get(\"DoozyLogin\") !== undefined) {\n      username = cookies.get(\"DoozyLogin\").email;\n      firstName = cookies.get(\"DoozyLogin\").firstName;\n      lastName = cookies.get(\"DoozyLogin\").lastName;\n      loggedIn = \"successful\";\n\n      // extend the expiration date of the cookie\n      var aWeekFromNow = new Date();\n      aWeekFromNow.setDate(aWeekFromNow.getDate() + 7);\n      cookies.set(\n        \"DoozyLogin\",\n        {\n          email: username,\n          firstName: firstName,\n          lastName: lastName,\n        },\n        {\n          path: \"/\",\n          expires: aWeekFromNow,\n        }\n      );\n      docTitle = \"Lists | Doozy\";\n    }\n\n    // user has signed in previously\n    if (username !== \"\") {\n      // make a call to the DB to retrieve the user's settings\n      const url = domain + \"/getSettings\";\n      const body = JSON.stringify({\n        username: username,\n      });\n      fetch(url, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: body,\n      })\n        .then((res) => res.json())\n        .then((res) => {\n          var bgURL =\n            res.background === \"random\"\n              ? getRandomBGURL()\n              : 'url(\"' + res.background + '\")';\n\n          this.setState({\n            bgURL: bgURL,\n            username: username,\n            firstName: firstName,\n            lastName: lastName,\n            loggedIn: loggedIn,\n            docTitle: docTitle,\n            sorting: res.sorting,\n            keywords: res.keywords,\n            background: bgURL,\n          });\n        });\n    } else {\n      $(\"#login-register\").removeClass(\"d-none\");\n      this.setState({\n        username: username,\n        firstName: firstName,\n        lastName: lastName,\n        loggedIn: loggedIn,\n        docTitle: docTitle,\n        sorting: sorting,\n        bgURL: getRandomBGURL(),\n        background: background,\n        keywords: keywords,\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.state.loaded === false && this.state.loggedIn === \"successful\") {\n      this.setState({ loaded: true });\n      this.getLists();\n    }\n  }\n\n  verifyLogin(username, password, authType) {\n    console.log(\"verify login with\", username, password, authType);\n    const url = domain + \"/verifyLogin\";\n    const body = JSON.stringify({\n      username: username,\n      password: password,\n      authType: authType,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        // console.log(res);\n        if (res.success) {\n          this.setState({\n            docTitle: \"Lists | Doozy\",\n            loggedIn: \"successful\",\n            username: username,\n            firstName: res.firstName,\n            lastName: res.lastName,\n            sorting: res.sorting,\n            keywords: res.keywords,\n            background: res.background,\n          });\n          this.getLists();\n          // set a cookie\n          var aWeekFromNow = new Date();\n          aWeekFromNow.setDate(aWeekFromNow.getDate() + 7);\n          cookies.set(\n            \"DoozyLogin\",\n            {\n              email: username,\n              firstName: res.firstName,\n              lastName: res.lastName,\n            },\n            {\n              path: \"/\",\n              expires: aWeekFromNow,\n            }\n          );\n        } else if (res.info === \"username does not exist\")\n          this.setState({ loggedIn: \"username does not exist\" });\n        else if (res.info === \"auth type\")\n          this.setState({ loggedIn: \"auth type\", loginOrRegister: \"login\" });\n        else if (res.info === \"incorrect password\")\n          this.setState({ loggedIn: \"incorrect password\" });\n      });\n  }\n\n  createAccount(email, firstName, lastName, password, authType) {\n    if (email === \"\" || firstName === \"\" || lastName === \"\" || password === \"\")\n      this.setState({ registered: \"empty field(s)\" });\n    else if (!ValidateEmail(email))\n      this.setState({ registered: \"invalid email\" });\n    else if (password.length < 6)\n      this.setState({ registered: \"password length\" });\n    else {\n      const url = domain + \"/createAccount\";\n      const body = JSON.stringify({\n        username: email,\n        firstName: firstName,\n        lastName: lastName,\n        password: password,\n        authType: authType,\n      });\n\n      fetch(url, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: body,\n      })\n        .then((res) => res.json())\n        .then((res) => {\n          if (res.success) {\n            this.setState({\n              docTitle: \"Lists | Doozy\",\n              loggedIn: \"successful\",\n              registered: \"successful\",\n              username: email,\n              firstName: firstName,\n              lastName: lastName,\n              sorting: \"dates first\",\n              keywords: true,\n              background: \"random\",\n            });\n            this.getLists();\n            // set a cookie\n            var aWeekFromNow = new Date();\n            aWeekFromNow.setDate(aWeekFromNow.getDate() + 7);\n            cookies.set(\n              \"DoozyLogin\",\n              { email: email, firstName: firstName, lastName: lastName },\n              {\n                path: \"/\",\n                expires: aWeekFromNow,\n              }\n            );\n          } else if (res.info === \"username already exists\") {\n            this.setState({ registered: \"username already exists\" });\n          }\n        });\n    }\n  }\n\n  deleteAllCompletedItems(listName) {\n    if (\n      listName !== \"Today\" &&\n      listName !== \"Next 7 Days\" &&\n      listName !== \"All\"\n    ) {\n      var lists = this.state.lists.slice();\n\n      for (let i = 0; i < lists.length; i++) {\n        if (lists[i].name === listName) {\n          var items = lists[i].items;\n          var firstCompletedIndex = 0;\n          for (let j = 0; j < items.length; j++) {\n            if (items[j].completed) {\n              firstCompletedIndex = j;\n              break;\n            }\n          }\n          items = items.slice(0, firstCompletedIndex);\n          break;\n        }\n      }\n\n      const url = domain + \"/deleteCompletedItems\";\n      const body = JSON.stringify({\n        username: this.state.username,\n        listName: listName,\n      });\n\n      fetch(url, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: body,\n      })\n        .then((res) => res.json())\n        .then((res) => {\n          this.setState({ lists: lists });\n          this.getLists(\n            this.state.currentlySelectedListName,\n            this.state.currentlySelectedListIndex\n          );\n        });\n    }\n  }\n\n  setSelectedItem(itemID) {\n    this.setState({\n      currentlySelectedItemID: itemID,\n      addListOverlayDisplaying: false,\n    });\n  }\n\n  setSelectedList(listName) {\n    var index;\n\n    if (listName === \"Today\") index = this.state.lists.length - 3;\n    if (listName === \"Next 7 Days\") index = this.state.lists.length - 2;\n    if (listName === \"All\") index = this.state.lists.length - 1;\n    else {\n      for (let i = 0; i < this.state.lists.length; i++) {\n        if (this.state.lists[i].name === listName) {\n          index = i;\n          break;\n        }\n      }\n    }\n    this.setState({\n      currentlySelectedListName: listName,\n      currentlySelectedListIndex: index,\n      currentlySelectedItemID: \"\",\n      addListOverlayDisplaying: false,\n    });\n  }\n\n  toggleLoginRegister() {\n    if (this.state.loginOrRegister === \"login\")\n      this.setState({\n        docTitle: \"Sign Up | Doozy\",\n        loginOrRegister: \"register\",\n      });\n    else if (this.state.loginOrRegister === \"register\")\n      this.setState({\n        docTitle: \"Log In | Doozy\",\n        loginOrRegister: \"login\",\n      });\n  }\n\n  getCurrentlySelectedItem() {\n    if (this.state.currentlySelectedItemID === \"\")\n      return {\n        title: \"\",\n        description: \"\",\n        dueDate: \"\",\n        priority: \"\",\n        completed: false,\n        itemID: \"\",\n      };\n\n    var items = this.state.lists.slice(this.state.currentlySelectedListIndex)[0]\n      .items;\n\n    for (let i = 0; i < items.length; i++)\n      if (items[i].itemID === this.state.currentlySelectedItemID)\n        return items[i];\n\n    return {\n      title: \"\",\n      description: \"\",\n      dueDate: \"\",\n      priority: \"\",\n      completed: false,\n      itemID: \"\",\n    };\n  }\n\n  // for now assume we are getting the user's username from the props\n  // that are being passed in by a Login component (to be created)\n  getLists(currentlySelectedList, currentlySelectedListIndex) {\n    const url = domain + \"/getLists\";\n    const body = JSON.stringify({\n      username: this.state.username /*this.props.username*/,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        var lists = res;\n\n        lists = this.appendSmartLists(lists);\n\n        if (\n          currentlySelectedList !== undefined &&\n          currentlySelectedListIndex !== undefined\n        ) {\n          this.setState({\n            lists: lists,\n            currentlySelectedListIndex: currentlySelectedListIndex,\n            currentlySelectedListName: currentlySelectedList,\n          });\n        } else {\n          const index =\n            this.state.registered === \"successful\" ? 0 : lists.length - 1;\n          const name = lists[index].name;\n          this.setState({\n            lists: lists,\n            currentlySelectedListIndex: index,\n            currentlySelectedListName: name,\n          });\n        }\n      });\n  }\n\n  appendSmartLists(lists) {\n    var next7Days = this.getNext7Days(lists);\n    var today = this.getToday(lists);\n    var all = this.getAll(lists);\n\n    lists.push(today);\n    lists.push(next7Days);\n    lists.push(all);\n\n    return lists;\n  }\n\n  getNext7Days(lists) {\n    var next7Days = {\n      name: \"Next 7 Days\",\n      color: \"\",\n      items: [],\n    };\n\n    for (let i = 0; i < lists.length; i++) {\n      const items = lists[i].items;\n      for (let j = 0; j < items.length; j++) {\n        if (checkIfNext7Days(items[j].dueDate)) {\n          items[j].originalList = lists[i].name;\n          items[j].color = lists[i].color;\n          next7Days.items.push(items[j]);\n        }\n      }\n    }\n    var sortingFunction =\n      this.state.sorting === \"dates first\"\n        ? sortListItemsDatesFirst\n        : sortListItemsPrioritiesFirst;\n    next7Days.items.sort(sortingFunction);\n\n    return next7Days;\n  }\n\n  getAll(lists) {\n    var all = {\n      name: \"All\",\n      color: \"\",\n      items: [],\n    };\n\n    for (let i = 0; i < lists.length; i++) {\n      const items = lists[i].items;\n\n      for (let j = 0; j < items.length; j++) {\n        items[j].originalList = lists[i].name;\n        items[j].color = lists[i].color;\n      }\n\n      all.items = all.items.concat(lists[i].items);\n    }\n\n    var sortingFunction =\n      this.state.sorting === \"dates first\"\n        ? sortListItemsDatesFirst\n        : sortListItemsPrioritiesFirst;\n    all.items.sort(sortingFunction);\n\n    return all;\n  }\n\n  getToday(lists) {\n    var today = {\n      name: \"Today\",\n      color: \"\",\n      items: [],\n    };\n\n    var t = dateToStr(new Date());\n\n    for (let i = 0; i < lists.length; i++) {\n      const items = lists[i].items;\n      for (let j = 0; j < items.length; j++) {\n        if (items[j].dueDate === t) {\n          items[j].originalList = lists[i].name;\n          items[j].color = lists[i].color;\n          today.items.push(items[j]);\n        }\n      }\n    }\n    var sortingFunction =\n      this.state.sorting === \"dates first\"\n        ? sortListItemsDatesFirst\n        : sortListItemsPrioritiesFirst;\n    today.items.sort(sortingFunction);\n\n    return today;\n  }\n\n  addListItem(\n    listName,\n    title,\n    dueDate,\n    description,\n    priority,\n    color,\n    itemID,\n    completed\n  ) {\n    const lists = this.state.lists.slice();\n    var sortingFunction =\n      this.state.sorting === \"dates first\"\n        ? sortListItemsDatesFirst\n        : sortListItemsPrioritiesFirst;\n\n    var id = null;\n    var item = {\n      title: title,\n      description: description,\n      dueDate: dueDate,\n      priority: priority,\n      completed: completed === undefined ? false : completed,\n      originalList: listName,\n      color: color,\n      itemID: itemID === undefined ? new ObjectID().toString() : itemID,\n    };\n    for (let i = 0; i < lists.length; i++) {\n      if (lists[i].name === listName) {\n        const items = lists[i].items;\n        items.push(item);\n        id = item.itemID;\n\n        items.sort(sortingFunction);\n        break;\n      }\n    }\n\n    var today = dateToStr(new Date());\n    if (dueDate === today) {\n      lists[lists.length - 3].items.push(item);\n      lists[lists.length - 3].items.sort(sortingFunction);\n    }\n    if (checkIfNext7Days(dueDate)) {\n      lists[lists.length - 2].items.push(item);\n      lists[lists.length - 2].items.sort(sortingFunction);\n    }\n    lists[lists.length - 1].items.push(item);\n    lists[lists.length - 1].items.sort(sortingFunction);\n\n    this.setState({ lists: lists, currentlySelectedItemID: id });\n\n    const url = domain + \"/addListItem\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      listName: listName,\n      title: title,\n      dueDate: dueDate,\n      description: description,\n      priority: priority,\n      itemID: id,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    });\n  }\n\n  deleteListItem(listName, itemID, originalList) {\n    var dueDate = \"\";\n    var item;\n    const lists = this.state.lists.slice();\n    for (let i = 0; i < lists.length; i++) {\n      if (lists[i].name === listName || lists[i].name === originalList) {\n        var items = lists[i].items;\n        var idx = -1;\n        for (let j = 0; j < items.length; j++) {\n          if (items[j].itemID === itemID) {\n            idx = j;\n            dueDate = items[j].dueDate;\n            item = items[j];\n            break;\n          }\n        }\n        items = items.splice(idx, 1);\n      }\n    }\n\n    let index = -1;\n    var today = dateToStr(new Date());\n    if (dueDate === today) {\n      items = lists[lists.length - 3].items;\n      for (let j = 0; j < items.length; j++) {\n        if (items[j].itemID === itemID) {\n          index = j;\n          break;\n        }\n      }\n      items = items.splice(index, 1);\n    }\n    if (checkIfNext7Days(dueDate)) {\n      items = lists[lists.length - 2].items;\n      for (let j = 0; j < items.length; j++) {\n        if (items[j].itemID === itemID) {\n          index = j;\n          break;\n        }\n      }\n      items = items.splice(index, 1);\n    }\n    items = lists[lists.length - 1].items;\n    for (let j = 0; j < items.length; j++) {\n      if (items[j].itemID === itemID) {\n        index = j;\n        break;\n      }\n    }\n    items = items.splice(index, 1);\n\n    this.setState({\n      lists: lists,\n      currentlySelectedItemID: \"\",\n      lastDeletedItem: item,\n      lastDeletedItemListName: listName,\n    });\n\n    const url = domain + \"/deleteListItem\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      listName:\n        listName === \"All\" || listName === \"Next 7 Days\" || listName === \"Today\"\n          ? item.originalList\n          : listName,\n      itemID: itemID,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    }).then((res) => res.text());\n    this.handleDisplayNotification();\n  }\n\n  setItemTitle(listName, itemID, title) {\n    var lists = this.state.lists.slice();\n    var item = undefined;\n    for (let i = 0; i < lists.length; i++) {\n      if (lists[i].name === listName) {\n        const items = lists[i].items;\n        for (let j = 0; j < items.length; j++) {\n          if (items[j].itemID === itemID) {\n            items[j].title = title;\n            item = items[j];\n            break;\n          }\n        }\n        break;\n      }\n    }\n\n    if (item.originalList !== listName) {\n      for (let i = 0; i < lists.length; i++) {\n        if (lists[i].name === item.originalList) {\n          const items = lists[i].items;\n          for (let j = 0; j < items.length; j++) {\n            if (items[j].itemID === itemID) {\n              items[j].title = title;\n              break;\n            }\n          }\n          break;\n        }\n      }\n    }\n\n    lists = lists.slice(0, lists.length - 3);\n    lists = this.appendSmartLists(lists);\n\n    const url = domain + \"/setItemTitle\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      listName:\n        listName === \"All\" || listName === \"Next 7 Days\" || listName === \"Today\"\n          ? item.originalList\n          : listName,\n      itemID: itemID,\n      title: title,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    }).then((res) => res.text());\n  }\n\n  setItemCompleted(listName, itemID, completed) {\n    var sortingFunction =\n      this.state.sorting === \"dates first\"\n        ? sortListItemsDatesFirst\n        : sortListItemsPrioritiesFirst;\n    var lists = this.state.lists.slice();\n    var item = undefined;\n    for (let i = 0; i < lists.length; i++) {\n      if (lists[i].name === listName) {\n        const items = lists[i].items;\n        for (let j = 0; j < items.length; j++) {\n          if (items[j].itemID === itemID) {\n            items[j].completed = completed;\n            item = items[j];\n            items.sort(sortingFunction);\n            break;\n          }\n        }\n        break;\n      }\n    }\n\n    if (item.originalList !== listName) {\n      for (let i = 0; i < lists.length; i++) {\n        if (lists[i].name === item.originalList) {\n          const items = lists[i].items;\n          for (let j = 0; j < items.length; j++) {\n            if (items[j].itemID === itemID) {\n              items[j].completed = completed;\n              items.sort(sortingFunction);\n              break;\n            }\n          }\n          break;\n        }\n      }\n    }\n\n    lists = lists.slice(0, lists.length - 3);\n    lists = this.appendSmartLists(lists);\n\n    this.setState({ lists: lists });\n\n    const url = domain + \"/setItemCompleted\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      listName:\n        listName === \"All\" || listName === \"Next 7 Days\" || listName === \"Today\"\n          ? item.originalList\n          : listName,\n      itemID: itemID,\n      completed: completed,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    });\n  }\n\n  setItemDueDate(listName, itemID, dueDate) {\n    var sortingFunction =\n      this.state.sorting === \"dates first\"\n        ? sortListItemsDatesFirst\n        : sortListItemsPrioritiesFirst;\n    var lists = this.state.lists.slice();\n    var item = undefined;\n    for (let i = 0; i < lists.length; i++) {\n      if (lists[i].name === listName) {\n        const items = lists[i].items;\n        for (let j = 0; j < items.length; j++) {\n          if (items[j].itemID === itemID) {\n            items[j].dueDate = dueDate;\n            item = items[j];\n            items.sort(sortingFunction);\n            break;\n          }\n        }\n        break;\n      }\n    }\n\n    if (item.originalList !== listName) {\n      for (let i = 0; i < lists.length; i++) {\n        if (lists[i].name === item.originalList) {\n          const items = lists[i].items;\n          for (let j = 0; j < items.length; j++) {\n            if (items[j].itemID === itemID) {\n              items[j].dueDate = dueDate;\n              items.sort(sortingFunction);\n              break;\n            }\n          }\n          break;\n        }\n      }\n    }\n\n    lists = lists.slice(0, lists.length - 3);\n    lists = this.appendSmartLists(lists);\n\n    this.setState({ lists: lists });\n\n    const url = domain + \"/setItemDueDate\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      listName:\n        listName === \"All\" || listName === \"Next 7 Days\" || listName === \"Today\"\n          ? item.originalList\n          : listName,\n      itemID: itemID,\n      dueDate: dueDate,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    });\n  }\n\n  setItemPriority(listName, itemID, priority) {\n    var sortingFunction =\n      this.state.sorting === \"dates first\"\n        ? sortListItemsDatesFirst\n        : sortListItemsPrioritiesFirst;\n\n    var lists = this.state.lists.slice();\n    var item = undefined;\n    for (let i = 0; i < lists.length; i++) {\n      if (lists[i].name === listName) {\n        const items = lists[i].items;\n        for (let j = 0; j < items.length; j++) {\n          if (items[j].itemID === itemID) {\n            items[j].priority = priority;\n            item = items[j];\n            items.sort(sortingFunction);\n            break;\n          }\n        }\n        break;\n      }\n    }\n\n    if (item.originalList !== listName) {\n      for (let i = 0; i < lists.length; i++) {\n        if (lists[i].name === item.originalList) {\n          const items = lists[i].items;\n          for (let j = 0; j < items.length; j++) {\n            if (items[j].itemID === itemID) {\n              items[j].priority = priority;\n              items.sort(sortingFunction);\n              break;\n            }\n          }\n          break;\n        }\n      }\n    }\n\n    lists = lists.slice(0, lists.length - 3);\n    lists = this.appendSmartLists(lists);\n\n    this.setState({ lists: lists });\n\n    const url = domain + \"/setItemPriority\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      listName:\n        listName === \"All\" || listName === \"Next 7 Days\" || listName === \"Today\"\n          ? item.originalList\n          : listName,\n      itemID: itemID,\n      priority: priority,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    });\n  }\n\n  setItemDescription(listName, itemID, description) {\n    var lists = this.state.lists.slice();\n    var item = undefined;\n    for (let i = 0; i < lists.length; i++) {\n      if (lists[i].name === listName) {\n        const items = lists[i].items;\n        for (let j = 0; j < items.length; j++) {\n          if (items[j].itemID === itemID) {\n            items[j].description = description;\n            item = items[j];\n            break;\n          }\n        }\n        break;\n      }\n    }\n\n    if (item.originalList !== listName) {\n      for (let i = 0; i < lists.length; i++) {\n        if (lists[i].name === item.originalList) {\n          const items = lists[i].items;\n          for (let j = 0; j < items.length; j++) {\n            if (items[j].itemID === itemID) {\n              items[j].description = description;\n              break;\n            }\n          }\n          break;\n        }\n      }\n    }\n\n    this.setState({ lists: lists });\n\n    const url = domain + \"/setItemDescription\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      listName:\n        listName === \"All\" || listName === \"Next 7 Days\" || listName === \"Today\"\n          ? item.originalList\n          : listName,\n      itemID: itemID,\n      description: description,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    });\n  }\n\n  handleLogOut() {\n    // delete the cookie\n    cookies.remove(\"DoozyLogin\");\n\n    // const bgURL = getRandomBGURL();\n\n    // reset state back to start\n    this.setState({\n      docTitle: \"Log in | Doozy\",\n      loggedIn: \"not yet\",\n      registered: \"not yet\",\n      loginOrRegister: \"login\",\n      lists: [],\n      username: \"\",\n      currentlySelectedListIndex: 0,\n      currentlySelectedListName: \"\",\n      currentlySelectedItemID: \"\",\n      // bgURL: bgURL,\n      firstName: \"\",\n      lastName: \"\",\n      loaded: false,\n    });\n  }\n\n  createEmptyList(listName, color) {\n    var list = { name: listName, color: color, items: [] };\n    var lists = this.state.lists.slice();\n    lists.splice(lists.length - 3, 0, list);\n    this.setState({\n      lists: lists,\n      currentlySelectedListIndex: lists.length - 4,\n      currentlySelectedListName: listName,\n    });\n\n    const url = domain + \"/createEmptyList\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      listName: listName,\n      color: color,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    });\n  }\n\n  focusAddListOverlayTitleInput() {\n    this.addListTitleRef.current.focus();\n  }\n\n  focusEditListOverlayTitleInput() {\n    this.editListTitleRef.current.focus();\n  }\n\n  deleteList(listName) {\n    var idx = -1;\n    var lists = this.state.lists.slice();\n    for (let i = 0; i < lists.length; i++)\n      if (lists[i].name === listName) {\n        idx = i;\n        break;\n      }\n    lists.splice(idx, 1);\n\n    lists = lists.slice(0, lists.length - 3);\n    lists = this.appendSmartLists(lists);\n\n    this.setState({\n      lists: lists,\n      currentlySelectedItemID: \"\",\n      currentlySelectedListIndex: idx - 1 >= 0 ? idx - 1 : 2,\n      currentlySelectedListName:\n        idx - 1 >= 0 ? lists[idx - 1].name : lists[2].name,\n    });\n\n    const url = domain + \"/deleteList\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      listName: listName,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    });\n  }\n\n  editList(oldName, newName, color) {\n    var lists = this.state.lists.slice();\n\n    for (let i = 0; i < lists.length; i++) {\n      if (lists[i].name === oldName) {\n        lists[i].name = newName;\n        lists[i].color = color;\n        var items = lists[i].items;\n        for (let j = 0; j < items.length; j++) {\n          items[j].originalList = newName;\n          items[j].color = color;\n        }\n        break;\n      }\n    }\n\n    this.setState({ lists: lists });\n\n    const url = domain + \"/editList\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      oldName: oldName,\n      newName: newName,\n      color: color,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    });\n  }\n\n  handleDisplayNotification() {\n    if (this.state.notificationDisplaying === false) {\n      this.setState({ notificationDisplaying: true });\n      setTimeout(() => {\n        this.setState({ notificationDisplaying: false });\n      }, 4500);\n    } else {\n    }\n  }\n\n  handleShowAddListOverlay() {\n    this.setState({ addListOverlayDisplaying: true });\n    $(\".add-list-overlay-color-selected\").removeClass(\n      \".add-list-overlay-color-selected\"\n    );\n    this.addListTitleRef.current.value = \"\";\n    setTimeout(() => {\n      this.addListTitleRef.current.focus();\n    }, 500);\n  }\n\n  handleShowEditListOverlay(listName, color) {\n    this.setState({\n      editListOverlayDisplaying: true,\n      editListColor: color,\n      editListName: listName,\n    });\n\n    this.editListTitleRef.current.value = listName;\n\n    setTimeout(() => {\n      this.editListTitleRef.current.focus();\n    }, 500);\n  }\n\n  handleShowSettingsOverlay() {\n    this.setState({ settingsOverlayDisplaying: true });\n\n    setTimeout(() => {\n      this.settingsRef.current.focus();\n    }, 500);\n  }\n\n  handleHideAddListOverlay() {\n    this.setState({ addListOverlayDisplaying: false });\n  }\n\n  handleHideEditListOverlay() {\n    this.setState({\n      editListOverlayDisplaying: false,\n      editListColor: \"\",\n      editListName: \"\",\n    });\n  }\n\n  setBackgroundSetting(background) {\n    this.setState({\n      background: background,\n      bgURL: 'url(\"' + background + '\")',\n    });\n  }\n\n  setKeywordsSetting(keywordsEnabled) {\n    this.setState({ keywords: keywordsEnabled });\n\n    const url = domain + \"/setKeywordSetting\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      keywords: keywordsEnabled,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    });\n  }\n\n  setSortingSetting(sortingType) {\n    this.setState({ sorting: sortingType });\n\n    const url = domain + \"/setSortingSetting\";\n    const body = JSON.stringify({\n      username: this.state.username,\n      sorting: sortingType,\n    });\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: body,\n    }).then(() => {\n      this.getLists(\n        this.state.currentlySelectedListName,\n        this.state.currentlySelectedListIndex\n      );\n    });\n  }\n\n  render() {\n    document.title = this.state.docTitle;\n\n    const listArr = this.state.lists.slice(\n      this.state.currentlySelectedListIndex,\n      this.state.currentlySelectedListIndex + 1\n    );\n\n    var lastDeletedItemTitle = \"\";\n    if (this.state.lastDeletedItem !== undefined)\n      lastDeletedItemTitle = this.state.lastDeletedItem.title;\n\n    const selectedItem = this.getCurrentlySelectedItem();\n    const appClasses =\n      \"row align-items-center\" +\n      (this.state.loggedIn === \"successful\" ? \"\" : \" d-none\");\n    const loginRegClasses =\n      \"container-fluid align-items-center\" +\n      (this.state.loggedIn === \"successful\" ? \" d-none\" : \" d-flex \");\n\n    return (\n      <>\n        <div\n          id=\"login-register\"\n          style={{ backgroundImage: this.state.bgURL }}\n          className={loginRegClasses}\n        >\n          <div\n            className={\n              \"login-section\" +\n              (this.state.loginOrRegister === \"login\" ? \"\" : \" d-none\")\n            }\n          >\n            <Login\n              loginInfo={this.state.loggedIn}\n              verifyLogin={(username, password, authType) =>\n                this.verifyLogin(username, password, authType)\n              }\n              createAccount={(email, fName, lName, password, authType) =>\n                this.createAccount(email, fName, lName, password, authType)\n              }\n              switchToRegister={() => this.toggleLoginRegister()}\n            />\n          </div>\n          <div\n            className={\n              \"register-section\" +\n              (this.state.loginOrRegister === \"register\" ? \"\" : \" d-none\")\n            }\n          >\n            <Register\n              switchToLogin={() => this.toggleLoginRegister()}\n              verifyLogin={(username, password, authType) =>\n                this.verifyLogin(username, password, authType)\n              }\n              createAccount={(email, fName, lName, password, authType) =>\n                this.createAccount(email, fName, lName, password, authType)\n              }\n              registerInfo={this.state.registered}\n            />\n          </div>\n        </div>\n        <div\n          id=\"app\"\n          style={{ backgroundImage: this.state.bgURL }}\n          className={appClasses}\n          onKeyDown={(e) => {\n            if (e.keyCode === 27) {\n              if (this.state.addListOverlayDisplaying)\n                this.setState({ addListOverlayDisplaying: false });\n              else if (this.state.settingsOverlayDisplaying)\n                this.setState({ settingsOverlayDisplaying: false });\n              else if (this.state.editListOverlayDisplaying)\n                this.setState({ editListOverlayDisplaying: false });\n            }\n          }}\n        >\n          <AddListOverlay\n            id=\"addListOverlay\"\n            displaying={this.state.addListOverlayDisplaying}\n            addListTitleRef={this.addListTitleRef}\n            lists={this.state.lists}\n            hideOverlay={() => this.handleHideAddListOverlay()}\n            createList={(listName, color) =>\n              this.createEmptyList(listName, color)\n            }\n            focusTitleInput={() => this.focusAddListOverlayTitleInput()}\n          />\n          <EditListOverlay\n            id=\"editListOverlay\"\n            displaying={this.state.editListOverlayDisplaying}\n            editListTitleRef={this.editListTitleRef}\n            lists={this.state.lists}\n            hideOverlay={() => this.handleHideEditListOverlay()}\n            focusTitleInput={() => this.focusEditListOverlayTitleInput()}\n            startingName={this.state.editListName}\n            startingColor={this.state.editListColor}\n            editList={(oldName, newName, color) =>\n              this.editList(oldName, newName, color)\n            }\n          />\n          <SettingsOverlay\n            settingsRef={this.settingsRef}\n            displaying={this.state.settingsOverlayDisplaying}\n            sorting={this.state.sorting}\n            keywords={this.state.keywords}\n            background={this.state.background}\n            setKeywordsSetting={(keywords) => this.setKeywordsSetting(keywords)}\n            setSortingSetting={(sorting) => this.setSortingSetting(sorting)}\n            setBackgroundSetting={(bg) => this.setBackgroundSetting(bg)}\n            hideSettingsOverlay={() =>\n              this.setState({ settingsOverlayDisplaying: false })\n            }\n          />\n          <Notification\n            displaying={this.state.notificationDisplaying}\n            hideNotification={() =>\n              this.setState({ notificationDisplaying: false })\n            }\n            title={lastDeletedItemTitle}\n            undo={() => {\n              if (this.state.lastDeletedItem.itemID !== undefined) {\n                this.addListItem(\n                  this.state.lastDeletedItem.originalList,\n                  this.state.lastDeletedItem.title,\n                  this.state.lastDeletedItem.dueDate,\n                  this.state.lastDeletedItem.description,\n                  this.state.lastDeletedItem.priority,\n                  this.state.lastDeletedItem.color,\n                  this.state.lastDeletedItem.itemID,\n                  this.state.lastDeletedItem.completed\n                );\n              }\n            }}\n            listName={this.state.lastDeletedItemListName}\n            originalList={this.state.lastDeletedItem.originalList}\n          />\n          <div id=\"sidebar\" className=\"p-0\">\n            <Sidebar\n              username={this.state.username}\n              lists={this.state.lists}\n              firstName={this.state.firstName}\n              lastName={this.state.lastName}\n              currentlySelectedListName={this.state.currentlySelectedListName}\n              setSelectedList={(listName) => this.setSelectedList(listName)}\n              showAddListOverlay={() => this.handleShowAddListOverlay()}\n              deleteList={(listName) => this.deleteList(listName)}\n              showEditListOverlay={(listName, color) =>\n                this.handleShowEditListOverlay(listName, color)\n              }\n            />\n          </div>\n          {listArr.map((list, i) => {\n            return (\n              <React.Fragment key={list.name}>\n                <div id=\"todolist\" className=\"col-5\">\n                  <Todolist\n                    color={list.color}\n                    name={list.name}\n                    items={list.items}\n                    keywords={this.state.keywords}\n                    addListItem={(\n                      listName,\n                      title,\n                      dueDate,\n                      description,\n                      priority,\n                      color\n                    ) =>\n                      this.addListItem(\n                        listName,\n                        title,\n                        dueDate,\n                        description,\n                        priority,\n                        color\n                      )\n                    }\n                    deleteListItem={(listName, itemID, originalList) =>\n                      this.deleteListItem(listName, itemID, originalList)\n                    }\n                    setItemTitle={(listName, itemID, title) =>\n                      this.setItemTitle(listName, itemID, title)\n                    }\n                    setItemCompleted={(listName, itemID, completed) =>\n                      this.setItemCompleted(listName, itemID, completed)\n                    }\n                    setSelectedItem={(itemID) => this.setSelectedItem(itemID)}\n                    selectedItemID={this.state.currentlySelectedItemID}\n                    hideAddListOverlay={() => this.handleHideAddListOverlay()}\n                  />\n                </div>\n                <div id=\"details\" className=\"col-4\">\n                  <Details\n                    listName={list.name}\n                    selectedItemID={selectedItem.itemID}\n                    selectedItemColor={selectedItem.color}\n                    selectedItemList={selectedItem.originalList}\n                    selectedItemTitle={selectedItem.title}\n                    selectedItemDueDate={selectedItem.dueDate}\n                    selectedItemDescription={selectedItem.description}\n                    selectedItemPriority={selectedItem.priority}\n                    selectedItemCompleted={selectedItem.completed}\n                    setItemTitle={(listName, itemID, title) =>\n                      this.setItemTitle(listName, itemID, title)\n                    }\n                    setItemCompleted={(listName, itemID, completed) =>\n                      this.setItemCompleted(listName, itemID, completed)\n                    }\n                    setItemDueDate={(listName, itemID, dueDate) =>\n                      this.setItemDueDate(listName, itemID, dueDate)\n                    }\n                    setItemPriority={(listName, itemID, priority) =>\n                      this.setItemPriority(listName, itemID, priority)\n                    }\n                    setItemDescription={(listName, itemID, description) =>\n                      this.setItemDescription(listName, itemID, description)\n                    }\n                    handleDelete={(listName, itemID, originalList) =>\n                      this.deleteListItem(listName, itemID, originalList)\n                    }\n                    hideAddListOverlay={() => this.handleHideAddListOverlay()}\n                  />\n                </div>\n                <div className=\"col-1\"></div>\n                <div id=\"toolbar\" className=\"row col-1 justify-content-center\">\n                  <Toolbar\n                    handleLogOut={() => this.handleLogOut()}\n                    deleteAllCompletedItems={() => {\n                      this.deleteAllCompletedItems(\n                        this.state.currentlySelectedListName\n                      );\n                    }}\n                    currentlySelectedListName={\n                      this.state.currentlySelectedListName\n                    }\n                    handleShowSettingsOverlay={() =>\n                      this.handleShowSettingsOverlay()\n                    }\n                  />\n                </div>\n              </React.Fragment>\n            );\n          })}\n        </div>\n      </>\n    );\n  }\n}\n\nfunction sortListItemsDatesFirst(a, b) {\n  if (a.completed && !b.completed) return 1;\n  else if (!a.completed && b.completed) return -1;\n  else if (a.dueDate === \"\" && b.dueDate !== \"\") return 1;\n  else if (a.dueDate !== \"\" && b.dueDate === \"\") return -1;\n  else {\n    // both are either completed or incomplete or have a due date set or no due date set\n    if (a.dueDate === b.dueDate) {\n      // sort items due on the same day by priority\n      const priorities = [\"low\", \"medium\", \"high\"];\n      const priorityA = priorities.indexOf(a.priority);\n      const priorityB = priorities.indexOf(b.priority);\n\n      if (priorityA !== priorityB) return priorityB - priorityA;\n      else {\n        // sort by itemID\n        const itemIDA = a.itemID;\n        const itemIDB = b.itemID;\n        return itemIDA - itemIDB;\n      }\n    } else {\n      // sort items based on date\n      const dateA = new Date(a.dueDate + \" 00:00\");\n      const dateB = new Date(b.dueDate + \" 00:00\");\n      return dateA - dateB;\n    }\n  }\n}\n\nfunction sortListItemsPrioritiesFirst(a, b) {\n  if (a.completed && !b.completed) return 1;\n  else if (!a.completed && b.completed) return -1;\n  else {\n    // sort items by priority first\n    const priorities = [\"low\", \"medium\", \"high\"];\n    const priorityA = priorities.indexOf(a.priority);\n    const priorityB = priorities.indexOf(b.priority);\n    // if they have the same priority, sort by due date\n    if (priorityB === priorityA) {\n      if (a.dueDate === \"\" && b.dueDate !== \"\") return 1;\n      else if (a.dueDate !== \"\" && b.dueDate === \"\") return -1;\n\n      // sort items based on due date\n      const dateA = new Date(a.dueDate + \" 00:00\");\n      const dateB = new Date(b.dueDate + \" 00:00\");\n\n      if (a.dueDate !== b.dueDate) return dateA - dateB;\n      else {\n        // sort by itemID\n        const itemIDA = a.itemID;\n        const itemIDB = b.itemID;\n        return itemIDA - itemIDB;\n      }\n    } else return priorityB - priorityA;\n  }\n}\n\nfunction ValidateEmail(mail) {\n  if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(mail)) {\n    return true;\n  }\n  return false;\n}\n\nfunction getRandomBGURL() {\n  // visit https://freeimage.host/ to host more background images\n  const backgroundURLs = [\n    \"https://iili.io/J4xbBS.jpg\",\n    \"https://iili.io/J4xtQ2.jpg\",\n    \"https://iili.io/J4z92e.jpg\",\n    \"https://iili.io/J4zdpj.jpg\",\n    \"https://iili.io/J4zJkb.jpg\",\n    \"https://iili.io/J4zWZl.jpg\",\n    \"https://iili.io/J4Weln.jpg\",\n    \"https://iili.io/J4WhoN.jpg\",\n    \"https://iili.io/J4WOKX.jpg\",\n    \"https://iili.io/J4WUN4.jpg\",\n    \"https://iili.io/J4WgDl.jpg\",\n    \"https://iili.io/J4WmDQ.jpg\",\n    \"https://iili.io/J4X9WB.jpg\",\n    \"https://iili.io/J4XHiP.jpg\",\n    \"https://iili.io/J4WyxV.jpg\",\n    \"https://iili.io/JPNuGR.jpg\",\n    \"https://iili.io/JPN53N.jpg\",\n    \"https://iili.io/JPNTCv.jpg\",\n    \"https://iili.io/JiKSp4.jpg\",\n    \"https://iili.io/Jszxun.jpg\",\n    \"https://iili.io/JszAG4.jpg\",\n    \"https://iili.io/JszIZG.jpg\",\n    \"https://iili.io/Jszzjs.jpg\",\n    \"https://iili.io/Jszunf.jpg\",\n  ];\n  var currBackground = Math.floor(\n    Math.random() * Math.floor(backgroundURLs.length)\n  );\n\n  return 'url(\"' + backgroundURLs[currBackground] + '\")';\n}\n\nfunction dateToStr(date) {\n  var day = date.getDate();\n  if (day < 10) day = \"0\" + day.toString();\n\n  var month = date.getMonth() + 1;\n  if (month < 10) month = \"0\" + month.toString();\n\n  var year = date.getFullYear().toString();\n\n  var formatted = year + \"-\" + month + \"-\" + day;\n\n  return formatted;\n}\n\nfunction checkIfNext7Days(dateStr) {\n  var curr = new Date();\n  for (let i = 0; i < 7; i++) {\n    var d = dateToStr(curr);\n    if (dateStr === d) return true;\n    curr.setDate(curr.getDate() + 1);\n  }\n\n  d = dateToStr(curr);\n  if (dateStr === d) return true;\n\n  return false;\n}\n\nfunction Timer(callback, time) {\n  this.setTimeout(callback, time);\n}\n\nTimer.prototype.setTimeout = function (callback, time) {\n  var self = this;\n  if (this.timer) {\n    clearTimeout(this.timer);\n  }\n  this.finished = false;\n  this.callback = callback;\n  this.time = time;\n  this.timer = setTimeout(function () {\n    self.finished = true;\n    callback();\n  }, time);\n  this.start = Date.now();\n};\n\nTimer.prototype.add = function (time) {\n  if (!this.finished) {\n    // add time to time left\n    time = this.time - (Date.now() - this.start) + time;\n    this.setTimeout(this.callback, time);\n  }\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}